"use strict";(self.webpackChunk_finos_perspective_docs=self.webpackChunk_finos_perspective_docs||[]).push([[163],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return c}});var i=n(7294),a=n.n(i);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=a().createContext({}),d=function(e){var t=a().useContext(o),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},m=function(e){var t=d(e.components);return a().createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a().createElement(a().Fragment,{},t)}},k=a().forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),m=d(n),k=i,c=m["".concat(l,".").concat(k)]||m[k]||u[k]||r;return n?a().createElement(c,p(p({ref:t},o),{},{components:n})):a().createElement(c,p({ref:t},o))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=k;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:i,l[1]=p;for(var o=2;o<r;o++)l[o]=n[o];return a().createElement.apply(null,l)}return a().createElement.apply(null,n)}k.displayName="MDXCreateElement"},6015:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return k},frontMatter:function(){return p},metadata:function(){return o},toc:function(){return m}});var i=n(5773),a=n(808),r=(n(7294),n(3905)),l=["components"],p={id:"perspective-viewer",title:"perspective-viewer API"},s="@finos/perspective-viewer",o={unversionedId:"obj/perspective-viewer",id:"obj/perspective-viewer",title:"perspective-viewer API",description:"Module for the `` custom element.  This module has no",source:"@site/docs/obj/perspective-viewer.md",sourceDirName:"obj",slug:"/obj/perspective-viewer",permalink:"/docs/obj/perspective-viewer",draft:!1,tags:[],version:"current",frontMatter:{id:"perspective-viewer",title:"perspective-viewer API"},sidebar:"tutorialSidebar",previous:{title:"perspective API",permalink:"/docs/obj/perspective"},next:{title:"ExprTK Function Reference",permalink:"/docs/obj/perspective-viewer-exprtk"}},d={},m=[{value:"Table of contents",id:"table-of-contents",level:2},{value:"Classes",id:"classes",level:3},{value:"Interfaces",id:"interfaces",level:3},{value:"Type aliases",id:"type-aliases",level:3},{value:"Properties",id:"properties",level:3},{value:"Functions",id:"functions",level:3},{value:"Type aliases",id:"type-aliases-1",level:2},{value:"PerspectiveViewerConfig",id:"perspectiveviewerconfig",level:3},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties-1",level:2},{value:"default",id:"default",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"Functions",id:"functions-1",level:2},{value:"convert",id:"convert",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in-1",level:4},{value:"Hierarchy",id:"hierarchy",level:2},{value:"Table of contents",id:"table-of-contents-1",level:2},{value:"Data Methods",id:"data-methods",level:3},{value:"Internal Methods",id:"internal-methods",level:3},{value:"Persistence Methods",id:"persistence-methods",level:3},{value:"Plugin Methods",id:"plugin-methods",level:3},{value:"UI Action Methods",id:"ui-action-methods",level:3},{value:"Util Methods",id:"util-methods",level:3},{value:"Data Methods",id:"data-methods-1",level:2},{value:"getTable",id:"gettable",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-2",level:4},{value:"getView",id:"getview",level:3},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"load",id:"load",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"Internal Methods",id:"internal-methods-1",level:2},{value:"unsafe_get_model",id:"unsafe_get_model",level:3},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"getExprtkCommands",id:"getexprtkcommands",level:3},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"Persistence Methods",id:"persistence-methods-1",level:2},{value:"reset",id:"reset",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"restore",id:"restore",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"save",id:"save",level:3},{value:"Returns",id:"returns-8",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-9",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-10",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-11",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"Plugin Methods",id:"plugin-methods-1",level:2},{value:"getAllPlugins",id:"getallplugins",level:3},{value:"Returns",id:"returns-12",level:4},{value:"Defined in",id:"defined-in-13",level:4},{value:"getPlugin",id:"getplugin",level:3},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-13",level:4},{value:"Defined in",id:"defined-in-14",level:4},{value:"registerPlugin",id:"registerplugin",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-14",level:4},{value:"Defined in",id:"defined-in-15",level:4},{value:"UI Action Methods",id:"ui-action-methods-1",level:2},{value:"copy",id:"copy",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"Returns",id:"returns-15",level:4},{value:"Defined in",id:"defined-in-16",level:4},{value:"download",id:"download",level:3},{value:"Parameters",id:"parameters-11",level:4},{value:"Returns",id:"returns-16",level:4},{value:"Defined in",id:"defined-in-17",level:4},{value:"toggleConfig",id:"toggleconfig",level:3},{value:"Parameters",id:"parameters-12",level:4},{value:"Returns",id:"returns-17",level:4},{value:"Defined in",id:"defined-in-18",level:4},{value:"Util Methods",id:"util-methods-1",level:2},{value:"delete",id:"delete",level:3},{value:"Returns",id:"returns-18",level:4},{value:"Defined in",id:"defined-in-19",level:4},{value:"flush",id:"flush",level:3},{value:"Returns",id:"returns-19",level:4},{value:"Defined in",id:"defined-in-20",level:4},{value:"getEditPort",id:"geteditport",level:3},{value:"Returns",id:"returns-20",level:4},{value:"Defined in",id:"defined-in-21",level:4},{value:"notifyResize",id:"notifyresize",level:3},{value:"Parameters",id:"parameters-13",level:4},{value:"Returns",id:"returns-21",level:4},{value:"Defined in",id:"defined-in-22",level:4},{value:"resetThemes",id:"resetthemes",level:3},{value:"Parameters",id:"parameters-14",level:4},{value:"Returns",id:"returns-22",level:4},{value:"Defined in",id:"defined-in-23",level:4},{value:"restyleElement",id:"restyleelement",level:3},{value:"Returns",id:"returns-23",level:4},{value:"Defined in",id:"defined-in-24",level:4},{value:"setAutoSize",id:"setautosize",level:3},{value:"Parameters",id:"parameters-15",level:4},{value:"Returns",id:"returns-24",level:4},{value:"Defined in",id:"defined-in-25",level:4},{value:"setThrottle",id:"setthrottle",level:3},{value:"Parameters",id:"parameters-16",level:4},{value:"Returns",id:"returns-25",level:4},{value:"Defined in",id:"defined-in-26",level:4},{value:"Hierarchy",id:"hierarchy-1",level:2},{value:"Implemented by",id:"implemented-by",level:2},{value:"Table of contents",id:"table-of-contents-2",level:2},{value:"Accessors",id:"accessors",level:3},{value:"Methods",id:"methods",level:3},{value:"Accessors",id:"accessors-1",level:2},{value:"config_column_names",id:"config_column_names",level:3},{value:"Returns",id:"returns-26",level:4},{value:"Defined in",id:"defined-in-27",level:4},{value:"min_config_columns",id:"min_config_columns",level:3},{value:"Returns",id:"returns-27",level:4},{value:"Defined in",id:"defined-in-28",level:4},{value:"name",id:"name",level:3},{value:"Returns",id:"returns-28",level:4},{value:"Defined in",id:"defined-in-29",level:4},{value:"select_mode",id:"select_mode",level:3},{value:"Returns",id:"returns-29",level:4},{value:"Defined in",id:"defined-in-30",level:4},{value:"Methods",id:"methods-1",level:2},{value:"clear",id:"clear",level:3},{value:"Returns",id:"returns-30",level:4},{value:"Defined in",id:"defined-in-31",level:4},{value:"delete",id:"delete-1",level:3},{value:"Returns",id:"returns-31",level:4},{value:"Defined in",id:"defined-in-32",level:4},{value:"draw",id:"draw",level:3},{value:"Parameters",id:"parameters-17",level:4},{value:"Returns",id:"returns-32",level:4},{value:"Defined in",id:"defined-in-33",level:4},{value:"resize",id:"resize",level:3},{value:"Returns",id:"returns-33",level:4},{value:"Defined in",id:"defined-in-34",level:4},{value:"restore",id:"restore-1",level:3},{value:"Parameters",id:"parameters-18",level:4},{value:"Returns",id:"returns-34",level:4},{value:"Defined in",id:"defined-in-35",level:4},{value:"restyle",id:"restyle",level:3},{value:"Returns",id:"returns-35",level:4},{value:"Defined in",id:"defined-in-36",level:4},{value:"save",id:"save-1",level:3},{value:"Returns",id:"returns-36",level:4},{value:"Defined in",id:"defined-in-37",level:4},{value:"update",id:"update",level:3},{value:"Parameters",id:"parameters-19",level:4},{value:"Returns",id:"returns-37",level:4},{value:"Defined in",id:"defined-in-38",level:4}],u={toc:m};function k(e){var t=e.components,n=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"finosperspective-viewer"},"@finos/perspective-viewer"),(0,r.kt)("p",null,"Module for the ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," custom element.  This module has no\n(real) exports, but importing it has a side effect: the\n",(0,r.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerElement"),"class is registered as a custom element, after\nwhich it can be used as a standard DOM element."),(0,r.kt)("p",null,"Though ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," is written mostly in Rust, the nature\nof WebAssembly's compilation makes it a dynamic module;  in order to\nguarantee that the Custom Elements extension methods are registered\nsynchronously with this package's import, we need perform said registration\nwithin this wrapper module.  As a result, the API methods of the Custom\nElements are all ",(0,r.kt)("inlineCode",{parentName:"p"},"async")," (as they must await the wasm module instance)."),(0,r.kt)("p",null,"The documentation in this module defines the instance structure of a\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," DOM object instantiated typically, through HTML or any\nrelevent DOM method e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},'document.createElement("perspective-viewer")')," or\n",(0,r.kt)("inlineCode",{parentName:"p"},'document.getElementsByTagName("perspective-viewer")'),"."),(0,r.kt)("h2",{id:"table-of-contents"},"Table of contents"),(0,r.kt)("h3",{id:"classes"},"Classes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#HTMLPerspectiveViewerElement"},"HTMLPerspectiveViewerElement")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#HTMLPerspectiveViewerPluginElement"},"HTMLPerspectiveViewerPluginElement"))),(0,r.kt)("h3",{id:"interfaces"},"Interfaces"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#IPerspectiveViewerPlugin"},"IPerspectiveViewerPlugin"))),(0,r.kt)("h3",{id:"type-aliases"},"Type aliases"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#perspectiveviewerconfig"},"PerspectiveViewerConfig"))),(0,r.kt)("h3",{id:"properties"},"Properties"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#default"},"default"))),(0,r.kt)("h3",{id:"functions"},"Functions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#convert"},"convert"))),(0,r.kt)("h2",{id:"type-aliases-1"},"Type aliases"),(0,r.kt)("h3",{id:"perspectiveviewerconfig"},"PerspectiveViewerConfig"),(0,r.kt)("p",null,"\u01ac ",(0,r.kt)("strong",{parentName:"p"},"PerspectiveViewerConfig"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.ViewConfig")," & { ",(0,r.kt)("inlineCode",{parentName:"p"},"plugin?"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"plugin_config?"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"settings?"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean"),"  }"),(0,r.kt)("h4",{id:"defined-in"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L21"},"rust/perspective-viewer/src/ts/viewer.ts:21")),(0,r.kt)("h2",{id:"properties-1"},"Properties"),(0,r.kt)("h3",{id:"default"},"default"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"HTMLPerspectiveViewerElement")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"#%60HTMLPerspectiveViewerElement%60"},(0,r.kt)("inlineCode",{parentName:"a"},"HTMLPerspectiveViewerElement")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"HTMLPerspectiveViewerPluginElement")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"#%60HTMLPerspectiveViewerPluginElement%60"},(0,r.kt)("inlineCode",{parentName:"a"},"HTMLPerspectiveViewerPluginElement")))))),(0,r.kt)("h2",{id:"functions-1"},"Functions"),(0,r.kt)("h3",{id:"convert"},"convert"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"convert"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"old"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Record"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"unknown"),">"," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"ArrayBuffer")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"A migration utility for ",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-workspace")," persisted state objects.  If you have an\napplication which persists tokens returned by the ",(0,r.kt)("inlineCode",{parentName:"p"},".save()")," method of a\nPerspective Custom Element, and you want to upgrade Perspective to the latest\nversion, this module is for you!  You know who you are!"),(0,r.kt)("p",null,"Say you have a ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," Custom Element from\n",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer>=0.8.3"),", and have persisted an arbitrary persistence\ntoken object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const old_elem = document.querySelector("perspective-viewer");\nconst old_token = await old_elem.save();\n')),(0,r.kt)("p",null,"To migrate this token to the version of ",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-migrate")," itself:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import {convert} from "@finos/perspective-viewer`;\n\n// ...\n\nconst new_elem = document.querySelector("perspective-viewer");\nconst new_token = convert(old_token);\nawait new_elem.restore(new_token);\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"convert")," can also be imported in node for converting persisted tokens\noutside the browser."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const {convert} = require("@finos/perspective-viewer/dist/cjs/migrate.js");\n')),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"old")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ArrayBuffer")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"Record"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"unknown"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"the layout to convert, in ",(0,r.kt)("inlineCode",{parentName:"td"},"<perspective-viewer>")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"<perspective-workspace>")," format.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PerspectiveConvertOptions")),(0,r.kt)("td",{parentName:"tr",align:"left"},"a ",(0,r.kt)("inlineCode",{parentName:"td"},"PerspectiveConvertOptions")," object specifying the convert options for this call.")))),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Record"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"unknown"),">"," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"ArrayBuffer")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"a layout for either ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," or\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-workspace>"),", updated to the perspective version of this\nscript's package."),(0,r.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/migrate.ts#L52"},"rust/perspective-viewer/src/ts/migrate.ts:52")),(0,r.kt)("h1",{id:"class-htmlperspectiveviewerelement"},"Class: HTMLPerspectiveViewerElement"),(0,r.kt)("p",null,"The Custom Elements implementation for ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),", as well at its\nAPI.  ",(0,r.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerElement")," should not be constructed directly (like its\nparent class ",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement"),");  instead, use ",(0,r.kt)("inlineCode",{parentName:"p"},"document.createElement()")," or\ndeclare your ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," element in HTML.  Once instantiated,\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," works just like a standard ",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement"),", with a few\nextra perspective-specific methods."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.createElement("perspective-viewer");\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'document.body.innerHTML = `\n    <perspective-viewer id="viewer"></perspective-viewer>\n`;\nconst viewer = document.body.querySelector("#viewer");\n')),(0,r.kt)("h2",{id:"hierarchy"},"Hierarchy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement")),(0,r.kt)("p",{parentName:"li"},"\u21b3 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"HTMLPerspectiveViewerElement"))))),(0,r.kt)("h2",{id:"table-of-contents-1"},"Table of contents"),(0,r.kt)("h3",{id:"data-methods"},"Data Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#gettable"},"getTable")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getview"},"getView")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#load"},"load"))),(0,r.kt)("h3",{id:"internal-methods"},"Internal Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#unsafe_get_model"},"unsafe","_","get","_","model")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getexprtkcommands"},"getExprtkCommands"))),(0,r.kt)("h3",{id:"persistence-methods"},"Persistence Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#reset"},"reset")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#restore"},"restore")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#save"},"save"))),(0,r.kt)("h3",{id:"plugin-methods"},"Plugin Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getallplugins"},"getAllPlugins")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getplugin"},"getPlugin")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#registerplugin"},"registerPlugin"))),(0,r.kt)("h3",{id:"ui-action-methods"},"UI Action Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#copy"},"copy")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#download"},"download")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#toggleconfig"},"toggleConfig"))),(0,r.kt)("h3",{id:"util-methods"},"Util Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#delete"},"delete")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#flush"},"flush")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#geteditport"},"getEditPort")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#notifyresize"},"notifyResize")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#resetthemes"},"resetThemes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#restyleelement"},"restyleElement")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#setautosize"},"setAutoSize")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#setthrottle"},"setThrottle"))),(0,r.kt)("h2",{id:"data-methods-1"},"Data Methods"),(0,r.kt)("h3",{id:"gettable"},"getTable"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getTable"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"wait_for_table?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Table"),">"),(0,r.kt)("p",null,"Returns the ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.Table()")," which was supplied to ",(0,r.kt)("inlineCode",{parentName:"p"},"load()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Share a ",(0,r.kt)("inlineCode",{parentName:"p"},"Table")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewers = document.querySelectorAll("perspective-viewer");\nconst [viewer1, viewer2] = Array.from(viewers);\nconst table = await viewer1.getTable();\nawait viewer2.load(table);\n')),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"wait_for_table?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to await ",(0,r.kt)("inlineCode",{parentName:"td"},"load()")," if it has not yet been invoked, or fail immediately.")))),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Table"),">"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," which resolves to a ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.Table")),(0,r.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L201"},"rust/perspective-viewer/src/ts/viewer.ts:201")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getview"},"getView"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getView"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"View"),">"),(0,r.kt)("p",null,"Returns the underlying ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.View")," currently configured for this\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),".  Because ownership of the ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.View")," is\nmainainted by the ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," it was created by, this ",(0,r.kt)("inlineCode",{parentName:"p"},"View"),"\nmay become deleted (invalidated by calling ",(0,r.kt)("inlineCode",{parentName:"p"},"delete()"),") at any time -\nspecifically, it will be deleted whenever the ",(0,r.kt)("inlineCode",{parentName:"p"},"PerspectiveViewConfig"),"\nchanges.  Because of this, when using this API, prefer calling\n",(0,r.kt)("inlineCode",{parentName:"p"},"getView()")," repeatedly over caching the returned ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.View"),",\nespecially in ",(0,r.kt)("inlineCode",{parentName:"p"},"async")," contexts."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Collapse grid to root"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst view = await viewer.getView();\nawait view.set_depth(0);\n')),(0,r.kt)("h4",{id:"returns-2"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"View"),">"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," which ressolves to a ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.View"),"."),(0,r.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L226"},"rust/perspective-viewer/src/ts/viewer.ts:226")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"load"},"load"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"load"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"table"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Load a ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.Table"),".  If ",(0,r.kt)("inlineCode",{parentName:"p"},"load")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"update")," have already been\ncalled on this element, its internal ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.Table")," will ",(0,r.kt)("em",{parentName:"p"},"not")," be\ndeleted, but it will bed de-referenced by this ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Load perspective.table"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const my_viewer = document.getElementById('#my_viewer');\nconst tbl = perspective.table(\"x,y\\n1,a\\n2,b\");\nmy_viewer.load(tbl);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Load Promise","<","perspective.table",">"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const my_viewer = document.getElementById('#my_viewer');\nconst tbl = perspective.table(\"x,y\\n1,a\\n2,b\");\nmy_viewer.load(tbl);\n")),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"table")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Table")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"Table"),">")))),(0,r.kt)("h4",{id:"returns-3"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"A promise which resolves once the data is\nloaded, a ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.View")," has been created, and the active plugin has\nrendered."),(0,r.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L132"},"rust/perspective-viewer/src/ts/viewer.ts:132")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"internal-methods-1"},"Internal Methods"),(0,r.kt)("h3",{id:"unsafe_get_model"},"unsafe","_","get","_","model"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"unsafe_get_model"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"number"),">"),(0,r.kt)("p",null,"Get the raw pointer to this ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," WASM model, such that\nit may be passed back to WASM function calls that take a\n",(0,r.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerElement")," as an argument."),(0,r.kt)("h4",{id:"returns-4"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"number"),">"),(0,r.kt)("p",null,"A pointer to this model"),(0,r.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L558"},"rust/perspective-viewer/src/ts/viewer.ts:558")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getexprtkcommands"},"getExprtkCommands"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("strong",{parentName:"p"},"getExprtkCommands"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Record"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),">","[]",">"),(0,r.kt)("p",null,"Get metadata for ExprTK's supported commands."),(0,r.kt)("h4",{id:"returns-5"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Record"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),">","[]",">"),(0,r.kt)("p",null,"An array of JSON descriptors for ExprTK commands"),(0,r.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L569"},"rust/perspective-viewer/src/ts/viewer.ts:569")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"persistence-methods-1"},"Persistence Methods"),(0,r.kt)("h3",{id:"reset"},"reset"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"reset"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"all?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Reset's this element's view state and attributes to default.  Does not\ndelete this element's ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.table")," or otherwise modify the data\nstate."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nawait viewer.reset();\n')),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Default value"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"all")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Should ",(0,r.kt)("inlineCode",{parentName:"td"},"expressions")," param be reset as well, defaults to")))),(0,r.kt)("h4",{id:"returns-6"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L345"},"rust/perspective-viewer/src/ts/viewer.ts:345")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"restore"},"restore"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"restore"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"config"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Restore this element to a state as generated by a reciprocal call to\n",(0,r.kt)("inlineCode",{parentName:"p"},"save"),".  In ",(0,r.kt)("inlineCode",{parentName:"p"},"json")," (default) format, ",(0,r.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig"),"'s fields\nhave specific semantics:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When a key is missing, this field is ignored;  ",(0,r.kt)("inlineCode",{parentName:"li"},"<perspective-viewer>"),"\nwill maintain whatever settings for this field is currently applied."),(0,r.kt)("li",{parentName:"ul"},"When the key is supplied, but the value is ",(0,r.kt)("inlineCode",{parentName:"li"},"undefined"),", the field is\nreset to its default value for this current ",(0,r.kt)("inlineCode",{parentName:"li"},"View"),", i.e. the state it\nwould be in after ",(0,r.kt)("inlineCode",{parentName:"li"},"load()")," resolves."),(0,r.kt)("li",{parentName:"ul"},"When the key is defined to a value, the value is applied for this\nfield.")),(0,r.kt)("p",null,"This behavior is convenient for explicitly controlling current vs desired\nUI state in a single request, but it does make it a bit inconvenient to\nuse ",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")," to reset a ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," to default as you must\ndo so explicitly for each key;  for this case, use ",(0,r.kt)("inlineCode",{parentName:"p"},"reset()")," instead of\nrestore."),(0,r.kt)("p",null,"As noted in ",(0,r.kt)("inlineCode",{parentName:"p"},"save()"),", this configuration state does not include the\n",(0,r.kt)("inlineCode",{parentName:"p"},"Table")," or its ",(0,r.kt)("inlineCode",{parentName:"p"},"Schema"),".  In order for ",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")," to work correctly, it\nmust be called on a ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," that has a ",(0,r.kt)("inlineCode",{parentName:"p"},"Table already\n"),"load()",(0,r.kt)("inlineCode",{parentName:"p"},"-ed, with the same (or a type-compatible superset) "),"Schema`.\nIt does not need have the same rows, or even be populated."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Restore a viewer from ",(0,r.kt)("inlineCode",{parentName:"p"},"localStorage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst token = localStorage.getItem("viewer_state");\nawait viewer.restore(token);\n')),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"config")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("a",{parentName:"td",href:"#perspectiveviewerconfig"},(0,r.kt)("inlineCode",{parentName:"a"},"PerspectiveViewerConfig"))," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ArrayBuffer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"returned by ",(0,r.kt)("inlineCode",{parentName:"td"},"save()"),".  This can be any format returned by ",(0,r.kt)("inlineCode",{parentName:"td"},"save()"),"; the specific deserialization is chosen by ",(0,r.kt)("inlineCode",{parentName:"td"},"typeof config"),".")))),(0,r.kt)("h4",{id:"returns-7"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"A promise which resolves when the changes have been applied and\nrendered."),(0,r.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L269"},"rust/perspective-viewer/src/ts/viewer.ts:269")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"save"},"save"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"save"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"#perspectiveviewerconfig"},(0,r.kt)("inlineCode",{parentName:"a"},"PerspectiveViewerConfig")),">"),(0,r.kt)("p",null,"Serialize this element's attribute/interaction state, but ",(0,r.kt)("em",{parentName:"p"},"not")," the\n",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.Table")," or its ",(0,r.kt)("inlineCode",{parentName:"p"},"Schema"),".  ",(0,r.kt)("inlineCode",{parentName:"p"},"save()")," is designed to be used in\nconjunction with ",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")," to persist user settings and bookmarks, but\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig")," object returned in ",(0,r.kt)("inlineCode",{parentName:"p"},"json")," format can also\nbe written by hand quite easily, which is useful for authoring\npre-conceived configs."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Save a viewer to ",(0,r.kt)("inlineCode",{parentName:"p"},"localStorage")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst token = await viewer.save("string");\nlocalStorage.setItem("viewer_state", token);\n')),(0,r.kt)("h4",{id:"returns-8"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"#perspectiveviewerconfig"},(0,r.kt)("inlineCode",{parentName:"a"},"PerspectiveViewerConfig")),">"),(0,r.kt)("p",null,"a serialized element in the chosen format."),(0,r.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L296"},"rust/perspective-viewer/src/ts/viewer.ts:296")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"save"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"format"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"#perspectiveviewerconfig"},(0,r.kt)("inlineCode",{parentName:"a"},"PerspectiveViewerConfig")),">"),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"format")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},'"json"'))))),(0,r.kt)("h4",{id:"returns-9"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"#perspectiveviewerconfig"},(0,r.kt)("inlineCode",{parentName:"a"},"PerspectiveViewerConfig")),">"),(0,r.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L297"},"rust/perspective-viewer/src/ts/viewer.ts:297")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"save"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"format"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),">"),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"format")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},'"arraybuffer"'))))),(0,r.kt)("h4",{id:"returns-10"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),">"),(0,r.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L298"},"rust/perspective-viewer/src/ts/viewer.ts:298")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"save"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"format"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"format")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},'"string"'))))),(0,r.kt)("h4",{id:"returns-11"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,r.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L299"},"rust/perspective-viewer/src/ts/viewer.ts:299")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"plugin-methods-1"},"Plugin Methods"),(0,r.kt)("h3",{id:"getallplugins"},"getAllPlugins"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getAllPlugins"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement"),"[]",">"),(0,r.kt)("p",null,"Get all plugin custom element instances, in order of registration."),(0,r.kt)("p",null,"If no plugins have been registered (via ",(0,r.kt)("inlineCode",{parentName:"p"},"registerPlugin()"),"), calling\n",(0,r.kt)("inlineCode",{parentName:"p"},"getAllPlugins()")," will cause ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective-viewer-plugin")," to be registered\nas a side effect."),(0,r.kt)("h4",{id:"returns-12"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement"),"[]",">"),(0,r.kt)("p",null,"An ",(0,r.kt)("inlineCode",{parentName:"p"},"Array")," of the plugin instances for this\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"."),(0,r.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L544"},"rust/perspective-viewer/src/ts/viewer.ts:544")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getplugin"},"getPlugin"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getPlugin"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"name?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement"),">"),(0,r.kt)("p",null,"Get the currently active plugin custom element instance, or a specific\nnamed instance if requested.  ",(0,r.kt)("inlineCode",{parentName:"p"},"getPlugin(name)")," does not activate the\nplugin requested, so if this plugin is not active the returned\n",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement")," will not have a ",(0,r.kt)("inlineCode",{parentName:"p"},"parentElement"),"."),(0,r.kt)("p",null,"If no plugins have been registered (via ",(0,r.kt)("inlineCode",{parentName:"p"},"registerPlugin()"),"), calling\n",(0,r.kt)("inlineCode",{parentName:"p"},"getPlugin()")," will cause ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective-viewer-plugin")," to be registered as\na side effect."),(0,r.kt)("h4",{id:"parameters-8"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"name?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Optionally a specific plugin name, defaulting to the current active plugin.")))),(0,r.kt)("h4",{id:"returns-13"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement"),">"),(0,r.kt)("p",null,"The active or requested plugin instance."),(0,r.kt)("h4",{id:"defined-in-14"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L527"},"rust/perspective-viewer/src/ts/viewer.ts:527")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"registerplugin"},"registerPlugin"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("strong",{parentName:"p"},"registerPlugin"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"name"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Register a new plugin via its custom element name.  This method is called\nautomatically as a side effect of importing a plugin module, so this\nmethod should only typically be called by plugin authors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'customElements.get("perspective-viewer").registerPlugin("my-plugin");\n')),(0,r.kt)("h4",{id:"parameters-9"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The ",(0,r.kt)("inlineCode",{parentName:"td"},"name")," of the custom element to register, as supplied to the ",(0,r.kt)("inlineCode",{parentName:"td"},"customElements.define(name)")," method.")))),(0,r.kt)("h4",{id:"returns-14"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-15"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L104"},"rust/perspective-viewer/src/ts/viewer.ts:104")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"ui-action-methods-1"},"UI Action Methods"),(0,r.kt)("h3",{id:"copy"},"copy"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"copy"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"flat"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Copies this element's view data (as a CSV) to the clipboard.  This method\nmust be called from an event handler, subject to the browser's\nrestrictions on clipboard access.  See\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/clipboard-apis/#allow-read-clipboard"},"https://www.w3.org/TR/clipboard-apis/#allow-read-clipboard"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst button = document.querySelector("button");\nbutton.addEventListener("click", async () => {\n    await viewer.copy();\n});\n')),(0,r.kt)("h4",{id:"parameters-10"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"flat")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},'Whether to use the element\'s current view config, or to use a default "flat" view.')))),(0,r.kt)("h4",{id:"returns-15"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-16"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L394"},"rust/perspective-viewer/src/ts/viewer.ts:394")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"download"},"download"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"download"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"flat"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Download this element's data as a CSV file."),(0,r.kt)("h4",{id:"parameters-11"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"flat")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},'Whether to use the element\'s current view config, or to use a default "flat" view.')))),(0,r.kt)("h4",{id:"returns-16"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-17"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L371"},"rust/perspective-viewer/src/ts/viewer.ts:371")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"toggleconfig"},"toggleConfig"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"toggleConfig"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"force?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Opens/closes the element's config menu, equivalent to clicking the\nsettings button in the UI.  This method is equivalent to\n",(0,r.kt)("inlineCode",{parentName:"p"},"viewer.restore({settings: force})")," when ",(0,r.kt)("inlineCode",{parentName:"p"},"force")," is present, but\n",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")," cannot toggle as ",(0,r.kt)("inlineCode",{parentName:"p"},"toggleConfig()")," can, you would need to\nfirst read the settings state from ",(0,r.kt)("inlineCode",{parentName:"p"},"save()")," otherwise."),(0,r.kt)("p",null,"Calling ",(0,r.kt)("inlineCode",{parentName:"p"},"toggleConfig()")," may be delayed if an async render is currently\nin process, and it may only partially render the UI if ",(0,r.kt)("inlineCode",{parentName:"p"},"load()")," has not\nyet resolved."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await viewer.toggleConfig();\n")),(0,r.kt)("h4",{id:"parameters-12"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"force?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},'If supplied, explicitly set the config state to "open" (',(0,r.kt)("inlineCode",{parentName:"td"},"true"),') or "closed" (',(0,r.kt)("inlineCode",{parentName:"td"},"false"),").")))),(0,r.kt)("h4",{id:"returns-17"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-18"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L507"},"rust/perspective-viewer/src/ts/viewer.ts:507")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"util-methods-1"},"Util Methods"),(0,r.kt)("h3",{id:"delete"},"delete"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"delete"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Deletes this element and clears it's internal state (but not its\nuser state).  This (or the underlying ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.view"),"'s equivalent\nmethod) must be called in order for its memory to be reclaimed, as well\nas the reciprocal method on the ",(0,r.kt)("inlineCode",{parentName:"p"},"perspective.table")," which this viewer is\nbound to."),(0,r.kt)("h4",{id:"returns-18"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-19"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L359"},"rust/perspective-viewer/src/ts/viewer.ts:359")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"flush"},"flush"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"flush"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Flush any pending modifications to this ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),".  Since\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"'s API is almost entirely ",(0,r.kt)("inlineCode",{parentName:"p"},"async"),", it may take\nsome milliseconds before any method call such as ",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")," affects\nthe rendered element.  If you want to make sure any invoked method which\naffects the rendered has had its results rendered, call and await\n",(0,r.kt)("inlineCode",{parentName:"p"},"flush()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Flush an unawaited ",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nviewer.restore({group_by: ["State"]});\nawait viewer.flush();\nconsole.log("Viewer has been rendered with a pivot!");\n')),(0,r.kt)("h4",{id:"returns-19"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"A promise which resolves when the current\npending state changes have been applied and rendered."),(0,r.kt)("h4",{id:"defined-in-20"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L327"},"rust/perspective-viewer/src/ts/viewer.ts:327")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"geteditport"},"getEditPort"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getEditPort"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"number"),">"),(0,r.kt)("p",null,"Gets the edit port, the port number for which ",(0,r.kt)("inlineCode",{parentName:"p"},"Table")," updates from this\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," are generated.  This port number will be present\nin the options object for a ",(0,r.kt)("inlineCode",{parentName:"p"},"View.on_update()")," callback for any update\nwhich was originated by the ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"/user, which can be\nused to distinguish server-originated updates from user edits."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst editport = await viewer.getEditPort();\nconst table = await viewer.getTable();\nconst view = await table.view();\nview.on_update(obj => {\n    if (obj.port_id = editport) {\n        console.log("User edit detected");\n    }\n});\n')),(0,r.kt)("h4",{id:"returns-20"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"number"),">"),(0,r.kt)("p",null,"A promise which resolves to the current edit port."),(0,r.kt)("h4",{id:"defined-in-21"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L462"},"rust/perspective-viewer/src/ts/viewer.ts:462")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"notifyresize"},"notifyResize"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"notifyResize"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"force?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Redraw this ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," and plugin when its dimensions or\nvisibility has been updated.  By default, ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," will\nauto-size when its own dimensions change, so this method need not be\ncalled;  when disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"setAutoSize(false)")," however, this method\n",(0,r.kt)("em",{parentName:"p"},"must")," be called, and will not respond to dimension or style changes to\nits parent container otherwise.  ",(0,r.kt)("inlineCode",{parentName:"p"},"notifyResize()")," does not recalculate\nthe current ",(0,r.kt)("inlineCode",{parentName:"p"},"View"),", but all plugins will re-request the data window\n(which itself may be smaller or larger due to resize)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Bind ",(0,r.kt)("inlineCode",{parentName:"p"},"notfyResize()")," to browser dimensions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nviewer.setAutoSize(false);\nwindow.addEventListener("resize", () => viewer.notifyResize());\n')),(0,r.kt)("h4",{id:"parameters-13"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Default value"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"force")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to re-render, even if the dimenions have not changed.  When set to ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," and auto-size is enabled (the defaults), calling this method will automatically disable auto-size.")))),(0,r.kt)("h4",{id:"returns-21"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise<void>")," which resolves when this resize event has\nfinished rendering."),(0,r.kt)("h4",{id:"defined-in-22"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L162"},"rust/perspective-viewer/src/ts/viewer.ts:162")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"resetthemes"},"resetThemes"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"resetThemes"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"themes?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Sets the theme names available via the ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," status bar\nUI.  Typically these will be auto-detected simply by including the\ntheme ",(0,r.kt)("inlineCode",{parentName:"p"},".css")," in a ",(0,r.kt)("inlineCode",{parentName:"p"},"<link>")," tag;  however, auto-detection can fail if\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"<link>")," tag is not a same-origin request due to CORS.  For servers\nconfigured to allow cross-origin requests, you can use the\n",(0,r.kt)("a",{parentName:"p",href:"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-crossorigin"},(0,r.kt)("inlineCode",{parentName:"a"},"crossorigin")," attribute"),"\nto enable detection, e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},'<link crossorigin="anonymous" .. >'),".  If for\nwhatever reason auto-detection still fails, you may set the themes via\nthis method.  Note the theme ",(0,r.kt)("inlineCode",{parentName:"p"},".css")," must still be loaded in this case -\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"resetThemes()")," method only lets the ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," know what\ntheme names are available."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nawait viewer.resetThemes(["Material Light", "Material Dark"]);\n')),(0,r.kt)("h4",{id:"parameters-14"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"themes?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"A list of theme names to use, or auto-detect from document's stylesheets if ",(0,r.kt)("inlineCode",{parentName:"td"},"undefined"),".")))),(0,r.kt)("h4",{id:"returns-22"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-23"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L435"},"rust/perspective-viewer/src/ts/viewer.ts:435")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"restyleelement"},"restyleElement"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"restyleElement"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Restyles the elements and to pick up any style changes.  While most of\nperspective styling is plain CSS and can be updated at any time, some\nCSS rules are read and cached, e.g. the series colors for\n",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer-d3fc")," which are read from CSS then reapplied\nas SVG and Canvas attributes."),(0,r.kt)("h4",{id:"returns-23"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-24"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L408"},"rust/perspective-viewer/src/ts/viewer.ts:408")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"setautosize"},"setAutoSize"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"setAutoSize"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"autosize?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Determines the auto-size behavior.  When ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," (the default), this\nelement will re-render itself whenever its own dimensions change,\nutilizing a ",(0,r.kt)("inlineCode",{parentName:"p"},"ResizeObserver"),";  when ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", you must explicitly call\n",(0,r.kt)("inlineCode",{parentName:"p"},"notifyResize()")," when the element's dimensions have changed."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Disable auto-size"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await viewer.setAutoSize(false);\n")),(0,r.kt)("h4",{id:"parameters-15"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Default value"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"autosize")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to re-render when this element's dimensions change.")))),(0,r.kt)("h4",{id:"returns-24"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-25"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L181"},"rust/perspective-viewer/src/ts/viewer.ts:181")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"setthrottle"},"setThrottle"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"setThrottle"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"value?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Determines the render throttling behavior. Can be an integer, for\nmillisecond window to throttle render event; or, if ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),",\nwill try to determine the optimal throttle time from this component's\nrender framerate."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))," Limit FPS to 1 frame per second"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await viewer.setThrottle(1000);\n")),(0,r.kt)("h4",{id:"parameters-16"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"value?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:"left"},"an optional throttle rate in milliseconds (integer).  If not supplied, adaptive throttling is calculated from the average plugin render time.")))),(0,r.kt)("h4",{id:"returns-25"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-26"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/viewer.ts#L483"},"rust/perspective-viewer/src/ts/viewer.ts:483")),(0,r.kt)("h1",{id:"interface-iperspectiveviewerplugin"},"Interface: IPerspectiveViewerPlugin"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"IPerspectiveViewerPlugin")," interface defines the necessary API for a\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," plugin, which also must be an ",(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement")," via the\nCustom Elements API or otherwise.  Rather than implement this API from\nscratch however, the simplest way is to inherit from\n",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer-plugin>"),", which implements ",(0,r.kt)("inlineCode",{parentName:"p"},"IPerspectiveViewerPlugin"),"\nwith non-offensive default implementations, where only the ",(0,r.kt)("inlineCode",{parentName:"p"},"draw()")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"name()")," methods need be overridden to get started with a simple plugin."),(0,r.kt)("p",null,"Note that plugins are frozen once a ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," has been\ninstantiated, so generally new plugin code must be executed at the module\nlevel (if packaged as a library), or during application init to ensure global\navailability of a plugin."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const BasePlugin = customElements.get("perspective-viewer-plugin");\nclass MyPlugin extends BasePlugin {\n    get name() {\n        return "My Plugin";\n    }\n    async draw(view) {\n        const count = await view.num_rows();\n        this.innerHTML = `View has ${count} rows`;\n    }\n}\n\ncustomElements.define("my-plugin", MyPlugin);\nconst Viewer = customElements.get("perspective-viewer");\nViewer.registerPlugin("my-plugin");\n')),(0,r.kt)("h2",{id:"hierarchy-1"},"Hierarchy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"HTMLElement")),(0,r.kt)("p",{parentName:"li"},"\u21b3 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"IPerspectiveViewerPlugin"))))),(0,r.kt)("h2",{id:"implemented-by"},"Implemented by"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%60HTMLPerspectiveViewerPluginElement%60"},(0,r.kt)("inlineCode",{parentName:"a"},"HTMLPerspectiveViewerPluginElement")))),(0,r.kt)("h2",{id:"table-of-contents-2"},"Table of contents"),(0,r.kt)("h3",{id:"accessors"},"Accessors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#config_column_names"},"config","_","column","_","names")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#min_config_columns"},"min","_","config","_","columns")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#name"},"name")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#select_mode"},"select","_","mode"))),(0,r.kt)("h3",{id:"methods"},"Methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#clear"},"clear")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#delete"},"delete")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#draw"},"draw")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#resize"},"resize")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#restore"},"restore")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#restyle"},"restyle")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#save"},"save")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#update"},"update"))),(0,r.kt)("h2",{id:"accessors-1"},"Accessors"),(0,r.kt)("h3",{id:"config_column_names"},"config","_","column","_","names"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"get")," ",(0,r.kt)("strong",{parentName:"p"},"config_column_names"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"[]"),(0,r.kt)("p",null,"The named column labels, if desired.  Named columns behave differently\nin drag/drop mode than unnamed columns, having replace/swap behavior\nrather than insert.  If provided, the length of ",(0,r.kt)("inlineCode",{parentName:"p"},"config_column_names"),"\n",(0,r.kt)("em",{parentName:"p"},"must")," be ",(0,r.kt)("inlineCode",{parentName:"p"},">= min_config_columns"),", as this is assumed by the drag/drop\nlogic."),(0,r.kt)("h4",{id:"returns-26"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string"),"[]"),(0,r.kt)("h4",{id:"defined-in-27"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L80"},"rust/perspective-viewer/src/ts/plugin.ts:80")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"min_config_columns"},"min","_","config","_","columns"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"get")," ",(0,r.kt)("strong",{parentName:"p"},"min_config_columns"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"number")),(0,r.kt)("p",null,"The minimum number of columns required for this plugin to operate.\nThis mostly affects drag/drop and column remove button behavior,\npreventing the use from applying configs which violate this min."),(0,r.kt)("p",null,"While this option can technically be ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," (as in the case of\n",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer-datagrid"),"), doing so currently has nearly\nidentical behavior to 1."),(0,r.kt)("h4",{id:"returns-27"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"number")),(0,r.kt)("h4",{id:"defined-in-28"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L71"},"rust/perspective-viewer/src/ts/plugin.ts:71")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"name"},"name"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"get")," ",(0,r.kt)("strong",{parentName:"p"},"name"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"The name for this plugin, which is used as both it's unique key for use\nas a parameter for the ",(0,r.kt)("inlineCode",{parentName:"p"},"plugin")," field of a ",(0,r.kt)("inlineCode",{parentName:"p"},"ViewerConfig"),", and as the\ndisplay name for this plugin in the ",(0,r.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," UI."),(0,r.kt)("h4",{id:"returns-28"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("h4",{id:"defined-in-29"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L52"},"rust/perspective-viewer/src/ts/plugin.ts:52")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"select_mode"},"select","_","mode"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"get")," ",(0,r.kt)("strong",{parentName:"p"},"select_mode"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},'"select"')," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},'"toggle"')),(0,r.kt)("p",null,"Select mode determines how column add/remove buttons behave for this\nplugin.  ",(0,r.kt)("inlineCode",{parentName:"p"},'"select"')," mode exclusively selects the added column, removing\nother columns.  ",(0,r.kt)("inlineCode",{parentName:"p"},'"toggle"')," mode toggles the column on or off (dependent\non column state), leaving existing columns alone."),(0,r.kt)("h4",{id:"returns-29"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},'"select"')," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},'"toggle"')),(0,r.kt)("h4",{id:"defined-in-30"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L60"},"rust/perspective-viewer/src/ts/plugin.ts:60")),(0,r.kt)("h2",{id:"methods-1"},"Methods"),(0,r.kt)("h3",{id:"clear"},"clear"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"clear"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Clear this plugin, though it is up to the discretion of the plugin\nauthor to determine what this means.  Defaults to resetting this\nelement's ",(0,r.kt)("inlineCode",{parentName:"p"},"innerHTML"),", so be sure to override if you want custom\nbehavior."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'async clear(): Promise<void> {\n    this.innerHTML = "";\n}\n')),(0,r.kt)("h4",{id:"returns-30"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-31"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L124"},"rust/perspective-viewer/src/ts/plugin.ts:124")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"delete-1"},"delete"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"delete"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Free any resources acquired by this plugin and prepare to be deleted."),(0,r.kt)("h4",{id:"returns-31"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-32"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L159"},"rust/perspective-viewer/src/ts/plugin.ts:159")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"draw"},"draw"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"draw"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"view"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Render this plugin using the provided ",(0,r.kt)("inlineCode",{parentName:"p"},"View"),".  While there is no\nprovision to cancel a render in progress per se, calling a method on\na ",(0,r.kt)("inlineCode",{parentName:"p"},"View")," which has been deleted will throw an exception."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"async draw(view: perspective.View): Promise<void> {\n    const csv = await view.to_csv();\n    this.innerHTML = `<pre>${csv}</pre>`;\n}\n")),(0,r.kt)("h4",{id:"parameters-17"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"view")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"View"))))),(0,r.kt)("h4",{id:"returns-32"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-33"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L95"},"rust/perspective-viewer/src/ts/plugin.ts:95")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"resize"},"resize"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"resize"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Like ",(0,r.kt)("inlineCode",{parentName:"p"},"update()"),", but for when the dimensions of the plugin have changed\nand the underlying data has not."),(0,r.kt)("h4",{id:"returns-33"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-34"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L130"},"rust/perspective-viewer/src/ts/plugin.ts:130")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"restore-1"},"restore"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"restore"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"config"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Restore this plugin to a state previously returned by ",(0,r.kt)("inlineCode",{parentName:"p"},"save()"),"."),(0,r.kt)("h4",{id:"parameters-18"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"config")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any"))))),(0,r.kt)("h4",{id:"returns-34"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-35"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L154"},"rust/perspective-viewer/src/ts/plugin.ts:154")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"restyle"},"restyle"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"restyle"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Notify the plugin that the style environment has changed.  Useful for\nplugins which read CSS styles via ",(0,r.kt)("inlineCode",{parentName:"p"},"window.getComputedStyle()"),"."),(0,r.kt)("h4",{id:"returns-35"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-36"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L136"},"rust/perspective-viewer/src/ts/plugin.ts:136")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"save-1"},"save"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"save"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,r.kt)("p",null,"Save this plugin's state to a JSON-serializable value.  While this value\ncan be anything, it should work reciprocally with ",(0,r.kt)("inlineCode",{parentName:"p"},"restore()")," to return\nthis plugin's renderer to the same state, though potentially with a\ndifferent ",(0,r.kt)("inlineCode",{parentName:"p"},"View"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"save()")," should be used for user-persistent settings that are\ndata-agnostic, so the user can have persistent view during refresh or\nreload.  For example, ",(0,r.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer-d3fc")," uses\n",(0,r.kt)("inlineCode",{parentName:"p"},"plugin_config")," to remember the user-repositionable legend coordinates."),(0,r.kt)("h4",{id:"returns-36"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,r.kt)("h4",{id:"defined-in-37"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L149"},"rust/perspective-viewer/src/ts/plugin.ts:149")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"update"},"update"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"update"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"view"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Draw under the assumption that the ",(0,r.kt)("inlineCode",{parentName:"p"},"ViewConfig")," has not changed since\nthe previous call to ",(0,r.kt)("inlineCode",{parentName:"p"},"draw()"),", but the underlying data has.  Defaults to\ndispatch to ",(0,r.kt)("inlineCode",{parentName:"p"},"draw()"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"async update(view: perspective.View): Promise<void> {\n    return this.draw(view);\n}\n")),(0,r.kt)("h4",{id:"parameters-19"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"view")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"View"))))),(0,r.kt)("h4",{id:"returns-37"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"defined-in-38"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/f199550af/rust/perspective-viewer/src/ts/plugin.ts#L109"},"rust/perspective-viewer/src/ts/plugin.ts:109")))}k.isMDXComponent=!0}}]);
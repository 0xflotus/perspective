/*! For license information please see index.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(){return(()=>{var t,e,n={8537:(t,e)=>{e.Q=[{name:"Default",config:{}},{name:"Group By 1",config:{group_by:["Sub-Category"]},aggregates:"dominant"},{name:"Group By 2",config:{group_by:["Category","Sub-Category"]}},{name:"Split By",config:{split_by:["Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Split By 2",config:{split_by:["Category","Sub-Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Both",config:{group_by:["Region"],split_by:["Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Both 2",config:{group_by:["Region","State"],split_by:["Category","Sub-Category"],columns:["Sales","Quantity","Discount","Profit"]}},{name:"Background Row And Split By",config:{group_by:["State"],split_by:["Sub-Category"],columns:["Profit"],sort:[["Profit","col asc"]],plugin_config:{columns:{Profit:{number_color_mode:"background"}}}}},{name:"Gradient Row And Split By",config:{group_by:["State"],split_by:["Sub-Category"],columns:["Profit"],sort:[["Profit","col asc"]],plugin_config:{columns:{Profit:{number_color_mode:"gradient",gradient:1600}}}}},{name:"BackgBarround Row And Split By",config:{group_by:["State"],split_by:["Sub-Category"],columns:["Sales"],aggregates:{Sales:"avg"},plugin_config:{columns:{Sales:{number_color_mode:"bar",gradient:600}}}}},{name:"Foreground Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Background Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{number_color_mode:"background",pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{number_color_mode:"background",pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{number_color_mode:"background",pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Gradient Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{number_color_mode:"gradient",gradient:600,pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{number_color_mode:"gradient",gradient:2268,pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{number_color_mode:"gradient",gradient:.8,pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Bar Colors",config:{columns:["Category","Sales","Discount","Profit","Sub-Category","Order Date"],plugin_config:{columns:{Profit:{number_color_mode:"bar",gradient:600,pos_color:"#32cd82",neg_color:"#f50fed"},Sales:{number_color_mode:"bar",gradient:2268,pos_color:"#780aff",neg_color:"#f5ac0f"},Discount:{number_color_mode:"bar",gradient:.8,pos_color:"#f5ac0f",neg_color:"#780aff"}}},sort:[["Sub-Category","desc"]]}},{name:"Thermometer",config:{group_by:["State"],columns:["Profit (-)","Profit","Profit (+)"],plugin_config:{columns:{"Profit (-)":{number_color_mode:"bar",gradient:1e4},Profit:{number_color_mode:"gradient",gradient:1e4},"Profit (+)":{number_color_mode:"bar",gradient:1e4}}},expressions:['//Profit (-)\nif("Profit"<0){"Profit"}else{0}','//Profit (+)\nif("Profit">0){"Profit"}else{0}']}},{name:"Y Bar",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Sales"]}},{name:"Y Bar, Sorted Desc By Y-Axis",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Row And Split By",config:{plugin:"Y Bar",group_by:["Sub-Category"],split_by:["Ship Mode"],columns:["Sales"]}},{name:"Y Bar - Group By 2 Sorted",config:{plugin:"Y Bar",group_by:["Category","Sub-Category"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Group By 2 And Split By Sorted",config:{plugin:"Y Bar",group_by:["Category","Sub-Category"],split_by:["Category"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Group By 2 And 2 Split By Sorted",config:{plugin:"Y Bar",group_by:["Category","Sub-Category"],split_by:["Category","Region"],columns:["Sales"],sort:[["Sales","desc"]]}},{name:"Y Bar - Group By 2 And 2 Split By Sorted 2",config:{plugin:"Y Bar",group_by:["State"],split_by:["Profit (-/+)"],columns:["Profit"],expressions:['//Profit (-/+)\nif("Profit"<0){1}else{0}'],sort:[["Profit","desc"]]},viewport:{width:600,height:450}},{name:"Y Bar Multi Axis",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Quantity","Sales"],aggregates:{Sales:"avg"},sort:[["Sales","desc"]]}},{name:"Y Bar Multi Axis - SPlit",config:{plugin:"Y Bar",group_by:["Sub-Category"],columns:["Quantity","Sales"],sort:[["Sales","desc"]],aggregates:{Sales:"avg"},plugin_config:{splitMainValues:["Sales"]}}},{name:"X Bar",config:{plugin:"X Bar",group_by:["Sub-Category"],columns:["Sales"]}},{name:"X Bar",config:{plugin:"X Bar",group_by:["Sub-Category"],columns:["Quantity","Profit"]}},{name:"X Bar, Sorted Desc By X-Axis",config:{plugin:"X Bar",group_by:["Sub-Category"],columns:["Sales"],sort:[["Sales","asc"]]}},{name:"X Bar - Row And Split By",config:{plugin:"X Bar",group_by:["Sub-Category"],split_by:["Region"],columns:["Sales"]}},{name:"X Bar - Row And Split By",config:{plugin:"X Bar",group_by:["Sub-Category"],split_by:["Region"],columns:["Sales"],sort:[["Sales","asc"]]}},{name:"Y Line - Datetime Axis",config:{plugin:"Y Line",group_by:["Order Date"],columns:["Sales"]}},{name:"Y Line - Datetime Axis",config:{plugin:"Y Line",group_by:["Order Date"],split_by:["Segment"],columns:["Sales"]}},{name:"Y Line - Datetime Axis Computed",config:{plugin:"Y Line",group_by:["bucket(\"Order Date\", 'M')"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Line - Datetime Axis",config:{plugin:"Y Line",group_by:["bucket(\"Order Date\", 'M')"],split_by:["bucket(\"Order Date\", 'Y')"],expressions:["bucket(\"Order Date\", 'M')","bucket(\"Order Date\", 'Y')"],columns:["Sales"]}},{name:"Y Line - Datetime Axis And Split By",config:{plugin:"Y Line",group_by:["bucket(\"Order Date\", 'M')"],split_by:["Region"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Line - Category Axis",config:{plugin:"Y Line",group_by:["State"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Y Line - Category Axis",config:{plugin:"Y Line",group_by:["State"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Line - Row and Split By",config:{plugin:"Y Line",group_by:["State"],split_by:["Segment"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Line - Multi Axis Split",config:{plugin:"Y Line",group_by:["State"],columns:["Sales","Profit"],plugin_config:{splitMainValues:["Sales"]},sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Line - Multi Axis Split",config:{plugin:"Y Line",group_by:["State"],split_by:["Segment"],columns:["Sales","Profit"],plugin_config:{splitMainValues:["Sales"]},sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Area - Datetime Axis Computed",config:{plugin:"Y Area",group_by:["bucket(\"Order Date\", 'M')"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Area - Datetime Axis",config:{plugin:"Y Area",group_by:["bucket(\"Order Date\", 'M')"],split_by:["bucket(\"Order Date\", 'Y')"],expressions:["bucket(\"Order Date\", 'M')","bucket(\"Order Date\", 'Y')"],columns:["Sales"]}},{name:"Y Area - Datetime Axis And Split By",config:{plugin:"Y Area",group_by:["bucket(\"Order Date\", 'M')"],split_by:["Region"],expressions:["bucket(\"Order Date\", 'M')"],columns:["Sales"]}},{name:"Y Area - Category Axis",config:{plugin:"Y Area",group_by:["State"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Y Area - Row and Split By",config:{plugin:"Y Area",group_by:["State"],split_by:["Ship Mode"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Y Area - 2 Group By",config:{plugin:"Y Area",group_by:["Region","State"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Area - Row and Split By",config:{plugin:"Y Area",group_by:["Region","State"],split_by:["Region"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"Y Area - Row and Split By 2",config:{plugin:"Y Area",group_by:["Region","State"],split_by:["Ship Mode"],columns:["Sales"],sort:[["Sales","desc"]]},viewport:{width:600,height:450}},{name:"X/Y Scatter",config:{plugin:"X/Y Scatter",group_by:["City"],columns:["Sales","Quantity"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}}},{name:"X/Y Scatter - Split By",config:{plugin:"X/Y Scatter",group_by:["City"],split_by:["Region"],columns:["Sales","Quantity"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}}},{name:"X/Y Scatter - Color By Float",config:{plugin:"X/Y Scatter",group_by:["State"],columns:["Sales","Quantity","Profit"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"},sort:[["Profit","desc"]]}},{name:"X/Y Scatter - Bubble",config:{plugin:"X/Y Scatter",group_by:["Sub-Category"],columns:["Sales","Quantity",null,"Profit"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Bubble",config:{plugin:"X/Y Scatter",group_by:["Sub-Category"],split_by:["Category"],columns:["Sales","Quantity",null,"Profit"],aggregates:{Sales:"avg",Profit:"avg",Quantity:"avg"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Bubble",config:{plugin:"X/Y Scatter",group_by:["Sub-Category"],columns:["Sales","Quantity","Profit","Row ID"],sort:[["Profit","desc"]],aggregates:{Sales:"avg",Profit:"sum",Quantity:"avg","Row ID":"avg"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Category Y Axis",config:{plugin:"X/Y Scatter",columns:["Profit","State",null,"Quantity"],group_by:["City"],aggregates:{State:"dominant"}},viewport:{width:600,height:450}},{name:"X/Y Scatter - Category Y Axis And Size And Color",config:{plugin:"X/Y Scatter",columns:["State","Sub-Category","Quantity","Sales",null],group_by:["State","Sub-Category"],aggregates:{State:"dominant","Sub-Category":"dominant",Profit:"low"}},viewport:{width:600,height:450}},{name:"X/Y Line",config:{columns:["Sales","Profit"],plugin:"X/Y Line",aggregates:{"Order Date":"dominant",Sales:"avg",Profit:"avg"},group_by:["State"],sort:[["Profit","desc"],["Sales","desc"]],split_by:["Region"]}},{name:"Treemap",config:{plugin:"Treemap",group_by:["Sub-Category"],columns:["Sales"]}},{name:"Treemap - 2 Group By",config:{plugin:"Treemap",group_by:["Category","Sub-Category","Segment"],columns:["Sales"]}},{name:"Treemap - Float Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],columns:["Sales","Quantity"],sort:[["Quantity","desc"]]}},{name:"Treemap - Category Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],columns:["Sales","Category"],aggregates:{Category:"dominant"}}},{name:"Treemap - Row And Split By Float Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Quantity"],sort:[["Quantity","desc"]]},viewport:{width:800,height:600}},{name:"Treemap - Row And Split By Category Color",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Region"],aggregates:{Region:"dominant"}},viewport:{width:800,height:600}},{name:"Treemap - Row And Split By Category Color 2",config:{plugin:"Treemap",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Category"],aggregates:{Category:"dominant"}},viewport:{width:800,height:600}},{name:"Sunburst",config:{plugin:"Sunburst",group_by:["Sub-Category"],columns:["Sales"]}},{name:"Sunburst - 2 Group By",config:{plugin:"Sunburst",group_by:["Category","Sub-Category","Segment"],columns:["Sales"]}},{name:"Sunburst - Float Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],columns:["Quantity","Sales"],sort:[["Quantity","desc"]]}},{name:"Sunburst - Category Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],columns:["Sales","Category"],aggregates:{Category:"dominant"}}},{name:"Sunburst - Row And Split By",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales"]},viewport:{width:600,height:450}},{name:"Sunburst - Row And Split By Float Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Quantity"]},viewport:{width:600,height:450}},{name:"Sunburst - Row And Split By Category Color",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Region"],aggregates:{Region:"dominant"}},viewport:{width:600,height:450}},{name:"Sunburst - Row And Split By Category Color 2",config:{plugin:"Sunburst",group_by:["Category","Sub-Category"],split_by:["Region"],columns:["Sales","Category"],aggregates:{Category:"dominant"}},viewport:{width:600,height:450}},{name:"Heatmap",config:{plugin:"Heatmap",group_by:["Sub-Category"],split_by:["Region"],columns:["Profit"],sort:[["Profit","desc"],["Profit","col desc"]]}},{name:"Heatmap 2",config:{plugin:"Heatmap",group_by:["State"],split_by:["Sub-Category"],columns:["Profit"],sort:[["Profit","desc"],["Profit","col desc"]]},viewport:{width:600,height:450}},{name:"Heatmap 3",config:{columns:["Discount"],plugin:"Heatmap",expressions:["bucket(\"Order Date\", 'M')"],aggregates:{"Order Date":"dominant",Sales:"avg"},split_by:["Sub-Category"],group_by:["bucket(\"Order Date\", 'M')"],sort:[["Discount","col asc"]]},viewport:{width:600,height:450}},{name:"Heatmap 4",config:{plugin:"Heatmap",columns:["Profit"],expressions:['bucket("Profit", 100)',"bucket(\"Order Date\", 'M')"],group_by:["bucket(\"Order Date\", 'M')"],split_by:['bucket("Profit", 100)'],plugin_config:{}},viewport:{width:600,height:450}}]},9505:(t,e,n)=>{"use strict";n.r(e);var r=Uint8Array,i=Uint16Array,a=Uint32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var n=new i(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var o=new a(n[30]);for(r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)o[l]=l-n[r]<<5|r;return[n,o]},u=s(o,2),f=u[0],d=u[1];f[28]=258,d[258]=28;for(var h=s(l,0),g=h[0],p=(h[1],new i(32768)),_=0;_<32768;++_){var b=(43690&_)>>>1|(21845&_)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,p[_]=((65280&b)>>>8|(255&b)<<8)>>>1}var m=function(t,e,n){for(var r=t.length,a=0,o=new i(e);a<r;++a)t[a]&&++o[t[a]-1];var l,c=new i(e);for(a=0;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;if(n){l=new i(1<<e);var s=15-e;for(a=0;a<r;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],d=c[t[a]-1]++<<f,h=d|(1<<f)-1;d<=h;++d)l[p[d]>>>s]=u}else for(l=new i(r),a=0;a<r;++a)t[a]&&(l[a]=p[c[t[a]-1]++]>>>15-t[a]);return l},v=new r(288);for(_=0;_<144;++_)v[_]=8;for(_=144;_<256;++_)v[_]=9;for(_=256;_<280;++_)v[_]=7;for(_=280;_<288;++_)v[_]=8;var y=new r(32);for(_=0;_<32;++_)y[_]=5;var w=m(v,9,1),x=m(y,5,1),S=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},M=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},k=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},A=function(t){return(t+7)/8|0},C=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var o=new(t instanceof i?i:t instanceof a?a:r)(n-e);return o.set(t.subarray(e,n)),o},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,e,n){var r=new Error(e||T[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},N=new r(0),V=function(){function t(t){this.s={},this.p=new r(0),this.ondata=t}return t.prototype.e=function(t){this.ondata||E(5),this.d&&E(4);var e=this.p.length,n=new r(e+t.length);n.set(this.p),n.set(t,e),this.p=n},t.prototype.c=function(t){this.d=this.s.i=t||!1;var e=this.s.b,n=function(t,e,n){var i=t.length;if(!i||n&&n.f&&!n.l)return e||new r(0);var a=!e||n,s=!n||n.i;n||(n={}),e||(e=new r(3*i));var u=function(t){var n=e.length;if(t>n){var i=new r(Math.max(2*n,t));i.set(e),e=i}},d=n.f||0,h=n.p||0,p=n.b||0,_=n.l,b=n.d,v=n.m,y=n.n,T=8*i;do{if(!_){d=M(t,h,1);var N=M(t,h+1,3);if(h+=3,!N){var V=t[(F=A(h)+4)-4]|t[F-3]<<8,D=F+V;if(D>i){s&&E(0);break}a&&u(p+V),e.set(t.subarray(F,D),p),n.b=p+=V,n.p=h=8*D,n.f=d;continue}if(1==N)_=w,b=x,v=9,y=5;else if(2==N){var P=M(t,h,31)+257,z=M(t,h+10,15)+4,O=P+M(t,h+5,31)+1;h+=14;for(var L=new r(O),I=new r(19),B=0;B<z;++B)I[c[B]]=M(t,h+3*B,7);h+=3*z;var R=S(I),Y=(1<<R)-1,j=m(I,R,1);for(B=0;B<O;){var F,Z=j[M(t,h,Y)];if(h+=15&Z,(F=Z>>>4)<16)L[B++]=F;else{var H=0,U=0;for(16==F?(U=3+M(t,h,3),h+=2,H=L[B-1]):17==F?(U=3+M(t,h,7),h+=3):18==F&&(U=11+M(t,h,127),h+=7);U--;)L[B++]=H}}var W=L.subarray(0,P),q=L.subarray(P);v=S(W),y=S(q),_=m(W,v,1),b=m(q,y,1)}else E(1);if(h>T){s&&E(0);break}}a&&u(p+131072);for(var $=(1<<v)-1,G=(1<<y)-1,X=h;;X=h){var Q=(H=_[k(t,h)&$])>>>4;if((h+=15&H)>T){s&&E(0);break}if(H||E(2),Q<256)e[p++]=Q;else{if(256==Q){X=h,_=null;break}var K=Q-254;if(Q>264){var J=o[B=Q-257];K=M(t,h,(1<<J)-1)+f[B],h+=J}var tt=b[k(t,h)&G],et=tt>>>4;if(tt||E(3),h+=15&tt,q=g[et],et>3&&(J=l[et],q+=k(t,h)&(1<<J)-1,h+=J),h>T){s&&E(0);break}a&&u(p+131072);for(var nt=p+K;p<nt;p+=4)e[p]=e[p-q],e[p+1]=e[p+1-q],e[p+2]=e[p+2-q],e[p+3]=e[p+3-q];p=nt}}n.l=_,n.p=X,n.b=p,n.f=d,_&&(d=1,n.m=v,n.d=b,n.n=y)}while(!d);return p==e.length?e:C(e,0,p)}(this.p,this.o,this.s);this.ondata(C(n,e,this.s.b),this.d),this.o=C(n,this.s.b-32768),this.s.b=this.o.length,this.p=C(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(t,e){this.e(t),this.c(e)},t}(),D=function(){function t(t){this.v=1,V.call(this,t)}return t.prototype.push=function(t,e){if(V.prototype.e.call(this,t),this.v){var n=this.p.length>3?function(t){31==t[0]&&139==t[1]&&8==t[2]||E(6,"invalid gzip data");var e=t[3],n=10;4&e&&(n+=t[10]|2+(t[11]<<8));for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(2&e)}(this.p):4;if(n>=this.p.length&&!e)return;this.p=this.p.subarray(n),this.v=0}e&&(this.p.length<8&&E(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),V.prototype.c.call(this,e)},t}(),P=function(){function t(t){this.v=1,V.call(this,t)}return t.prototype.push=function(t,e){if(V.prototype.e.call(this,t),this.v){if(this.p.length<2&&!e)return;this.p=this.p.subarray(2),this.v=0}e&&(this.p.length<4&&E(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),V.prototype.c.call(this,e)},t}(),z=function(){function t(t){this.G=D,this.I=V,this.Z=P,this.ondata=t}return t.prototype.push=function(t,e){if(this.ondata||E(5),this.s)this.s.push(t,e);else{if(this.p&&this.p.length){var n=new r(this.p.length+t.length);n.set(this.p),n.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var i=this,a=function(){i.ondata.apply(i,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(a):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,e),this.p=null}}},t}(),O="undefined"!=typeof TextDecoder&&new TextDecoder;try{O.decode(N,{stream:!0})}catch(we){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var L=n(8189),I=Object.create,B=Object.defineProperty,R=Object.getOwnPropertyDescriptor,Y=Object.getOwnPropertyNames,j=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,Z=t=>B(t,"__esModule",{value:!0}),H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),U=t=>((t,e,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of Y(e))!F.call(t,r)&&"default"!==r&&B(t,r,{get:()=>e[r],enumerable:!(n=R(e,r))||n.enumerable});return t})(Z(B(null!=t?I(j(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),W=H(((t,e)=>{e.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),q=H(((t,e)=>{var n=W().default;function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}function i(t,...e){if(!e.length)return t;let n=e.shift();if(r(t)&&r(n))for(let e in n)r(n[e])?(t[e]||Object.assign(t,{[e]:{}}),i(t[e],n[e])):Object.assign(t,{[e]:n[e]});return i(t,...e)}e.exports.get_types=function(){return Object.keys(e.exports.get_config().types)},e.exports.get_type_config=function(t){let n={};if(e.exports.get_config().types[t]&&Object.assign(n,e.exports.get_config().types[t]),n.type){let t=e.exports.get_type_config(n.type);return Object.assign(t,n),t}return n},window.__PERSPECTIVE_CONFIG__=void 0,e.exports.override_config=function(t){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=i(n,t)},e.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=i(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}})),$={};((t,e)=>{for(var n in Z(t),e)B(t,n,{get:e[n],enumerable:!0})})($,{COLUMN_SEPARATOR_STRING:()=>ct,CONFIG_ALIASES:()=>X,CONFIG_VALID_KEYS:()=>Q,DATA_TYPES:()=>G,FILTER_OPERATORS:()=>rt,SORT_ORDERS:()=>tt,SORT_ORDER_IDS:()=>et,TYPE_AGGREGATES:()=>nt,TYPE_FILTERS:()=>st});var G={integer:"integer",float:"float",string:"string",boolean:"boolean",date:"date",datetime:"datetime",object:"object"},X={row_pivot:"group_by","row-pivot":"group_by","row-pivots":"group_by",col_pivot:"split_by",col_pivots:"split_by",column_pivot:"split_by","column-pivot":"split_by","column-pivots":"split_by",filters:"filter",sorts:"sort"},Q=["viewport","group_by","split_by","aggregates","columns","filter","sort","computed_columns","expressions","group_by_depth","split_by_depth","filter_op"],K=["any","avg","abs sum","count","distinct count","dominant","first by index","last by index","last","high","join","low","mean","median","pct sum parent","pct sum grand total","stddev","sum","sum abs","sum not null","unique","var"],J=["any","count","distinct count","distinct leaf","dominant","first by index","join","last by index","last","unique"],tt=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],et=[2,0,1,0,1,3,4,3,4],nt={string:J,float:K,integer:K,boolean:["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],datetime:J,date:J},rt={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with"},it=[rt.bitwiseAnd,rt.bitwiseOr,rt.equals,rt.doesNotEqual,rt.or,rt.and,rt.isNull,rt.isNotNull],at=[rt.lessThan,rt.greaterThan,rt.equals,rt.lessThanOrEquals,rt.greaterThanOrEquals,rt.doesNotEqual,rt.isNull,rt.isNotNull],ot=[rt.equals,rt.contains,rt.doesNotEqual,rt.isIn,rt.isNotIn,rt.beginsWith,rt.endsWith,rt.isNull,rt.isNotNull],lt=[rt.lessThan,rt.greaterThan,rt.equals,rt.lessThanOrEquals,rt.greaterThanOrEquals,rt.doesNotEqual,rt.isNull,rt.isNotNull],ct="|",st={string:ot,float:at,integer:at,boolean:it,datetime:lt,date:lt},ut=U(q()),ft=new WeakMap,dt=0;function ht(t,e){return function(){let n,r=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let t=i.length-1;t>=0;t--)"function"==typeof i[t]&&(n=i.splice(t,1)[0]);let a=ft.get(n);ft.delete(n);let o={cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!0,callback_id:a};this._worker.post(o,n,r),this._worker.unsubscribe(e,n)}}function gt(t,e){return function(){let n,r=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let t=i.length-1;t>=0;t--)"function"==typeof i[t]&&(n=i.splice(t,1)[0]);dt++,ft.set(n,dt);let a={cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!0,callback_id:dt};this._worker.post(a,n,r,!0)}}function pt(t,e){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(r,i){var a={cmd:e||"view_method",name:this._name,method:t,args:n,subscribe:!1};this._worker.post(a,r,i)}.bind(this))}}function _t(t,e,n){return new Promise(((r,i)=>{this._worker=t,this._name=Math.random()+"",this._worker.post({cmd:"view",view_name:this._name,table_name:e,config:n},(()=>{r(this)}),i),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function bt(t){let e=t;do{for(let n of Object.getOwnPropertyNames(e)){let e=t[n];"constructor"!==n&&"function"==typeof e&&(t[n]=e.bind(t))}}while(e=e!==Object&&Object.getPrototypeOf(e))}function mt(t,e,n){return new Promise(((r,i)=>{this._worker=t,this._name=n.name||Math.random()+"",bt(this),e.to_arrow?(this._worker.post({cmd:"table",name:this._name,args:[],options:n||{}}),e.to_arrow().then((t=>{this._worker.post({cmd:"table",name:this._name,args:[t],options:n||{}},(()=>{e.on_update((t=>{this.update(t.delta)}),{mode:"row"}),r(this)}),i)}))):this._worker.post({cmd:"table",name:this._name,args:[e],options:n||{}},(()=>{r(this)}),i),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function vt(t,e){this._worker=t,this._name=e}_t.prototype,_t.prototype.get_config=pt("get_config"),_t.prototype.get_min_max=pt("get_min_max"),_t.prototype.to_json=pt("to_json"),_t.prototype.to_arrow=pt("to_arrow"),_t.prototype.to_columns=pt("to_columns"),_t.prototype.to_csv=pt("to_csv"),_t.prototype.schema=pt("schema"),_t.prototype.expression_schema=pt("expression_schema"),_t.prototype.column_paths=pt("column_paths"),_t.prototype.num_columns=pt("num_columns"),_t.prototype.num_rows=pt("num_rows"),_t.prototype.set_depth=pt("set_depth"),_t.prototype.get_row_expanded=pt("get_row_expanded"),_t.prototype.expand=pt("expand"),_t.prototype.collapse=pt("collapse"),_t.prototype.delete=pt("delete"),_t.prototype.col_to_js_typed_array=pt("col_to_js_typed_array"),_t.prototype.on_update=gt("on_update","view_method"),_t.prototype.remove_update=ht("remove_update","view_method"),_t.prototype.on_delete=gt("on_delete","view_method"),_t.prototype.remove_delete=ht("remove_delete","view_method"),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var i=0|e,a=Math.max(i>=0?i:r-Math.abs(i),0);function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}for(;a<r;){if(o(n[a],t))return!0;a++}return!1}}),mt.prototype.type="table",vt.prototype=mt.prototype,mt.prototype.view=function(t){return new _t(this._worker,this._name,t)},mt.prototype.get_index=pt("get_index","table_method"),mt.prototype.get_limit=pt("get_limit","table_method"),mt.prototype.make_port=pt("make_port","table_method"),mt.prototype.remove_port=pt("remove_port","table_method"),mt.prototype.schema=pt("schema","table_method"),mt.prototype.validate_expressions=pt("validate_expressions","table_method"),mt.prototype.is_valid_filter=pt("is_valid_filter","table_method"),mt.prototype.size=pt("size","table_method"),mt.prototype.columns=pt("columns","table_method"),mt.prototype.clear=pt("clear","table_method"),mt.prototype.replace=pt("replace","table_method"),mt.prototype.delete=pt("delete","table_method"),mt.prototype.on_delete=gt("on_delete","table_method"),mt.prototype.remove=pt("remove","table_method"),mt.prototype.remove_delete=ht("remove_delete","table_method"),mt.prototype.update=function(t,e){return new Promise(((n,r)=>{this._worker.post({name:this._name,cmd:"table_method",method:"update",args:[t,e||{}]},n,r,!1)}))},mt.prototype.execute=function(t){this._worker.post({cmd:"table_execute",name:this._name,f:t.toString()})};var yt=class{constructor(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},bt(this)}unsubscribe(t,e){for(let t of Object.keys(this._worker.handlers))this._worker.handlers[t].resolve===e&&delete this._worker.handlers[t]}post(t,e,n,r=!1){++this._worker.msg_id,(e||n)&&(this._worker.handlers[this._worker.msg_id]={resolve:e,reject:n,keep_alive:r}),t.id=this._worker.msg_id,this._worker.initialized.value?this.send(t):this._worker.messages.push((()=>{this.send(t),("table"===t.cmd||"view"===t.cmd)&&!this._features?.wait_for_response&&e&&e()}))}async memory_usage(){return await new Promise(((t,e)=>{this.post({cmd:"memory_usage"},t,e)}))}initialize_profile_thread(){this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push((()=>this.send({id:-1,cmd:"init_profile_thread"})))}send(){throw new Error("send() not implemented")}async open_table(t){return new vt(this,t)}_handle(t){if(!this._worker.initialized.value){if(!this._initialized&&"undefined"!=typeof document&&document&&void 0!==typeof window&&window){try{let t=document.createEvent("Event");t.initEvent("perspective-ready",!1,!0),window.dispatchEvent(t)}catch{}this._initialized=!0}let e=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],t.data?.data){this._features={};for(let e of t.data.data)this._features[e]=!0}if(e)for(let t in e)e.hasOwnProperty(t)&&e[t]()}if(t.data.id){let e=this._worker.handlers[t.data.id];e&&(t.data.error?e.reject(t.data.error):e.resolve(t.data.data),e.keep_alive||delete this._worker.handlers[t.data.id])}}table(t,e){return new mt(this,t,e||{})}terminate(){this._worker.terminate(),this._worker=void 0}},wt=class extends yt{constructor(t){super(),this._ws=t,this._ws.binaryType="arraybuffer",this._full_binary,this._total_chunk_length=0,this._pending_binary_length=0,this._ws.onopen=()=>{this.send({id:-1,cmd:"init"})};let e=()=>{this._ws.send("ping"),setTimeout(e,3e4)};setTimeout(e,3e4),this._ws.onmessage=t=>{if("pong"!==t.data)if(this._pending_binary){let e=t.data;if(this._full_binary.set(new Uint8Array(e),this._total_chunk_length),this._total_chunk_length+=e.byteLength,this._total_chunk_length!==this._pending_binary_length)return;e=this._full_binary.buffer;let n={data:{id:this._pending_binary,data:e}};if(void 0!==this._pending_port_id){let t={port_id:this._pending_port_id,delta:e};n.data.data=t}this._handle(n),delete this._pending_binary,delete this._pending_binary_length,delete this._pending_port_id,this._total_chunk_length=0,this._full_binary=null}else(t=JSON.parse(t.data)).binary_length?(this._pending_binary=t.id,this._pending_binary_length=t.binary_length,t.data&&void 0!==t.data.port_id&&(this._pending_port_id=t.data.port_id),this._full_binary=new Uint8Array(this._pending_binary_length)):this._handle({data:t})}}send(t){if(t.args&&t.args.length>0&&t.args[0]instanceof ArrayBuffer&&void 0!==t.args[0].byteLength){let e=t;return t.binary_length=t.args[0].byteLength,this._ws.send(JSON.stringify(e)),void this._ws.send(t.args[0])}this._ws.send(JSON.stringify(t))}terminate(){return new Promise((t=>{this._ws.onclose=t,this._ws.close()}))}},xt=U(q());function St(t){return 559903==new Uint32Array(t.slice(0,4))[0]}var Mt=function(){let t;return function(){return t||(t=new class{async worker(){return await new Worker(n.p+"perspective.worker.js")}async wasm(){let t=await L,e=[],n=0,r=new z((t=>{t&&(n+=t.byteLength,e.push(t))}));if(t.buffer&&t.buffer instanceof ArrayBuffer)console.warn('Perspective has been compiled in "inline" mode.  While Perspective\'s runtime performance is not affected, you may see smaller assets size and faster engine initial load time using "@finos/perspective-webpack-plugin" to build your application.\nhttps://perspective.finos.org/docs/md/js.html'),St(t.buffer)?r.push(t,!0):(n=t.byteLength,e=[t]);else if(t instanceof ArrayBuffer)n=t.byteLength,e=[new Uint8Array(t)];else{let i=(await fetch(t)).body.getReader(),a=0;for(;;){let{value:t,done:o}=await i.read();if(o)break;0===a&&St(t.buffer)||1===a?(a=1,r.push(t,o)):(a=2,n+=t.byteLength,e.push(t))}}let i=0,a=new Uint8Array(n);for(let t of e)a.set(t,i),i+=t.byteLength;return this._wasm=a.buffer,this._wasm}}),t}}(),kt=class extends yt{constructor(t){t&&(0,xt.override_config)(t),super(),this.register()}async register(){let t,e={cmd:"init",config:(0,ut.get_config)()};if("undefined"==typeof WebAssembly)throw new Error("WebAssembly not supported. Support for ASM.JS has been removed as of 0.3.1.");for(var n in[t,e.buffer]=await Promise.all([Mt().worker(),Mt().wasm()]),this._worker)t[n]=this._worker[n];this._worker=t,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(e),this._detect_transferable()}send(t){this._worker.transferable&&t.args&&t.args[0]instanceof ArrayBuffer?this._worker.postMessage(t,[t.args[0]]):this._worker.postMessage(t)}terminate(){this._worker.terminate(),this._worker=void 0}_detect_transferable(){var t=new ArrayBuffer(1);this._worker.postMessage(t,[t]),this._worker.transferable=0===t.byteLength,this._worker.transferable?console.debug("Transferable support detected"):console.warn("Transferable support not detected")}},At=function(){let t,e;return{getInstance:function(n){void 0===t&&(t=new kt(n));let r=JSON.stringify(n);if(e&&r!==e)throw new Error("Configuration object for shared_worker() has changed - this is probably a bug in your application.");return e=r,t}}}();ut.get_type_config;var Ct={override:function(t){return Mt().set(t)},worker:function(t){return new kt(t)},websocket:function(t=window.location.origin.replace("http","ws")){return new wt(new WebSocket(t))},shared_worker:function(t){return At.getInstance(t)},...Object.keys($)};const Tt=ResizeObserver;let Et,Nt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Nt.decode();let Vt=null;function Dt(){return null!==Vt&&Vt.buffer===Et.memory.buffer||(Vt=new Uint8Array(Et.memory.buffer)),Vt}function Pt(t,e){return Nt.decode(Dt().subarray(t,t+e))}const zt=new Array(32).fill(void 0);zt.push(void 0,null,!0,!1);let Ot=zt.length;function Lt(t){Ot===zt.length&&zt.push(zt.length+1);const e=Ot;return Ot=zt[e],zt[e]=t,e}function It(t){return zt[t]}let Bt=0,Rt=new TextEncoder("utf-8");const Yt="function"==typeof Rt.encodeInto?function(t,e){return Rt.encodeInto(t,e)}:function(t,e){const n=Rt.encode(t);return e.set(n),{read:t.length,written:n.length}};function jt(t,e,n){if(void 0===n){const n=Rt.encode(t),r=e(n.length);return Dt().subarray(r,r+n.length).set(n),Bt=n.length,r}let r=t.length,i=e(r);const a=Dt();let o=0;for(;o<r;o++){const e=t.charCodeAt(o);if(e>127)break;a[i+o]=e}if(o!==r){0!==o&&(t=t.slice(o)),i=n(i,r,r=o+3*t.length);const e=Dt().subarray(i+o,i+r);o+=Yt(t,e).written}return Bt=o,i}let Ft=null;function Zt(){return null!==Ft&&Ft.buffer===Et.memory.buffer||(Ft=new Int32Array(Et.memory.buffer)),Ft}function Ht(t){const e=It(t);return function(t){t<36||(zt[t]=Ot,Ot=t)}(t),e}function Ut(t){return null==t}let Wt=null;function qt(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=qt(t[0]));for(let r=1;r<e;r++)n+=", "+qt(t[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(!(n.length>1))return toString.call(t);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:r}function $t(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},a=(...t)=>{i.cnt++;const e=i.a;i.a=0;try{return r(e,i.b,...t)}finally{0==--i.cnt?Et.__wbindgen_export_2.get(i.dtor)(e,i.b):i.a=e}};return a.original=i,a}function Gt(t,e,n){Et._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h10d941893c3acc1b(t,e,Lt(n))}function Xt(t,e){Et._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1c24dddb7bff2907(t,e)}function Qt(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},a=(...t)=>{i.cnt++;try{return r(i.a,i.b,...t)}finally{0==--i.cnt&&(Et.__wbindgen_export_2.get(i.dtor)(i.a,i.b),i.a=0)}};return a.original=i,a}function Kt(t,e,n){Et._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h8eb8505d6c2e5f57(t,e,Lt(n))}function Jt(t,e,n){return Ht(Et._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hdf13d53c59e21224(t,e,Lt(n)))}function te(t,e,n){return Ht(Et._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__heb475f9362359f76(t,e,Lt(n)))}function ee(t,e,n,r,i){return Ht(Et._dyn_core__ops__function__Fn__A_B_C___Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h76deb331f2eefb65(t,e,Lt(n),Lt(r),Lt(i)))}function ne(t,e,n){Et._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h3a2e7a9f492612c5(t,e,Lt(n))}function re(t,e,n){Et._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf2e0710f5703f05d(t,e,Lt(n))}let ie=32;function ae(t,e,n){try{Et._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hb91155968bf288b9(t,e,function(t){if(1==ie)throw new Error("out of js stack");return zt[--ie]=t,ie}(n))}finally{zt[ie++]=void 0}}function oe(t,e){Et._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h4af631fa3822c655(t,e)}function le(t,e,n){Et._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h9a1ccf7c47709953(t,e,Lt(n))}function ce(t,e){try{return t.apply(this,e)}catch(t){Et.__wbindgen_exn_store(Lt(t))}}class se{static __wrap(t){const e=Object.create(se.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Et.__wbg_perspectivenumbercolumnstyleelement_free(t)}constructor(t,e,n){var r=Et.perspectivenumbercolumnstyleelement_new(Lt(t),Lt(e),Lt(n));return se.__wrap(r)}reset(t,e){Et.perspectivenumbercolumnstyleelement_reset(this.ptr,Lt(t),Lt(e))}open(t){Et.perspectivenumbercolumnstyleelement_open(this.ptr,Lt(t))}close(){Et.perspectivenumbercolumnstyleelement_close(this.ptr)}destroy(){const t=this.__destroy_into_raw();Et.perspectivenumbercolumnstyleelement_destroy(t)}connected_callback(){Et.perspectivenumbercolumnstyleelement_connected_callback(this.ptr)}}class ue{static __wrap(t){const e=Object.create(ue.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Et.__wbg_perspectivestringcolumnstyleelement_free(t)}constructor(t,e,n){var r=Et.perspectivestringcolumnstyleelement_new(Lt(t),Lt(e),Lt(n));return ue.__wrap(r)}reset(t){Et.perspectivestringcolumnstyleelement_reset(this.ptr,Lt(t))}open(t){Et.perspectivestringcolumnstyleelement_open(this.ptr,Lt(t))}close(){Et.perspectivestringcolumnstyleelement_close(this.ptr)}destroy(){const t=this.__destroy_into_raw();Et.perspectivestringcolumnstyleelement_destroy(t)}connected_callback(){Et.perspectivestringcolumnstyleelement_connected_callback(this.ptr)}}class fe{static __wrap(t){const e=Object.create(fe.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Et.__wbg_perspectiveviewerelement_free(t)}constructor(t){var e=Et.perspectiveviewerelement_new(Lt(t));return fe.__wrap(e)}connected_callback(){Et.perspectiveviewerelement_connected_callback(this.ptr)}js_load(t){return Ht(Et.perspectiveviewerelement_js_load(this.ptr,Lt(t)))}js_delete(){return Ht(Et.perspectiveviewerelement_js_delete(this.ptr))}js_get_view(){return Ht(Et.perspectiveviewerelement_js_get_view(this.ptr))}js_get_table(t){return Ht(Et.perspectiveviewerelement_js_get_table(this.ptr,t))}js_flush(){return Ht(Et.perspectiveviewerelement_js_flush(this.ptr))}js_restore(t){return Ht(Et.perspectiveviewerelement_js_restore(this.ptr,Lt(t)))}js_save(t){return Ht(Et.perspectiveviewerelement_js_save(this.ptr,Lt(t)))}js_download(t){return Ht(Et.perspectiveviewerelement_js_download(this.ptr,t))}js_copy(t){return Ht(Et.perspectiveviewerelement_js_copy(this.ptr,t))}js_reset(t){return Ht(Et.perspectiveviewerelement_js_reset(this.ptr,Lt(t)))}js_resize(t){return Ht(Et.perspectiveviewerelement_js_resize(this.ptr,t))}js_set_auto_size(t){Et.perspectiveviewerelement_js_set_auto_size(this.ptr,t)}js_get_edit_port(){return Et.perspectiveviewerelement_js_get_edit_port(this.ptr)}js_restyle_element(){return Ht(Et.perspectiveviewerelement_js_restyle_element(this.ptr))}js_reset_themes(t){return Ht(Et.perspectiveviewerelement_js_reset_themes(this.ptr,Lt(t)))}js_set_throttle(t){Et.perspectiveviewerelement_js_set_throttle(this.ptr,!Ut(t),Ut(t)?0:t)}js_toggle_config(t){return Ht(Et.perspectiveviewerelement_js_toggle_config(this.ptr,Ut(t)?16777215:t?1:0))}js_get_all_plugins(){return Ht(Et.perspectiveviewerelement_js_get_all_plugins(this.ptr))}js_get_plugin(t){var e=Ut(t)?0:jt(t,Et.__wbindgen_malloc,Et.__wbindgen_realloc),n=Bt;return Ht(Et.perspectiveviewerelement_js_get_plugin(this.ptr,e,n))}}const de=async function t(e){void 0===e&&(e=new URL(n(5505),n.b));const r={wbg:{}};r.wbg.__wbindgen_json_parse=function(t,e){return Lt(JSON.parse(Pt(t,e)))},r.wbg.__wbindgen_json_serialize=function(t,e){const n=It(e);var r=jt(JSON.stringify(void 0===n?null:n),Et.__wbindgen_malloc,Et.__wbindgen_realloc),i=Bt;Zt()[t/4+1]=i,Zt()[t/4+0]=r},r.wbg.__wbindgen_string_new=function(t,e){return Lt(Pt(t,e))},r.wbg.__wbindgen_object_clone_ref=function(t){return Lt(It(t))},r.wbg.__wbindgen_object_drop_ref=function(t){Ht(t)},r.wbg.__wbindgen_number_new=function(t){return Lt(t)},r.wbg.__wbindgen_jsval_eq=function(t,e){return It(t)===It(e)},r.wbg.__wbindgen_cb_drop=function(t){const e=Ht(t).original;return 1==e.cnt--&&(e.a=0,!0)},r.wbg.__wbg_update_b0b2df3342b63ce2=function(){return ce((function(t,e,n,r,i,a,o){return Lt(It(t).update(It(e),0===n?void 0:r>>>0,0===i?void 0:a>>>0,0!==o))}),arguments)},r.wbg.__wbg_validateexpressions_eca5656ca2844419=function(){return ce((function(t,e){return Lt(It(t).validate_expressions(Ht(e)))}),arguments)},r.wbg.__wbg_default_3edfeada4cfc405b=function(){return Lt(async function(){return await new Worker(n.p+"editor.worker.js")}())},r.wbg.__wbg_tocsv_2ec429ab1e0bb451=function(){return ce((function(t,e){return Lt(It(t).to_csv(Ht(e)))}),arguments)},r.wbg.__wbg_restyle_d98bfa634bd438a3=function(){return ce((function(t,e){return Lt(It(t).restyle(It(e)))}),arguments)},r.wbg.__wbg_draw_f7001e36a5451367=function(){return ce((function(t,e,n,r,i,a,o){return Lt(It(t).draw(It(e),0===n?void 0:r>>>0,0===i?void 0:a>>>0,0!==o))}),arguments)},r.wbg.__wbg_resize_8a11e82f499e6d89=function(){return ce((function(t){return Lt(It(t).resize())}),arguments)},r.wbg.__wbg_size_ea3857b7b9c01a01=function(){return ce((function(t){return Lt(It(t).size())}),arguments)},r.wbg.__wbg_numrows_dfd6ed430e0147ff=function(){return ce((function(t){return Lt(It(t).num_rows())}),arguments)},r.wbg.__wbg_columns_b15d8d6c4a353055=function(){return ce((function(t){return Lt(It(t).columns())}),arguments)},r.wbg.__wbg_schema_ad095ebcdb4dd76f=function(){return ce((function(t){return Lt(It(t).schema())}),arguments)},r.wbg.__wbg_restore_f1fbc066c9637e24=function(t,e){It(t).restore(It(e))},r.wbg.__wbg_view_e3b1f5dab63015c7=function(){return ce((function(t,e){return Lt(It(t).view(It(e)))}),arguments)},r.wbg.__wbg_delete_cd3c8d59be8fee68=function(){return ce((function(t){return Lt(It(t).delete())}),arguments)},r.wbg.__wbg_register_1a0bbab9f7619662=function(t,e){It(t).register(Ht(e))},r.wbg.__wbg_setMonarchTokensProvider_1fa51a80d68f1ac1=function(t,e,n,r){It(t).setMonarchTokensProvider(Pt(e,n),Ht(r))},r.wbg.__wbg_setLanguageConfiguration_d6c86e31029d9ef5=function(t,e,n,r){It(t).setLanguageConfiguration(Pt(e,n),Ht(r))},r.wbg.__wbg_registerCompletionItemProvider_61ecf83f366d2e16=function(t,e,n,r){It(t).registerCompletionItemProvider(Pt(e,n),Ht(r))},r.wbg.__wbg_makeport_8c752476acd3fe27=function(){return ce((function(t){return Lt(It(t).make_port())}),arguments)},r.wbg.__wbg_monacomodule_9d24db234e2e1549=function(){return Lt(async function(){return await n.e(641).then(n.bind(n,4777))}())},r.wbg.__wbg_schema_b1cd087318fe451d=function(){return ce((function(t){return Lt(It(t).schema())}),arguments)},r.wbg.__wbg_numcolumns_6a8d86bb12e88692=function(){return ce((function(t){return Lt(It(t).num_columns())}),arguments)},r.wbg.__wbindgen_is_null=function(t){return null===It(t)},r.wbg.__wbg_lineNumber_6b2a1c0159871238=function(t){return It(t).lineNumber},r.wbg.__wbg_column_885264f87b0a4a0b=function(t){return It(t).column},r.wbg.__wbg_findTokenIndexAtOffset_847b202bf8c16c65=function(t,e){return It(t).findTokenIndexAtOffset(e>>>0)},r.wbg.__wbg_getClassName_5bc865fe97705383=function(t,e){return Lt(It(t).getClassName(e>>>0))},r.wbg.__wbg_triggerKind_9e780becc9ed4ce7=function(t){return It(t).triggerKind},r.wbg.__wbg_delete_55c2b041a4419d5d=function(t){It(t).delete()},r.wbg.__wbg_setrenderwarning_2b6ccbc5a0b49b4f=function(t,e){It(t).render_warning=0!==e},r.wbg.__wbindgen_is_undefined=function(t){return void 0===It(t)},r.wbg.__wbg_editor_91084c85a69a3fde=function(t){return Lt(It(t).editor)},r.wbg.__wbg_languages_aca44d3eda97078c=function(t){return Lt(It(t).languages)},r.wbg.__wbg_create_806f286d290f99c8=function(t,e,n){return Lt(It(t).create(Ht(e),Ht(n)))},r.wbg.__wbg_defineTheme_c4f18cdd46a4014d=function(t,e,n,r){It(t).defineTheme(Pt(e,n),Ht(r))},r.wbg.__wbg_setTheme_7cb365ba1d2ad549=function(t,e,n){It(t).setTheme(Pt(e,n))},r.wbg.__wbg_setModelMarkers_f49dfc56a0816242=function(t,e,n,r,i){It(t).setModelMarkers(It(e),Pt(n,r),It(i))},r.wbg.__wbg_layout_901473f7828d2488=function(t,e){It(t).layout(It(e))},r.wbg.__wbg_getModel_4ba1a741bc1eaaff=function(t){return Lt(It(t).getModel())},r.wbg.__wbg_getValue_e8d4002de327ab32=function(t){return Lt(It(t).getValue())},r.wbg.__wbg_setValue_464f1cd5da0d99d4=function(t,e,n){It(t).setValue(Pt(e,n))},r.wbg.__wbg_setPosition_53889da2861e22f4=function(t,e){It(t).setPosition(It(e))},r.wbg.__wbg_addCommand_0087418877d24153=function(t,e,n){It(t).addCommand(e>>>0,It(n))},r.wbg.__wbg_focus_d1521065885d8ced=function(t){It(t).focus()},r.wbg.__wbg_onDidChangeContent_333bdbf90ce64b26=function(t,e){It(t).onDidChangeContent(It(e))},r.wbg.__wbg_getLineTokens_6c81bc0a3f533604=function(t,e){return Lt(It(t).getLineTokens(e>>>0))},r.wbg.__wbg_onupdate_b8cf42908fc20235=function(t,e){It(t).on_update(It(e))},r.wbg.__wbg_removeupdate_77fe2a7740d00e48=function(t,e){It(t).remove_update(It(e))},r.wbg.__wbg_errors_20c512f8dca36c8d=function(t){return Lt(It(t).errors)},r.wbg.__wbg_expressionschema_7a07dfdf1c19fa1f=function(t){return Lt(It(t).expression_schema)},r.wbg.__wbg_expressionalias_c0691678ddeeed2e=function(t){return Lt(It(t).expression_alias)},r.wbg.__wbg_name_4e59ce156796a1db=function(t,e){var n=jt(It(e).name,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_maxcolumns_41c0acb329b63f5a=function(t,e){var n=It(e).max_columns;Zt()[t/4+1]=Ut(n)?0:n,Zt()[t/4+0]=!Ut(n)},r.wbg.__wbg_maxcells_240ed21a2cc23a45=function(t,e){var n=It(e).max_cells;Zt()[t/4+1]=Ut(n)?0:n,Zt()[t/4+0]=!Ut(n)},r.wbg.__wbg_renderwarning_28b6ae4b73e78f68=function(t){var e=It(t).render_warning;return Ut(e)?16777215:e?1:0},r.wbg.__wbg_selectmode_2d072add5bfb5e92=function(t){return Lt(It(t).select_mode)},r.wbg.__wbg_minconfigcolumns_fc8660538ce7232d=function(t,e){var n=It(e).min_config_columns;Zt()[t/4+1]=Ut(n)?0:n,Zt()[t/4+0]=!Ut(n)},r.wbg.__wbg_configcolumnnames_1a26628997420d20=function(t){var e=It(t).config_column_names;return Ut(e)?0:Lt(e)},r.wbg.__wbg_save_5742b4ec09ae0d34=function(t){return Lt(It(t).save())},r.wbg.__wbg_new_752f1a80978ec26a=function(t){return Lt(new Tt(It(t)))},r.wbg.__wbg_observe_86c9286ddb2080e3=function(t,e){It(t).observe(It(e))},r.wbg.__wbg_unobserve_6d276eada6182ea1=function(t,e){It(t).unobserve(It(e))},r.wbg.__wbg_contentRect_3f8cd97f6e2969a6=function(t){return Lt(It(t).contentRect)},r.wbg.__wbg_new_693216e109162396=function(){return Lt(new Error)},r.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,e){var n=jt(It(e).stack,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_error_09919627ac0992f5=function(t,e){try{console.error(Pt(t,e))}finally{Et.__wbindgen_free(t,e)}},r.wbg.__wbg_newwithu8arraysequence_fdc7895dacd60d21=function(){return ce((function(t){return Lt(new Blob(It(t)))}),arguments)},r.wbg.__wbg_writeText_24e516a13acdea5a=function(t,e,n){return Lt(It(t).writeText(Pt(e,n)))},r.wbg.__wbg_length_294c22a18ede524b=function(t){return It(t).length},r.wbg.__wbg_item_8eca8b8cdf63f525=function(t,e){var n=It(t).item(e>>>0);return Ut(n)?0:Lt(n)},r.wbg.__wbg_length_d2057dfdd5fdecf4=function(t){return It(t).length},r.wbg.__wbg_getPropertyValue_937a708feb88202f=function(){return ce((function(t,e,n,r){var i=jt(It(e).getPropertyValue(Pt(n,r)),Et.__wbindgen_malloc,Et.__wbindgen_realloc),a=Bt;Zt()[t/4+1]=a,Zt()[t/4+0]=i}),arguments)},r.wbg.__wbg_item_dfcc92ceae8b4304=function(t,e,n){var r=jt(It(e).item(n>>>0),Et.__wbindgen_malloc,Et.__wbindgen_realloc),i=Bt;Zt()[t/4+1]=i,Zt()[t/4+0]=r},r.wbg.__wbg_setProperty_dccccce3a52c26db=function(){return ce((function(t,e,n,r,i){It(t).setProperty(Pt(e,n),Pt(r,i))}),arguments)},r.wbg.__wbg_instanceof_CssStyleRule_e93e1152e50f8d9b=function(t){return It(t)instanceof CSSStyleRule},r.wbg.__wbg_selectorText_56b42d9cf7c91aa1=function(t,e){var n=jt(It(e).selectorText,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_style_dbd768c92c03ab2c=function(t){return Lt(It(t).style)},r.wbg.__wbg_cssRules_b1206f989651c44d=function(){return ce((function(t){return Lt(It(t).cssRules)}),arguments)},r.wbg.__wbg_new_3af016a292a0ea38=function(){return ce((function(t,e){return Lt(new CustomEvent(Pt(t,e)))}),arguments)},r.wbg.__wbg_newwitheventinitdict_183544aa2c542424=function(){return ce((function(t,e,n){return Lt(new CustomEvent(Pt(t,e),It(n)))}),arguments)},r.wbg.__wbg_setDragImage_97e7f5b52f6e9f92=function(t,e,n,r){It(t).setDragImage(It(e),n,r)},r.wbg.__wbg_readyState_be8f2b804adc7ff6=function(t,e){var n=jt(It(e).readyState,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_body_525168d9e773c3f8=function(t){var e=It(t).body;return Ut(e)?0:Lt(e)},r.wbg.__wbg_styleSheets_a23fea89b8b91939=function(t){return Lt(It(t).styleSheets)},r.wbg.__wbg_fonts_62f407546d8daeb4=function(t){return Lt(It(t).fonts)},r.wbg.__wbg_createElement_ac65a6ce60c4812c=function(){return ce((function(t,e,n){return Lt(It(t).createElement(Pt(e,n)))}),arguments)},r.wbg.__wbg_createElementNS_267edeea0c97331c=function(){return ce((function(t,e,n,r,i){return Lt(It(t).createElementNS(0===e?void 0:Pt(e,n),Pt(r,i)))}),arguments)},r.wbg.__wbg_createTextNode_442392ad92e75695=function(t,e,n){return Lt(It(t).createTextNode(Pt(e,n)))},r.wbg.__wbg_width_a04d387a0e0ffe94=function(t){return It(t).width},r.wbg.__wbg_height_f7c5c956730ab37a=function(t){return It(t).height},r.wbg.__wbg_width_4a83a800a544b73a=function(t){return It(t).width},r.wbg.__wbg_height_76d64c7ff32eb400=function(t){return It(t).height},r.wbg.__wbg_top_22e7024d271b5677=function(t){return It(t).top},r.wbg.__wbg_left_f2f24ba3851b8295=function(t){return It(t).left},r.wbg.__wbg_get_dc5a3f4246f4363e=function(t,e,n,r){var i=It(e)[Pt(n,r)],a=Ut(i)?0:jt(i,Et.__wbindgen_malloc,Et.__wbindgen_realloc),o=Bt;Zt()[t/4+1]=o,Zt()[t/4+0]=a},r.wbg.__wbg_set_6bc5ebabff049b08=function(){return ce((function(t,e,n,r,i){It(t)[Pt(e,n)]=Pt(r,i)}),arguments)},r.wbg.__wbg_delete_bdb7962606ab7ffc=function(t,e,n){delete It(t)[Pt(e,n)]},r.wbg.__wbg_add_3b4cecc512643e9f=function(){return ce((function(t,e,n){It(t).add(Pt(e,n))}),arguments)},r.wbg.__wbg_remove_c15603553c81dc31=function(){return ce((function(t,e,n){It(t).remove(Pt(e,n))}),arguments)},r.wbg.__wbg_dataTransfer_7916d51ea966dcb4=function(t){var e=It(t).dataTransfer;return Ut(e)?0:Lt(e)},r.wbg.__wbg_instanceof_Element_8143882371652178=function(t){return It(t)instanceof Element},r.wbg.__wbg_namespaceURI_f65a7a956acf4bc5=function(t,e){var n=It(e).namespaceURI,r=Ut(n)?0:jt(n,Et.__wbindgen_malloc,Et.__wbindgen_realloc),i=Bt;Zt()[t/4+1]=i,Zt()[t/4+0]=r},r.wbg.__wbg_classList_bbb57a7d3cc23c85=function(t){return Lt(It(t).classList)},r.wbg.__wbg_scrollTop_03d79a099b9a21e7=function(t){return It(t).scrollTop},r.wbg.__wbg_setscrollTop_b9abc042a6938811=function(t,e){It(t).scrollTop=e},r.wbg.__wbg_clientWidth_acc83939b1545b91=function(t){return It(t).clientWidth},r.wbg.__wbg_clientHeight_95c707ac8248c652=function(t){return It(t).clientHeight},r.wbg.__wbg_children_283b5c3c4312d771=function(t){return Lt(It(t).children)},r.wbg.__wbg_attachShadow_f0d8083616f120aa=function(){return ce((function(t,e){return Lt(It(t).attachShadow(It(e)))}),arguments)},r.wbg.__wbg_getAttribute_0754c52f6bcda842=function(t,e,n,r){var i=It(e).getAttribute(Pt(n,r)),a=Ut(i)?0:jt(i,Et.__wbindgen_malloc,Et.__wbindgen_realloc),o=Bt;Zt()[t/4+1]=o,Zt()[t/4+0]=a},r.wbg.__wbg_getBoundingClientRect_dbd899b7c945c55d=function(t){return Lt(It(t).getBoundingClientRect())},r.wbg.__wbg_hasAttribute_4c5fc91198e862c3=function(t,e,n){return It(t).hasAttribute(Pt(e,n))},r.wbg.__wbg_matches_7e22d2c3664b9d8d=function(){return ce((function(t,e,n){return It(t).matches(Pt(e,n))}),arguments)},r.wbg.__wbg_removeAttribute_16e5bf3866aa53e8=function(){return ce((function(t,e,n){It(t).removeAttribute(Pt(e,n))}),arguments)},r.wbg.__wbg_setAttribute_27ca65e30a1c3c4a=function(){return ce((function(t,e,n,r,i){It(t).setAttribute(Pt(e,n),Pt(r,i))}),arguments)},r.wbg.__wbg_toggleAttribute_8cf952af952c2cc5=function(){return ce((function(t,e,n,r){return It(t).toggleAttribute(Pt(e,n),0!==r)}),arguments)},r.wbg.__wbg_target_2dfa485f32a6d005=function(t){var e=It(t).target;return Ut(e)?0:Lt(e)},r.wbg.__wbg_currentTarget_6b97d12fe7054dd4=function(t){var e=It(t).currentTarget;return Ut(e)?0:Lt(e)},r.wbg.__wbg_preventDefault_7c4d18eb2bb1a26a=function(t){It(t).preventDefault()},r.wbg.__wbg_stopPropagation_11ccdc30c46ad19a=function(t){It(t).stopPropagation()},r.wbg.__wbg_addEventListener_936431894dca4639=function(){return ce((function(t,e,n,r){It(t).addEventListener(Pt(e,n),It(r))}),arguments)},r.wbg.__wbg_addEventListener_6d9a78a5d277bdaf=function(){return ce((function(t,e,n,r,i){It(t).addEventListener(Pt(e,n),It(r),It(i))}),arguments)},r.wbg.__wbg_dispatchEvent_bacbc3eeb0d17fcd=function(){return ce((function(t,e){return It(t).dispatchEvent(It(e))}),arguments)},r.wbg.__wbg_removeEventListener_6e1e9e37bdc74923=function(){return ce((function(t,e,n,r){It(t).removeEventListener(Pt(e,n),It(r))}),arguments)},r.wbg.__wbg_removeEventListener_09c628abeb1c283b=function(){return ce((function(t,e,n,r,i){It(t).removeEventListener(Pt(e,n),It(r),0!==i)}),arguments)},r.wbg.__wbg_instanceof_FontFace_095633da5a60e4d1=function(t){return It(t)instanceof FontFace},r.wbg.__wbg_family_8b33871beb47388b=function(t,e){var n=jt(It(e).family,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_weight_cb1f0ded9c3fcd29=function(t,e){var n=jt(It(e).weight,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_loaded_b07b4ee5c31f9abc=function(){return ce((function(t){return Lt(It(t).loaded)}),arguments)},r.wbg.__wbg_values_705706cce046e96c=function(t){return Lt(It(t).values())},r.wbg.__wbg_next_c7f69285044a0543=function(){return ce((function(t){return Lt(It(t).next())}),arguments)},r.wbg.__wbg_item_5a5f92bba46832d3=function(t,e){var n=It(t).item(e>>>0);return Ut(n)?0:Lt(n)},r.wbg.__wbg_dataset_7f3bc0a0cd4f7382=function(t){return Lt(It(t).dataset)},r.wbg.__wbg_style_25309daade79abb3=function(t){return Lt(It(t).style)},r.wbg.__wbg_offsetParent_21a2a48c194cfe05=function(t){var e=It(t).offsetParent;return Ut(e)?0:Lt(e)},r.wbg.__wbg_offsetWidth_7dd96a3df070d552=function(t){return It(t).offsetWidth},r.wbg.__wbg_offsetHeight_fe07e4498698e768=function(t){return It(t).offsetHeight},r.wbg.__wbg_blur_b336d41728268f5a=function(){return ce((function(t){It(t).blur()}),arguments)},r.wbg.__wbg_click_a22518ab89bfd9b8=function(t){It(t).click()},r.wbg.__wbg_focus_2fac919cca20d33b=function(){return ce((function(t){It(t).focus()}),arguments)},r.wbg.__wbg_checked_dc000202a8fa9328=function(t){return It(t).checked},r.wbg.__wbg_setchecked_dc7daac77dc0e73e=function(t,e){It(t).checked=0!==e},r.wbg.__wbg_value_f4c762446c572119=function(t,e){var n=jt(It(e).value,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_setvalue_65a652cfd99c8a4a=function(t,e,n){It(t).value=Pt(e,n)},r.wbg.__wbg_value_265001c20fda4531=function(t,e){var n=jt(It(e).value,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_setvalue_a46eeb72562081c1=function(t,e,n){It(t).value=Pt(e,n)},r.wbg.__wbg_value_d8dfe9a459c6ea2a=function(t,e){var n=jt(It(e).value,Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbg_setvalue_b1b2f2945b1cb6ef=function(t,e,n){It(t).value=Pt(e,n)},r.wbg.__wbg_keyCode_218ac9c01e06b3d5=function(t){return It(t).keyCode},r.wbg.__wbg_clientX_5bbce6c078e1510e=function(t){return It(t).clientX},r.wbg.__wbg_clientY_af6c4369507b54f0=function(t){return It(t).clientY},r.wbg.__wbg_shiftKey_257c3f6b1ca35555=function(t){return It(t).shiftKey},r.wbg.__wbg_relatedTarget_c63203073e65b8de=function(t){var e=It(t).relatedTarget;return Ut(e)?0:Lt(e)},r.wbg.__wbg_clipboard_a304e2b83d0400c6=function(t){return Lt(It(t).clipboard)},r.wbg.__wbg_isConnected_021a4fb42a3d7537=function(t){return It(t).isConnected},r.wbg.__wbg_parentNode_e1dd029be06cee39=function(t){var e=It(t).parentNode;return Ut(e)?0:Lt(e)},r.wbg.__wbg_lastChild_60bd092ff114802e=function(t){var e=It(t).lastChild;return Ut(e)?0:Lt(e)},r.wbg.__wbg_setnodeValue_ef88f21c4f2101f5=function(t,e,n){It(t).nodeValue=0===e?void 0:Pt(e,n)},r.wbg.__wbg_appendChild_6ed236bb79c198df=function(){return ce((function(t,e){return Lt(It(t).appendChild(It(e)))}),arguments)},r.wbg.__wbg_contains_11705db278357c60=function(t,e){return It(t).contains(It(e))},r.wbg.__wbg_insertBefore_7159f24556965e30=function(){return ce((function(t,e,n){return Lt(It(t).insertBefore(It(e),It(n)))}),arguments)},r.wbg.__wbg_removeChild_f633f19eb895b696=function(){return ce((function(t,e){return Lt(It(t).removeChild(It(e)))}),arguments)},r.wbg.__wbg_now_44a034aa2e1d73dd=function(t){return It(t).now()},r.wbg.__wbg_instanceof_ShadowRoot_17fc69013b5c44c6=function(t){return It(t)instanceof ShadowRoot},r.wbg.__wbg_host_786667ae381479f7=function(t){return Lt(It(t).host)},r.wbg.__wbg_length_568451d1cca15a65=function(t){return It(t).length},r.wbg.__wbg_item_48316bfa2c39d796=function(t,e){var n=It(t).item(e>>>0);return Ut(n)?0:Lt(n)},r.wbg.__wbg_createObjectURL_a97d76bcc0a4968c=function(){return ce((function(t,e){var n=jt(URL.createObjectURL(It(e)),Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n}),arguments)},r.wbg.__wbg_instanceof_Window_11e25482011fc506=function(t){return It(t)instanceof Window},r.wbg.__wbg_document_5aff8cd83ef968f5=function(t){var e=It(t).document;return Ut(e)?0:Lt(e)},r.wbg.__wbg_navigator_5c90643c2a2b6cda=function(t){return Lt(It(t).navigator)},r.wbg.__wbg_innerWidth_8c5001da2fdd6a9e=function(){return ce((function(t){return Lt(It(t).innerWidth)}),arguments)},r.wbg.__wbg_innerHeight_03d3f1d9eb5f7034=function(){return ce((function(t){return Lt(It(t).innerHeight)}),arguments)},r.wbg.__wbg_performance_9d1ecf711183e1d5=function(t){var e=It(t).performance;return Ut(e)?0:Lt(e)},r.wbg.__wbg_getComputedStyle_344a4d9212ebf966=function(){return ce((function(t,e){var n=It(t).getComputedStyle(It(e));return Ut(n)?0:Lt(n)}),arguments)},r.wbg.__wbg_requestAnimationFrame_1fb079d39e1b8a26=function(){return ce((function(t,e){return It(t).requestAnimationFrame(It(e))}),arguments)},r.wbg.__wbg_setTimeout_ce28a603906ebcbb=function(){return ce((function(t,e,n){return It(t).setTimeout(It(e),n)}),arguments)},r.wbg.__wbg_error_d95afd6217cfd219=function(t){console.error(It(t))},r.wbg.__wbg_error_0147c5cf9d9745cf=function(t,e,n){console.error(It(t),It(e),It(n))},r.wbg.__wbg_warn_b39e749f1dc02058=function(t){console.warn(It(t))},r.wbg.__wbg_new_515b65a8e7699d00=function(){return Lt(new Array)},r.wbg.__wbg_get_b7bbf50adcc94294=function(t,e){return Lt(It(t)[e>>>0])},r.wbg.__wbg_length_555f836564bf148d=function(t){return It(t).length},r.wbg.__wbg_push_b7f68478f81d358b=function(t,e){return It(t).push(It(e))},r.wbg.__wbg_instanceof_ArrayBuffer_1ae2a91a8421001f=function(t){return It(t)instanceof ArrayBuffer},r.wbg.__wbg_slice_3563f88f39165260=function(t,e,n){return Lt(It(t).slice(e>>>0,n>>>0))},r.wbg.__wbg_instanceof_Error_2ef86611e2afab04=function(t){return It(t)instanceof Error},r.wbg.__wbg_message_e440fbd911a845a2=function(t){return Lt(It(t).message)},r.wbg.__wbg_newnoargs_9fdd8f3961dd1bee=function(t,e){return Lt(new Function(Pt(t,e)))},r.wbg.__wbg_call_ba36642bd901572b=function(){return ce((function(t,e){return Lt(It(t).call(It(e)))}),arguments)},r.wbg.__wbg_call_3fc07b7d5fc9022d=function(){return ce((function(t,e,n){return Lt(It(t).call(It(e),It(n)))}),arguments)},r.wbg.__wbg_getTimezoneOffset_baab8599eeb15f06=function(t){return It(t).getTimezoneOffset()},r.wbg.__wbg_new_f994c74215dcdb52=function(t){return Lt(new Date(It(t)))},r.wbg.__wbg_is_a973b4c0e9019083=function(t,e){return Object.is(It(t),It(e))},r.wbg.__wbg_keys_a56f3f1587eb77e9=function(t){return Lt(Object.keys(It(t)))},r.wbg.__wbg_new_edbe38a4e21329dd=function(){return Lt(new Object)},r.wbg.__wbg_get_800098c980b31ea2=function(){return ce((function(t,e){return Lt(Reflect.get(It(t),It(e)))}),arguments)},r.wbg.__wbg_set_73349fc4814e0fc6=function(){return ce((function(t,e,n){return Reflect.set(It(t),It(e),It(n))}),arguments)},r.wbg.__wbg_buffer_9e184d6f785de5ed=function(t){return Lt(It(t).buffer)},r.wbg.__wbg_instanceof_Promise_b2dc9a259c6bc079=function(t){return It(t)instanceof Promise},r.wbg.__wbg_new_c143a4f563f78c4e=function(t,e){try{var n={a:t,b:e},r=new Promise(((t,e)=>{const r=n.a;n.a=0;try{return function(t,e,n,r){Et.wasm_bindgen__convert__closures__invoke2_mut__hdefe806df71e4fe1(t,e,Lt(n),Lt(r))}(r,n.b,t,e)}finally{n.a=r}}));return Lt(r)}finally{n.a=n.b=0}},r.wbg.__wbg_resolve_cae3d8f752f5db88=function(t){return Lt(Promise.resolve(It(t)))},r.wbg.__wbg_then_c2361a9d5c9a4fcb=function(t,e){return Lt(It(t).then(It(e)))},r.wbg.__wbg_then_6c9a4bf55755f9b8=function(t,e,n){return Lt(It(t).then(It(e),It(n)))},r.wbg.__wbg_self_bb69a836a72ec6e9=function(){return ce((function(){return Lt(self.self)}),arguments)},r.wbg.__wbg_window_3304fc4b414c9693=function(){return ce((function(){return Lt(window.window)}),arguments)},r.wbg.__wbg_globalThis_e0d21cabc6630763=function(){return ce((function(){return Lt(globalThis.globalThis)}),arguments)},r.wbg.__wbg_global_8463719227271676=function(){return ce((function(){return Lt(n.g.global)}),arguments)},r.wbg.__wbg_newwithbyteoffsetandlength_e57ad1f2ce812c03=function(t,e,n){return Lt(new Uint8Array(It(t),e>>>0,n>>>0))},r.wbg.__wbg_new_e8101319e4cf95fc=function(t){return Lt(new Uint8Array(It(t)))},r.wbg.__wbg_buffer_1c5918a4ab656ff7=function(t){return Lt(It(t).buffer)},r.wbg.__wbg_length_2d56cb37075fcfb1=function(t){return It(t).length},r.wbg.__wbg_byteLength_e0515bc94cfc5dee=function(t){return It(t).byteLength},r.wbg.__wbg_byteOffset_77eec84716a2e737=function(t){return It(t).byteOffset},r.wbg.__wbg_set_e8ae7b27314e8b98=function(t,e,n){It(t).set(It(e),n>>>0)},r.wbg.__wbindgen_number_get=function(t,e){const n=It(e);var r="number"==typeof n?n:void 0;(null!==Wt&&Wt.buffer===Et.memory.buffer||(Wt=new Float64Array(Et.memory.buffer)),Wt)[t/8+1]=Ut(r)?0:r,Zt()[t/4+0]=!Ut(r)},r.wbg.__wbindgen_is_string=function(t){return"string"==typeof It(t)},r.wbg.__wbindgen_string_get=function(t,e){const n=It(e);var r="string"==typeof n?n:void 0,i=Ut(r)?0:jt(r,Et.__wbindgen_malloc,Et.__wbindgen_realloc),a=Bt;Zt()[t/4+1]=a,Zt()[t/4+0]=i},r.wbg.__wbindgen_boolean_get=function(t){const e=It(t);return"boolean"==typeof e?e?1:0:2},r.wbg.__wbindgen_debug_string=function(t,e){var n=jt(qt(It(e)),Et.__wbindgen_malloc,Et.__wbindgen_realloc),r=Bt;Zt()[t/4+1]=r,Zt()[t/4+0]=n},r.wbg.__wbindgen_throw=function(t,e){throw new Error(Pt(t,e))},r.wbg.__wbindgen_rethrow=function(t){throw Ht(t)},r.wbg.__wbindgen_memory=function(){return Lt(Et.memory)},r.wbg.__wbindgen_closure_wrapper2853=function(t,e,n){return Lt($t(t,e,30,Gt))},r.wbg.__wbindgen_closure_wrapper2855=function(t,e,n){return Lt($t(t,e,42,Xt))},r.wbg.__wbindgen_closure_wrapper2857=function(t,e,n){return Lt(Qt(t,e,34,Kt))},r.wbg.__wbindgen_closure_wrapper2859=function(t,e,n){return Lt(Qt(t,e,44,Jt))},r.wbg.__wbindgen_closure_wrapper2861=function(t,e,n){return Lt($t(t,e,40,te))},r.wbg.__wbindgen_closure_wrapper2863=function(t,e,n){return Lt(Qt(t,e,38,ee))},r.wbg.__wbindgen_closure_wrapper2865=function(t,e,n){return Lt(Qt(t,e,36,ne))},r.wbg.__wbindgen_closure_wrapper2867=function(t,e,n){return Lt($t(t,e,32,re))},r.wbg.__wbindgen_closure_wrapper8916=function(t,e,n){return Lt($t(t,e,1616,ae))},r.wbg.__wbindgen_closure_wrapper9520=function(t,e,n){return Lt($t(t,e,1683,oe))},r.wbg.__wbindgen_closure_wrapper12236=function(t,e,n){return Lt($t(t,e,1696,le))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:i,module:a}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await e,r);return Et=i.exports,t.__wbindgen_wasm_module=a,Et};var he=n(5505),ge=(n(7144),class extends HTMLElement{constructor(){super()}get name(){return"Debug"}get select_mode(){return"select"}get min_config_columns(){}get config_column_names(){}async update(t){return this.draw(t)}async draw(t){this.style.backgroundColor="#fff";let e=await t.to_csv();this.innerHTML=`<pre style='margin:0;overflow:scroll;position:absolute;width:100%;height:100%'>${e}</pre>`}async clear(){this.innerHTML=""}async resize(){}async restyle(){}async save(){}async restore(){}async delete(){}});function pe(t){return 559903==new Uint32Array(t.slice(0,4))[0]}document.createElement("perspective-viewer-plugin").constructor===HTMLElement&&window.customElements.define("perspective-viewer-plugin",ge),window.addEventListener("unhandledrejection",(t=>{"View method cancelled"===t.reason?.message&&t.preventDefault()}));var _e=async function(){let t=await he,e=[],n=0,r=new z((t=>{t&&(n+=t.byteLength,e.push(t))}));if(t instanceof URL||"string"==typeof t){let i=(await fetch(t.toString())).body.getReader(),a=0;for(;;){let{value:t,done:o}=await i.read();if(o)break;0===a&&pe(t.buffer)||1===a?(a=1,r.push(t,o)):(a=2,n+=t.byteLength,e.push(t))}}else if(t instanceof Uint8Array)pe(t.buffer)?r.push(t,!0):(n=t.byteLength,e=[t]);else{let i=new Uint8Array(t);pe(t)?r.push(i,!0):(n=i.byteLength,e=[i])}let i=0,a=new Uint8Array(n);for(let t of e)a.set(t,i),i+=t.byteLength;return await de(a)}(),be=class extends HTMLElement{constructor(){super(),this.load_wasm()}async load_wasm(){await _e,this.instance||(this.instance=new fe(this))}async connectedCallback(){await this.load_wasm(),this.instance.connected_callback()}static async registerPlugin(t){var e,n;await _e,e=jt(t,Et.__wbindgen_malloc,Et.__wbindgen_realloc),n=Bt,Et.register_plugin(e,n)}async load(t){await this.load_wasm(),await this.instance.js_load(t)}async notifyResize(t=!1){await this.load_wasm(),await this.instance.js_resize(t)}async setAutoSize(t=!0){await this.load_wasm(),await this.instance.js_set_auto_size(t)}async getTable(t){return await this.load_wasm(),await this.instance.js_get_table(!!t)}async getView(){return await this.load_wasm(),await this.instance.js_get_view()}async restore(t){await this.load_wasm(),await this.instance.js_restore(t)}async save(t){return await this.load_wasm(),await this.instance.js_save(t)}async flush(){await this.load_wasm(),await this.instance.js_flush()}async reset(t=!1){await this.load_wasm(),await this.instance.js_reset(t)}async delete(){await this.load_wasm(),await this.instance.js_delete()}async download(t){await this.load_wasm(),await this.instance.js_download(t)}async copy(t){await this.load_wasm(),await this.instance.js_copy(t)}async restyleElement(){await this.load_wasm(),await this.instance.js_restyle_element()}async resetThemes(t){await this.load_wasm(),await this.instance.js_reset_themes(t)}async getEditPort(){return await this.load_wasm(),await this.instance.js_get_edit_port()}async setThrottle(t){await this.load_wasm(),await this.instance.js_set_throttle(t)}async toggleConfig(t){await this.load_wasm(),await this.instance.js_toggle_config(t)}async getPlugin(t){return await this.load_wasm(),await this.instance.js_get_plugin(t)}async getAllPlugins(){return await this.load_wasm(),await this.instance.js_get_all_plugins()}};function me(t,e){return function(n,r){let i=0;for(let a of e)if(a in n){if(i++>0)throw new Error(`Duplicate "${t}" fields`);n[t]=n[a],a!==t&&(delete n[a],r.warn&&console.warn(`Deprecated perspective attribute "${a}" renamed "${t}"`))}return n}}document.createElement("perspective-viewer").constructor===HTMLElement&&window.customElements.define("perspective-viewer",be),me("group_by",["group_by","row_pivots","row-pivot","row-pivots","row_pivot"]),me("split_by",["split_by","column_pivots","column-pivot","column-pivots","column_pivot","col_pivots","col-pivot","col-pivots","col_pivot"]),me("filter",["filter","filters"]);var ve=class extends HTMLElement{constructor(){super()}async open(t,e,n){this.instance?this.instance.reset(e,n):this.instance=new se(this,e,n),this.instance.open(t)}destroy(){this.instance.destroy()}};document.createElement("perspective-number-column-style").constructor===HTMLElement&&window.customElements.define("perspective-number-column-style",ve);var ye=class extends HTMLElement{constructor(){super()}async open(t,e,n){this.instance?this.instance.reset(e):this.instance=new ue(this,e,n),this.instance.open(t)}destroy(){this.instance.destroy()}};document.createElement("perspective-string-column-style").constructor===HTMLElement&&window.customElements.define("perspective-string-column-style",ye),n(8136);var we,xe=n(1215),Se=n.n(xe),Me=Object.create,ke=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,Ce=Object.getOwnPropertyNames,Te=Object.getPrototypeOf,Ee=Object.prototype.hasOwnProperty,Ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ve=Ne(((t,e)=>{e.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),De=Ne(((t,e)=>{var n=Ve().default;function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}function i(t,...e){if(!e.length)return t;let n=e.shift();if(r(t)&&r(n))for(let e in n)r(n[e])?(t[e]||Object.assign(t,{[e]:{}}),i(t[e],n[e])):Object.assign(t,{[e]:n[e]});return i(t,...e)}e.exports.get_types=function(){return Object.keys(e.exports.get_config().types)},e.exports.get_type_config=function(t){let n={};if(e.exports.get_config().types[t]&&Object.assign(n,e.exports.get_config().types[t]),n.type){let t=e.exports.get_type_config(n.type);return Object.assign(t,n),t}return n},window.__PERSPECTIVE_CONFIG__=void 0,e.exports.override_config=function(t){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=i(n,t)},e.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=i(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}})),Pe=(we=De(),((t,e,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of Ce(e))!Ee.call(t,r)&&"default"!==r&&ke(t,r,{get:()=>e[r],enumerable:!(n=Ae(e,r))||n.enumerable});return t})((t=>ke(t,"__esModule",{value:!0}))(ke(null!=we?Me(Te(we)):{},"default",we&&we.__esModule&&"default"in we?{get:()=>we.default,enumerable:!0}:{value:we,enumerable:!0})),we)),ze=Symbol("Plugin Symbol");function Oe(t){let[e,n,r]=t.rgb(),[i,a,o]=t.set("hsl.h",(t.get("hsl.h")-15)%360).rgb(),[l,c,s]=t.set("hsl.h",(t.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${i},${a},${o}),rgb(${e},${n},${r}) 50%,rgb(${l},${c},${s}))`}function Le(t,e,n){let r,i=void 0!==n,a=document.createElement(`perspective-${i?"number":"string"}-column-style`),o=t.getMeta(e),l=o.column_header[o.column_header.length-1],c=this._schema[l];if(r=i?{gradient:n,pos_color:this._pos_color[0],neg_color:this._neg_color[0],number_color_mode:"foreground"}:{color:this._color[0]},"string"!==c)if("float"===c)r.fixed=2;else{if("integer"!==c)return this._open_column_styles_menu.pop(),void t.draw({preserve_width:!0});r.fixed=0}let s=()=>a.blur(),u=e=>{let n=e.detail;n.pos_color&&(n.pos_color=[n.pos_color,...Se()(n.pos_color).rgb(),Oe(Se()(n.pos_color))],n.neg_color=[n.neg_color,...Se()(n.neg_color).rgb(),Oe(Se()(n.neg_color))]),n.color&&(n.color=[n.color,...Se()(n.color).rgb(),Oe(Se()(n.color))]),t[ze]=t[ze]||{},t[ze][l]=n,t.draw({preserve_width:!0}),t.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"))},f=async()=>{t.removeEventListener("regular-table-scroll",s),a.removeEventListener("perspective-column-style-change",u),a.removeEventListener("blur",f),a.destroy(),this._open_column_styles_menu.pop(),await t.draw({preserve_width:!0}),t.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"))};a.addEventListener("perspective-column-style-change",u),a.addEventListener("blur",f),t.addEventListener("regular-table-scroll",s);let d=t[ze]||{},h=Object.assign({},d[l]=d[l]||{});h.pos_color&&(h.pos_color=h.pos_color[0],h.neg_color=h.neg_color[0]),h.color&&(h.color=h.color[0]),a.open(e,h,r)}function Ie([t,e,n,r],i=[255,255,255]){function a(t,e){return 255*((1-r)*(i[t]/255)+r*(e/255))}return[a(0,t),a(1,e),a(2,n)]}function Be([t,e,n]){return Math.sqrt(t*t*.299+e*e*.587+n*n*.114)>130?"#161616":"#ffffff"}function Re(t){let e=t._view_cache.config.row_pivots.length-1,n=Array.from(t.children[0].children[0].children),r=t[ze]||{};if(n.length>0){let[r]=n.splice(n.length-1,1);for(let n of r?.children){let r=t.getMeta(n),i=r.column_header?.[r.column_header?.length-1],a=this._config.sort.find((t=>t[0]===i)),o=r.row_header_x===e,l=void 0===r.x;o=o||(r.x+1)%this._config.columns.length==0,n.classList.toggle("psp-header-border",o),n.classList.toggle("psp-header-group",!1),n.classList.toggle("psp-header-leaf",!0),n.classList.toggle("psp-is-top",!1),n.classList.toggle("psp-header-corner",l),n.classList.toggle("psp-header-sort-asc",!!a&&"asc"===a[1]),n.classList.toggle("psp-header-sort-desc",!!a&&"desc"===a[1]),n.classList.toggle("psp-header-sort-col-asc",!!a&&"col asc"===a[1]),n.classList.toggle("psp-header-sort-col-desc",!!a&&"col desc"===a[1]);let c=an.call(this,r),s="integer"===c||"float"===c,u="string"===c;n.classList.toggle("psp-align-right",s),n.classList.toggle("psp-align-left",!s),n.classList.toggle("psp-menu-open",this._open_column_styles_menu[0]===r._virtual_x),n.classList.toggle("psp-menu-enabled",(u||s)&&!l),n.classList.toggle("psp-is-width-override",void 0!==t._column_sizes?.override[r.size_key])}}let i=[],a=new Set,o=t.children[0];for(let r=0;r<n.length;r++){let n=o.rows[r],l=new Set;for(let o=0;o<n.cells.length;o++){let c=n.cells[o];c.style.backgroundColor="";let s=t.getMeta(c),u=s.row_header_x===e||s.x>=0;c.classList.toggle("psp-align-right",!1),c.classList.toggle("psp-align-left",!1),c.classList.toggle("psp-header-group",!0),c.classList.toggle("psp-header-leaf",!1),c.classList.toggle("psp-header-border",u),c.classList.toggle("psp-header-group-corner",void 0===s.x),c.classList.toggle("psp-color-mode-bar",!1),c.classList.toggle("psp-header-sort-asc",!1),c.classList.toggle("psp-header-sort-desc",!1),c.classList.toggle("psp-header-sort-col-asc",!1),c.classList.toggle("psp-header-sort-col-desc",!1);let f,d,h=n.cells[o],g=o;for(;i[r]&&i[r][g];++g);for(l.add(g),f=g;f<g+h.colSpan;++f)for(d=r;d<r+h.rowSpan;++d)i[d]||(i[d]=[]),i[d][f]=!0;h.classList.toggle("psp-is-top",0===r||!a.has(f))}a=l}for(let e of t.children[0].children[1].children)for(let n of e.children){let e=t.getMeta(n),i=e.column_header?.[e.column_header?.length-1],a=an.call(this,e),o=r[i],l="integer"===a||"float"===a;if(l){let t=e.user>0,r=e.user<0,[i,a,l,c,s]=(()=>void 0!==o?.pos_color?t?o.pos_color:r?o.neg_color:["",0,0,0,""]:t?this._pos_color:r?this._neg_color:["",0,0,0,""])();if(n.style.position="","background"===o?.number_color_mode){let t=Be(Ie([a,l,c,1],this._plugin_background));n.style.color=t,n.style.backgroundColor=i}else if("gradient"===o?.number_color_mode){let t=Math.max(0,Math.min(1,Math.abs(e.user/o.gradient))),r=Be(Ie([a,l,c,t],this._plugin_background));n.style.color=r,n.style.backgroundColor=`rgba(${a},${l},${c},${t})`}else"disabled"===o?.number_color_mode?(n.style.backgroundColor="",n.style.color=""):"bar"===o?.number_color_mode?(n.style.backgroundColor="",n.style.color="",n.style.position="relative",""!==s&&n.children.length>0&&n.children[0].nodeType===Node.ELEMENT_NODE&&(n.children[0].style.background=s)):(n.style.backgroundColor="",n.style.color=i)}else if("boolean"===a){let[t]=!0===e.user?this._pos_color:!1===e.user?this._neg_color:["",0,0,0,""];n.style.backgroundColor="",n.style.color=t}else if("string"===a){let[t,r,a,l,c]=(()=>void 0!==o?.color?o.color:this._color)();if("foreground"===o?.string_color_mode&&null!==e.user)n.style.color=t,n.style.backgroundColor="","link"===o?.format&&(n.children[0].style.color=t);else if("background"===o?.string_color_mode&&null!==e.user){let e=Be(Ie([r,a,l,1],this._plugin_background));n.style.color=e,n.style.backgroundColor=t}else if("series"===o?.string_color_mode&&null!==e.user){this._series_color_map.has(i)||(this._series_color_map.set(i,new Map),this._series_color_seed.set(i,0));let r=this._series_color_map.get(i);if(!r.has(e.user)){let t=this._series_color_seed.get(i);r.set(e.user,t),this._series_color_seed.set(i,t+1)}let a=r.get(e.user),[o,l,c]=Se()(t).hsl();o+=150*a%360;let s=Se()(o,l,c,"hsl"),[u,f,d]=s.rgb(),h=s.hex(),g=Be(Ie([u,f,d,1],this._plugin_background));n.style.color=g,n.style.backgroundColor=h}else n.style.backgroundColor="",n.style.color=""}else n.style.backgroundColor="",n.style.color="";n.classList.toggle("psp-bool-type","boolean"===a&&null!==e.user);let c="TH"===n.tagName;if(c){let r=null!=typeof e.value&&null!=typeof e.value&&e.value?.toString()?.trim().length>0,i=e.row_header_x>=this._config.group_by.length,a=t.getMeta({dx:0,dy:e.y-e.y0+1}),o=a&&a.row_header&&void 0!==a.row_header[e.row_header_x+1];n.classList.toggle("psp-tree-label",r&&!i),n.classList.toggle("psp-tree-label-expand",r&&!i&&!o),n.classList.toggle("psp-tree-label-collapse",r&&!i&&o),n.classList.toggle("psp-tree-leaf",r&&i)}n.classList.toggle("psp-align-right",!c&&l),n.classList.toggle("psp-align-left",c||!l),n.classList.toggle("psp-color-mode-bar","bar"===o?.number_color_mode&&l)}}async function Ye(t,e,n){let r=t.getMeta(n),i=r.column_header[r.column_header.length-1],a=(e.shiftKey?je:Fe).call(this,i);t.dispatchEvent(new CustomEvent("regular-table-psp-sort",{detail:{sort:a}}))}function je(t){let e=[],n=!1;for(let r of this._config.sort){let[i,a]=r;if(i===t){n=!0;let r=Ze.call(this,t,a);r&&e.push(r)}else e.push(r)}return n||e.push([t,"desc"]),e}function Fe(t){for(let[e,n]of this._config.sort)if(e===t){let e=Ze.call(this,t,n);return e?[e]:[]}return[[t,"desc"]]}function Ze(t,e){let n=this._config.split_by.length>0?Ue:He,r=e?n[e]:"desc";if(r)return[t,r]}var He={desc:"asc",asc:void 0},Ue={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};async function We(t,e){let n=t.getMeta(e.target),r=e.target.classList.contains("psp-tree-label-collapse");e.shiftKey&&r?this._view.set_depth(n.row_header.filter((t=>void 0!==t)).length-2):e.shiftKey?this._view.set_depth(n.row_header.filter((t=>void 0!==t)).length-1):r?this._view.collapse(n.y):this._view.expand(n.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),t.draw()}async function qe(t,e){if(1!==e.which)return;let n=e.target;if("A"===n.tagName)return;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!t.contains(n))return;if(n.classList.contains("psp-tree-label")&&e.offsetX<26)return We.call(this,t,e),void e.stopImmediatePropagation();let r=n.getBoundingClientRect();if(n.classList.contains("psp-menu-enabled")&&e.clientY-r.top>16){let r=t.getMeta(n),i=r.column_header?.[r.column_header?.length-1],a=this._schema[i];if(this._open_column_styles_menu.unshift(r._virtual_x),"string"===a)t.draw({preserve_width:!0}),Le.call(this,t,n);else{let[,e]=await this._view.get_min_max(i);t.draw({preserve_width:!0}),Le.call(this,t,n,e)}e.preventDefault(),e.stopImmediatePropagation()}else n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner")&&(Ye.call(this,t,e,n),e.stopImmediatePropagation())}function $e(t,e){if(1!==e.which)return;let n=e.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!t.contains(n))return;(n.classList.contains("psp-tree-label")&&e.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&e.stopImmediatePropagation()}var Ge={},Xe={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(t){return t?"check":"close"}}},Qe=Ge;function Ke(t,e,n={},r=!1){if(null===e)return"-";let i=t[t.length-1],a=r&&this._table_schema[i]||this._schema[i]||"string",o=n[i],l="integer"===a||"float"===a;if(l&&"bar"===o?.number_color_mode){let t=Math.max(0,Math.min(.95,.95*Math.abs(e/o.gradient))),n=this._div_factory.get(),r=e>=0?"left":"right";return n.setAttribute("style",`width:${(100*t).toFixed(2)}%;position:absolute;${r}:0;height:80%;top:10%;pointer-events:none;`),n}if("link"===o?.format&&"string"===a){let t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("target","_blank"),t.textContent=e,t}if("bold"===o?.format&&"string"===a){let t=document.createElement("b");return t.textContent=e,t}if("italics"===o?.format&&"string"===a){let t=document.createElement("i");return t.textContent=e,t}{let t=l&&o&&void 0!==o.fixed,n=t?`${a}${o.fixed}`:a;if(void 0===Ge[n]){let e=(0,Pe.get_type_config)(a);if(t){let t={minimumFractionDigits:o.fixed,maximumFractionDigits:o.fixed};Ge[n]=new Xe[a]("en-us",t)}else Xe[a]?Ge[n]=new Xe[a]("en-us",e.format):Ge[n]=!1}return Ge[n]?Ge[n].format(e):e}}function*Je(t=[],e,n){let r=n[ze];for(let n of t){n=["TOTAL",...n];let t=n[n.length-1];n=n.slice(0,n.length-1).fill("");let i=Ke.call(this,[e[n.length-1]],t,r,!0);n=i instanceof HTMLElement?n.concat(i):n.concat({toString:()=>i}),n.length=e.length+1,yield n}}async function tn(t,e,n,r,i){let a={};r-e>0&&i-n>0?(a=await this._view.to_columns({start_row:n,start_col:e,end_row:i,end_col:r,id:!0}),this._ids=a.__ID__):this._div_factory.clear();let o=[],l=[],c=[];for(let s of this._column_paths.slice(e,r)){let e=s.split("|"),r=a[s]||new Array(i-n).fill(null);o.push(r.map((n=>Ke.call(this,e,n,t[ze])))),l.push(r),c.push(e)}return{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(Je.call(this,a.__ROW_PATH__,this._config.group_by,t)),column_headers:c,data:o,metadata:l}}function en(t,e,n){let r=window.getComputedStyle(t).getPropertyValue(e).trim();return r.length>0?r:n}function nn(t){let e=Se()(t),n=Oe(e);return[t,...e.rgb(),n]}async function rn(t,e,n,r={}){let i=await n.get_config(),a=i.expressions.map((t=>t[1])),[o,l,c,s,u,f]=await Promise.all([e.schema(),e.validate_expressions(a),n.num_rows(),n.schema(),n.expression_schema(),n.column_paths()]),d=Se()(en(t,"--plugin--background","#FFFFFF")).rgb(),h=nn(en(t,"--rt-pos-cell--color","#338DCD")),g=nn(en(t,"--rt-neg-cell--color","#FF5942")),p=nn(en(t,"--active--color","#ff0000")),_={...s,...u},b={...o,...l.expression_schema},m=f.filter((t=>"__ROW_PATH__"!==t&&"__ID__"!==t)),v=[],y=[];for(let t of m){let e=t.split("|"),n=e[e.length-1];y.push(_[n]),v.push(!!o[n])}let w=Object.assign(r,{_view:n,_table:e,_table_schema:b,_config:i,_num_rows:c,_schema:_,_ids:[],_open_column_styles_menu:[],_plugin_background:d,_color:p,_pos_color:h,_neg_color:g,_column_paths:m,_column_types:y,_is_editable:v,_row_header_types:i.group_by.map((t=>b[t])),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:an});return w._div_factory=w._div_factory||new class{constructor(t){this._name=t,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let t=this._elements[this._index];return this._index+=1,t}}("div"),t.setDataListener(tn.bind(w,t),{virtual_mode:window.getComputedStyle(t).getPropertyValue("--datagrid-virtual-mode")?.trim()||"both"}),w}function an(t){return t.x>=0?this._column_types[t.x]:this._row_header_types[t.row_header_x-1]}async function on(t,e){t.addStyleListener(Re.bind(e,t)),t.addEventListener("mousedown",qe.bind(e,t)),t.addEventListener("click",$e.bind(e,t)),await t.draw()}async function ln({_view:t,_config:e},n,r){let i=e.group_by,a=e.split_by,o=n>=0?n:0,l=o+1,c=await t.to_json({start_row:o,end_row:l}),s=c.map((t=>t.__ROW_PATH__))[0]||[],u=i.map(((t,e)=>{let n=s[e];return n?[t,"==",n]:void 0})).filter((t=>t)),f=i.length>0?r+1:r,d=Object.keys(c[0])[f],h={row:c[0]},g=[];if(d){let t=d.split("|");h.column_names=[t[t.length-1]],g=a.map(((e,n)=>{let r=t[n];return r?[e,"==",r]:void 0})).filter((t=>t)).filter((([,,t])=>"__ROW_PATH__"!==t))}let p=e.filter.concat(u).concat(g);return h.config={filter:p},h}var cn=new WeakMap;async function sn(t,e,n){let r=t.getMeta(n.target);if(!e.hasAttribute("selectable")||n.handled||1!==n.which||!r)return;let i=this._ids[r.y-r.y0];if(r&&r.y>=0){let a=cn.get(t),o=!!a&&a.reduce(((t,e,n)=>t&&e===i[n]),!0),l=!!a&&i.length===a.length&&o,c=[];l?cn.delete(t):(cn.set(t,i),c=await ln(this,r.y,r.x),c=c.config.filter),await t.draw({preserve_width:!0}),n.handled=!0,e.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:{selected:!l,config:{filter:c}}}))}}function un(t,e){if(!e.hasAttribute("selectable"))return;let n=cn.has(t),r=cn.get(t);for(let e of t.querySelectorAll("td"))if(n){let n=t.getMeta(e),i=this._ids[n.y-n.y0],a=r.reduce(((t,e,n)=>t&&e===i[n]),!0);e.classList.toggle("psp-row-selected",i.length===r.length&&a),e.classList.toggle("psp-row-subselected",i.length!==r.length&&a)}else e.classList.toggle("psp-row-selected",!1),e.classList.toggle("psp-row-subselected",!1);for(let e of t.querySelectorAll("tbody th")){let i=t.getMeta(e),a=this._ids[i.y-i.y0];if(!n||a[i.row_header_x])e.classList.toggle("psp-row-selected",!1),e.classList.toggle("psp-row-subselected",!1);else{let t=r.reduce(((t,e,n)=>t&&e===a[n]),!0);e.classList.toggle("psp-row-selected",a.length===r.length&&t),e.classList.toggle("psp-row-subselected",a.length!==r.length&&t)}}}function fn(t,e){t.addStyleListener(un.bind(this,t,e)),t.addEventListener("mousedown",sn.bind(this,t,e))}async function dn(t,e,n){let r=t.getMeta(n.target);if(!r)return;let{x:i,y:a}=r,{row:o,column_names:l,config:c}=await ln(this,a,i);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:o,column_names:l,config:c}}))}function hn(t,e){t.addEventListener("click",dn.bind(this,t,e))}var gn=new WeakMap;function pn(){if(this.isContentEditable){let t=document.getSelection().getRangeAt(0),e=t.cloneRange();return e.selectNodeContents(this),e.setEnd(t.endContainer,t.endOffset),e.toString().length}return this.target.selectionStart}function _n(t,e,n){let r=t.getMeta(n),i=e._schema[e._column_paths[r.x]];if(r){let t=n.textContent,a=e._ids[r.y-r.y0];if("float"===i||"integer"===i){if(t=parseFloat(t.replace(/,/g,"")),isNaN(t))return!1}else if("date"===i||"datetime"===i){if(t=Date.parse(t),isNaN(t))return!1}else"boolean"===i&&(t="check"!==t&&("close"===t||null));let o={__INDEX__:a,[e._column_paths[r.x]]:t};return e._table.update([o],{port_id:e._edit_port}),!0}}function bn(t,e=!1){let n=0===this._config.group_by.length&&0===this._config.split_by.length,r=t.hasAttribute("selectable"),i=e||!!t.children[0]._is_edit_mode;return n&&!r&&i}var mn=function(t){let e;return async function(...n){if(e&&await e&&e)return;let r;e=new Promise((t=>r=t)),await t.apply(this,n),e=void 0,r()}}((async function(t,e,n,r){let i=t.getMeta(e),a=this._column_paths.length,o=this._num_rows,l=gn.get(t);if(!l)return;i.x+n<a&&0<=i.x+n&&(l.x=i.x+n),i.y+r<o&&0<=i.y+r&&(l.y=i.y+r);let c=Math.max(i.x0-10,0),s=Math.min(i.x0+10,a),u=Math.max(i.y0-5,0),f=Math.min(i.y0+10,o),d=i.x0+n,h=i.y0+r;for(;!yn(t)&&d>=c&&d<s&&h>=u&&h<f;)await t.scrollToCell(d,h,a,o),gn.set(t,l),d+=n,h+=r}));function vn(t,e){let n=t[ze]||{},r=bn.call(this,e);t.parentElement.classList.toggle("edit-mode-allowed",bn.call(this,e,!0));for(let e of t.querySelectorAll("td")){let i=t.getMeta(e),a=this.get_psp_type(i);if(this._is_editable[i.x]){let t=i.column_header[i.column_header.length-1];"string"===a&&"link"===n[t]?.format?(e.toggleAttribute("contenteditable",!1),e.classList.toggle("boolean-editable",!1)):"boolean"===a?(e.toggleAttribute("contenteditable",!1),e.classList.toggle("boolean-editable",null!==i.user)):(r!==e.hasAttribute("contenteditable")&&e.toggleAttribute("contenteditable",r),e.classList.toggle("boolean-editable",!1))}else e.toggleAttribute("contenteditable",!1),e.classList.toggle("boolean-editable",!1)}}var yn=t=>{let e=t.querySelectorAll("td"),n=gn.get(t);if(n){for(let r of e){let e=t.getMeta(r);if(e.x===n.x&&e.y===n.y)return document.activeElement!==r&&r.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&t.contains(document.activeElement)&&document.activeElement.blur()}};function wn(t,e,n){if(!bn.call(this,e))return;let r=document.activeElement;switch(n.target.classList.remove("psp-error"),n.keyCode){case 13:n.preventDefault(),n.shiftKey?mn.call(this,t,r,0,-1):mn.call(this,t,r,0,1);break;case 37:0==pn.call(r)&&(n.preventDefault(),mn.call(this,t,r,-1,0));break;case 38:n.preventDefault(),mn.call(this,t,r,0,-1);break;case 39:pn.call(r)==r.textContent.length&&(n.preventDefault(),mn.call(this,t,r,1,0));break;case 40:n.preventDefault(),mn.call(this,t,r,0,1)}}function xn(t,e,n){if(bn.call(this,e)&&gn.has(t)){n.target.classList.remove("psp-error");let e=gn.get(t);gn.delete(t),e.content!==n.target.textContent&&(_n(t,this,n.target)||(n.target.textContent=e.content,n.target.classList.add("psp-error"),n.target.focus()))}}function Sn(t,e,n){let r=t.getMeta(n.target);if(r){let e={x:r.x,y:r.y,content:n.target.textContent};gn.set(t,e)}}function Mn(t,e,n){let r=t.getMeta(n.target);if(void 0!==r?.x){let e=this._is_editable[r.x],i="boolean"===this.get_psp_type(r),a="-"===n.target.textContent;e&&i&&!a&&_n(t,this,n.target)}}async function kn(t,e){this._edit_port=await e.getEditPort(),t.addStyleListener(vn.bind(this,t,e)),t.addStyleListener(yn.bind(this,t,e)),t.addEventListener("click",Mn.bind(this,t,e)),t.addEventListener("focusin",Sn.bind(this,t,e)),t.addEventListener("focusout",xn.bind(this,t,e)),t.addEventListener("keydown",wn.bind(this,t,e))}async function An(t,e){t.addEventListener("regular-table-psp-sort",(t=>{this._preserve_focus_state=!0,e.restore({sort:t.detail.sort})}))}customElements.define("perspective-viewer-datagrid",class extends HTMLElement{constructor(){super(),this.datagrid=document.createElement("regular-table"),this.datagrid.formatters=Qe,this._is_scroll_lock=!0}connectedCallback(){this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar"),this._toolbar.setAttribute("slot","plugin-settings"),this._toolbar.attachShadow({mode:"open"}),this._toolbar.shadowRoot.innerHTML='\n                    <style>\n                        :host{position:relative;display:block}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0}:host #toolbar{display:flex;align-items:center;height:36px}:host #slot-container{flex:1;position:relative}#scroll_lock.lock-scroll:before{content:"lock"}#scroll_lock:before{content:"lock_open"}#select_mode:before{content:"highlight_alt"}#edit_mode:before{content:"edit_off"}#edit_mode.editable:before{content:"edit"}:host(.aggregated) #toolbar #edit_mode{display:none}.button:before{color:var(--inactive--color, #ccc);line-height:36px;font-size:14px;font-family:var(--button--font-family, "Material Icons Outlined");vertical-align:bottom;margin:0 11px}.button.editable:before,.button.lock-scroll:before{color:inherit}.button{user-select:none;width:36px;box-sizing:border-box}.button>span{display:none;margin:0;padding:0}.button:hover{opacity:1;color:inherit;cursor:pointer;min-width:105px;background-color:#0000000d}.button:hover:before{margin:0 6px 0 11px}.button:hover>span{display:contents;font-size:12px;font-weight:300;line-height:36px}\n\n                    </style>\n                    <div id="toolbar">\n                        <span id="scroll_lock" class="lock-scroll button"><span>Align Scroll</span></span>\n                        <span id="edit_mode" class="button"><span>Read Only</span></span>\n                    </div>\n                ',this._scroll_lock=this._toolbar.shadowRoot.querySelector("#scroll_lock"),this._scroll_lock.addEventListener("click",(()=>this._toggle_scroll_lock())),this._edit_mode=this._toolbar.shadowRoot.querySelector("#edit_mode"),this._edit_mode.addEventListener("click",(()=>{this._toggle_edit_mode(),this.datagrid.draw()}))),this.parentElement.appendChild(this._toolbar)}disconnectedCallback(){this._toolbar.parentElement.removeChild(this._toolbar)}_toggle_edit_mode(t){void 0===t&&(t=!this._is_edit_mode),this._is_edit_mode=t,this.classList.toggle("editable",t),this._edit_mode.classList.toggle("editable",t),this._edit_mode.children[0].textContent=t?"Editable":"Read Only"}_toggle_scroll_lock(t){void 0===t&&(t=!this._is_scroll_lock),this._is_scroll_lock=t,this.classList.toggle("sub-cell-scroll-enabled",!t),this._scroll_lock.classList.toggle("lock-scroll",t),this._scroll_lock.children[0].textContent=t?"Align Scroll":"Free Scroll"}async activate(t){let e=this.parentElement,n=await e.getTable(!0);this._initialized?await rn(this.datagrid,n,t,this.model):(this.innerHTML="",this.appendChild(this.datagrid),this.model=await rn(this.datagrid,n,t),on(this.datagrid,this.model),await fn.call(this.model,this.datagrid,e),await hn.call(this.model,this.datagrid,e),await kn.call(this.model,this.datagrid,e),await An.call(this.model,this.datagrid,e),this._initialized=!0)}get name(){return"Datagrid"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){}async draw(t){if(!this.isConnected)return;let e=this._save_column_size_overrides();await this.activate(t),this.parentElement;let n=this.datagrid.draw({invalid_columns:!0});this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.datagrid.scrollTop=0,this.datagrid.scrollLeft=0,async function(t){cn.delete(t);for(let e of t.querySelectorAll("td,th"))e.classList.toggle("psp-row-selected",!1),e.classList.toggle("psp-row-subselected",!1)}(this.datagrid),this.datagrid._resetAutoSize()),this._restore_column_size_overrides(e),await n,this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0)}async update(t){this.model._num_rows=await t.num_rows(),await this.datagrid.draw()}async resize(){this._initialized&&await this.datagrid.draw()}async clear(){this.datagrid._resetAutoSize(),this.datagrid.clear()}save(){if(this.datagrid){let t=this.datagrid,e={columns:{},scroll_lock:!!this._is_scroll_lock,editable:!!this._is_edit_mode};for(let n of Object.keys(t[ze]||{})){let r=Object.assign({},t[ze][n]);r?.pos_color&&(r.pos_color=r.pos_color[0],r.neg_color=r.neg_color[0]),r?.color&&(r.color=r.color[0]),e.columns[n]=r}let n=this._save_column_size_overrides();for(let t of Object.keys(n||{}))e.columns[t]||(e.columns[t]={}),e.columns[t].column_size_override=n[t];return JSON.parse(JSON.stringify(e))}return{}}restore(t){let e={};if((t=JSON.parse(JSON.stringify(t))).columns)for(let n of Object.keys(t.columns)){let r=t.columns[n];void 0!==r.column_size_override&&(e[n]=r.column_size_override,delete r.column_size_override),r?.pos_color&&(r.pos_color=nn(r.pos_color),r.neg_color=nn(r.neg_color)),r?.color&&(r.color=nn(r.color)),0===Object.keys(r).length&&delete t.columns[n]}"editable"in t&&this._toggle_edit_mode(t.editable),"scroll_lock"in t&&this._toggle_scroll_lock(t.scroll_lock);let n=this.datagrid;try{n._resetAutoSize()}catch{}this._restore_column_size_overrides(e,!0),n[ze]=t.columns}async restyle(t){this.draw(t)}delete(){this.datagrid.table_model&&this.datagrid._resetAutoSize(),this.datagrid.clear()}_save_column_size_overrides(){if(!this._initialized)return[];if(this._cached_column_sizes){let t=this._cached_column_sizes;return this._cached_column_sizes=void 0,t}let t=this.datagrid._column_sizes.override,{group_by:e,columns:n}=this.model._config,r=e?.length>0?e.length+1:0,i={};for(let e of Object.keys(t))if(void 0!==t[e]){let n=e-r;n>-1&&(i[this.model._column_paths[n]]=t[e])}return i}_restore_column_size_overrides(t,e=!1){if(!this._initialized)return;e&&(this._cached_column_sizes=t);let n={},{group_by:r,columns:i}=this.model._config,a=r?.length>0?r.length+1:0;for(let e of Object.keys(t))n[this.model._column_paths.indexOf(e)+a]=t[e];this.datagrid._column_sizes.override=n}}),customElements.whenDefined("perspective-viewer").then((function(){customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")})),function(){let t=document.createElement("style");t.textContent='regular-table{padding:0;margin:12px 0 0 12px;scrollbar-color:transparent transparent;scrollbar-width:thin;outline:none}regular-table:hover{scrollbar-color:rgba(0,0,0,.3) transparent}.sub-cell-scroll-enabled regular-table table tbody td,.sub-cell-scroll-enabled regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x, 0px))}.sub-cell-scroll-enabled regular-table table tbody{transform:translateY(var(--regular-table--transform-y, 0px))}.sub-cell-scroll-enabled regular-table table tbody tr:first-child td,.sub-cell-scroll-enabled regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y, 0),0 200%,200% 200%,200% var(--regular-table--clip-y, 0))}.sub-cell-scroll-enabled regular-table table thead th.rt-group-corner{background:var(--plugin--background, white);z-index:1}.sub-cell-scroll-enabled regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x, 0) 0,var(--regular-table--clip-x, 0) 200%,200% 200%,200% 0)}.sub-cell-scroll-enabled regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x, 0) var(--regular-table--clip-y, 0),var(--regular-table--clip-x, 0) 200%,200% 200%,200% var(--regular-table--clip-y, 0))}regular-table{font-family:inherit}regular-table div[tabindex]{outline:none}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}regular-table th{text-align:center}regular-table thead tr:not(:last-child) th{overflow:hidden;max-width:0px}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right}regular-table tbody th{text-align:left}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left}regular-table thead tr:last-child th{border-bottom:1px solid #eaedef}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important}regular-table th{position:relative}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid #eee;height:100%}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding:0 5px;height:19px}regular-table tr:hover td{background:#eee;opacity:1}regular-table tr:hover{color:#333}regular-table table *{box-sizing:border-box}regular-table table{position:absolute;overflow:hidden;color:#666;outline:none}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family, "Material Icons")}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family, "Material Icons")}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px #1a7da1}regular-table .rt-selected td{background-color:#eee}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%}regular-table th span.rt-group-name{text-align:left}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize}regular-table a{color:var(--rt-pos-cell--color)}regular-table a:visited{color:var(--active--color)}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#0000;border-radius:5px}regular-table::-webkit-scrollbar-thumb:horizontal{border-bottom:2px solid transparent;border-top:2px solid transparent}regular-table::-webkit-scrollbar-thumb:vertical{border-left:2px solid transparent;border-right:2px solid transparent}regular-table:hover::-webkit-scrollbar-thumb{background-color:#00000026}regular-table::-webkit-scrollbar-thumb:hover{background-color:#0000004d}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0 var(--inactive--color, #eaedef)}.psp-header-group{box-shadow:0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-is-top{box-shadow:5px 4px 0 -4px var(--inactive--color, #eaedef)}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0 -4px var(--inactive--color, #eaedef),0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0 var(--inactive--color, #eaedef),0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0 -4px var(--inactive--color, #eaedef)}tr:only-child th{box-shadow:none!important}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--rt-hover--border-color, #c5c9d080)!important;background-color:transparent;box-shadow:0 1px 0 var(--rt-hover--border-color, #c5c9d080),0 3px #0000000d,0 5px #00000003}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:1px;border-right-color:transparent}regular-table tbody tr:hover{color:#161616}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color, #c5c9d080)!important}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color, #c5c9d080)!important}perspective-viewer[settings] regular-table .psp-header-leaf{height:36px;vertical-align:top;padding-top:2px}perspective-viewer[settings] regular-table .psp-header-leaf:not(.psp-header-corner):before{font-family:var(--button--font-family, inherit);content:var(--column-style-open-button--content, var(--config-button-icon--content, "\\1f527"));position:absolute;width:calc(100% - 8px);left:5px;bottom:0px;color:var(--inactive--color, #b4b7be)}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:not(.psp-header-corner):before{color:inherit;cursor:pointer}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner){pointer-events:none}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner):before{content:var(--column-style-close-button--content, "X")}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:hover:before{color:#338dcd}perspective-viewer[settings] regular-table .psp-header-leaf .rt-column-resize{height:18px}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:#fff!important;background-color:#ea7319!important;border-color:#ea7319!important}.psp-row-selected.psp-tree-label:not(:hover):before{color:#fff}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,.2)!important}.psp-error{color:red}td:focus{outline:#666;outline-style:dotted;outline-width:1px}perspective-viewer.dragging regular-table{pointer-events:none}.psp-header-border:last-child{border-right-width:0px}.psp-header-sort-desc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-desc--content, "\\2193")}.psp-header-sort-asc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-asc--content, "\\2191")}.psp-header-sort-col-desc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-col-desc--content, "\\2190")}.psp-header-sort-col-asc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-col-asc--content, "\\2192")}tbody th:last-of-type{border-right:1px solid #eaedef;overflow:hidden;text-overflow:ellipsis}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,#eee 10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none}.psp-tree-label{max-width:0px;min-width:0px}.psp-tree-label:before{color:#ccc;font-family:var(--button--font-family, inherit);padding-right:11px;vertical-align:-1px}.psp-tree-label-expand:before{content:var(--tree-label-expand--content, "+")}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content, "-")}.psp-tree-label:hover:before{color:#338dcd;text-shadow:0px 0px 5px #338dcd}regular-table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--color, #eaedef)}.psp-tree-leaf{padding-left:24px}.psp-align-right{text-align:right}.psp-align-left{text-align:left}.psp-positive:not(:focus){color:var(--rt-pos-cell--color, #338dcd)}.psp-negative:not(:focus){color:var(--rt-neg-cell--color, #ff5942)}regular-table table tbody td{min-width:52px!important}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed #999;border-bottom-width:0px;border-left-width:0px}.psp-bool-type{font-family:var(--button--font-family, "Material Icons")}.boolean-editable{cursor:pointer}regular-table table{user-select:none;color:#161616;border-collapse:separate}regular-table table th{font-weight:400}regular-table table td,regular-table table th{border-color:#eaedef;height:23px}regular-table table .psp-header-group{text-overflow:ellipsis}regular-table table .psp-header-leaf{border-bottom-width:0px}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px}regular-table table tbody th:empty{background-position:0px -10px}\n',document.head.insertBefore(t,document.head.firstChild)}();var Cn=n(7202),Tn=n(9777),En=(n(906),n(2117)),Nn=n(8086),Vn=n(8063),Dn=n(7227),Pn=n(2376),zn=n(6555);const On=t=>()=>t;function Ln(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:c,dy:s,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:u}})}function In(t){return!t.ctrlKey&&!t.button}function Bn(){return this.parentNode}function Rn(t,e){return null==e?{x:t.x,y:t.y}:e}function Yn(){return navigator.maxTouchPoints||"ontouchstart"in this}function jn(){var t,e,n,r,i=In,a=Bn,o=Rn,l=Yn,c={},s=(0,Nn.Z)("start","drag","end"),u=0,f=0;function d(t){t.on("mousedown.drag",h).filter(l).on("touchstart.drag",_).on("touchmove.drag",b,zn.Q7).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(o,l){if(!r&&i.call(this,o,l)){var c=v(this,a.call(this,o,l),o,l,"mouse");c&&((0,Vn.Z)(o.view).on("mousemove.drag",g,zn.Dd).on("mouseup.drag",p,zn.Dd),(0,Pn.Z)(o.view),(0,zn.rG)(o),n=!1,t=o.clientX,e=o.clientY,c("start",o))}}function g(r){if((0,zn.ZP)(r),!n){var i=r.clientX-t,a=r.clientY-e;n=i*i+a*a>f}c.mouse("drag",r)}function p(t){(0,Vn.Z)(t.view).on("mousemove.drag mouseup.drag",null),(0,Pn.D)(t.view,n),(0,zn.ZP)(t),c.mouse("end",t)}function _(t,e){if(i.call(this,t,e)){var n,r,o=t.changedTouches,l=a.call(this,t,e),c=o.length;for(n=0;n<c;++n)(r=v(this,l,t,e,o[n].identifier,o[n]))&&((0,zn.rG)(t),r("start",t,o[n]))}}function b(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=c[r[e].identifier])&&((0,zn.ZP)(t),n("drag",t,r[e]))}function m(t){var e,n,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<a;++e)(n=c[i[e].identifier])&&((0,zn.rG)(t),n("end",t,i[e]))}function v(t,e,n,r,i,a){var l,f,h,g=s.copy(),p=(0,Dn.Z)(a||n,e);if(null!=(h=o.call(t,new Ln("beforestart",{sourceEvent:n,target:d,identifier:i,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:g}),r)))return l=h.x-p[0]||0,f=h.y-p[1]||0,function n(a,o,s){var _,b=p;switch(a){case"start":c[i]=n,_=u++;break;case"end":delete c[i],--u;case"drag":p=(0,Dn.Z)(s||o,e),_=u}g.call(a,t,new Ln(a,{sourceEvent:o,subject:h,target:d,identifier:i,active:_,x:p[0]+l,y:p[1]+f,dx:p[0]-b[0],dy:p[1]-b[1],dispatch:g}),r)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:On(!!t),d):i},d.container=function(t){return arguments.length?(a="function"==typeof t?t:On(t),d):a},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:On(t),d):o},d.touchable=function(t){return arguments.length?(l="function"==typeof t?t:On(!!t),d):l},d.on=function(){var t=s.on.apply(s,arguments);return t===s?d:t},d.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,d):Math.sqrt(f)},d}Ln.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Fn=n(2979);function Zn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hn(t){return(t=Zn(Math.abs(t)))?t[1]:NaN}var Un,Wn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qn(t){if(!(e=Wn.exec(t)))throw new Error("invalid format: "+t);var e;return new $n({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function $n(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Gn(t,e){var n=Zn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qn.prototype=$n.prototype,$n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Xn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Gn(100*t,e),r:Gn,s:function(t,e){var n=Zn(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Un=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Zn(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Qn(t){return t}var Kn,Jn,tr,er=Array.prototype.map,nr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rr(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function ir(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=or)):void 0===e&&(e=ar);for(var n,r,i,a,o,l=new sr(t),c=[l];n=c.pop();)if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)c.push(r=i[a]=new sr(i[a])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(cr)}function ar(t){return t.children}function or(t){return Array.isArray(t)?t[1]:null}function lr(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function cr(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function sr(t){this.data=t,this.depth=this.height=0,this.parent=null}function ur(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function fr(t,e,n,r,i){for(var a,o=t.children,l=-1,c=o.length,s=t.value&&(r-e)/t.value;++l<c;)(a=o[l]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*s}function dr(t,e,n,r,i){for(var a,o=t.children,l=-1,c=o.length,s=t.value&&(i-n)/t.value;++l<c;)(a=o[l]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*s}Kn=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Qn:(e=er.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(t.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Qn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(er.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=qn(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,g=t.width,p=t.comma,_=t.precision,b=t.trim,m=t.type;"n"===m?(p=!0,m="g"):Xn[m]||(void 0===_&&(_=12),b=!0,m="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===d?a:/[%p]/.test(m)?c:"",w=Xn[m],x=/[defgprs%]/.test(m);function S(t){var i,a,c,d=v,S=y;if("c"===m)S=w(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),_),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),d=(M?"("===f?f:s:"-"===f||"("===f?"":f)+d,S=("s"===m?nr[8+Un/3]:"")+S+(M&&"("===f?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){S=(46===c?o+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}p&&!h&&(t=r(t,1/0));var k=d.length+t.length+S.length,A=k<g?new Array(g-k+1).join(e):"";switch(p&&h&&(t=r(A+t,A.length?g-S.length:1/0),A=""),n){case"<":t=d+t+S+A;break;case"=":t=d+A+t+S;break;case"^":t=A.slice(0,k=A.length>>1)+d+t+S+A.slice(k);break;default:t=A+d+t+S}return l(t)}return _=void 0===_?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),S.toString=function(){return t+""},S}return{format:f,formatPrefix:function(t,e){var n=f(((t=qn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Hn(e)/3))),i=Math.pow(10,-r),a=nr[8+r/3];return function(t){return n(i*t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),Jn=Kn.format,tr=Kn.formatPrefix,sr.prototype=ir.prototype={constructor:sr,count:function(){return this.eachAfter(rr)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,a=this,o=[a],l=[],c=-1;a=o.pop();)if(l.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=l.pop();)t.call(e,a,++c,this);return this},eachBefore:function(t,e){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return ir(this).eachBefore(lr)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,a=[i];do{for(t=a.reverse(),a=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n])}while(a.length)}};const hr=function t(e){function n(t,n,r,i,a){!function(t,e,n,r,i,a){for(var o,l,c,s,u,f,d,h,g,p,_,b=[],m=e.children,v=0,y=0,w=m.length,x=e.value;v<w;){c=i-n,s=a-r;do{u=m[y++].value}while(!u&&y<w);for(f=d=u,_=u*u*(p=Math.max(s/c,c/s)/(x*t)),g=Math.max(d/_,_/f);y<w;++y){if(u+=l=m[y].value,l<f&&(f=l),l>d&&(d=l),_=u*u*p,(h=Math.max(d/_,_/f))>g){u-=l;break}g=h}b.push(o={value:u,dice:c<s,children:m.slice(v,y)}),o.dice?fr(o,n,r,i,x?r+=s*u/x:a):dr(o,n,r,x?n+=c*u/x:i,a),x-=u,v=y}}(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2);function gr(t){if("function"!=typeof t)throw new Error;return t}function pr(){return 0}function _r(t){return function(){return t}}function br(t,e,n,r,i){var a,o,l=t.children,c=l.length,s=new Array(c+1);for(s[0]=o=a=0;a<c;++a)s[a+1]=o+=l[a].value;!function t(e,n,r,i,a,o,c){if(e>=n-1){var u=l[e];return u.x0=i,u.y0=a,u.x1=o,void(u.y1=c)}for(var f=s[e],d=r/2+f,h=e+1,g=n-1;h<g;){var p=h+g>>>1;s[p]<d?h=p+1:g=p}d-s[h-1]<s[h]-d&&e+1<h&&--h;var _=s[h]-f,b=r-_;if(o-i>c-a){var m=r?(i*b+o*_)/r:o;t(e,h,_,i,a,m,c),t(h,n,b,m,a,o,c)}else{var v=r?(a*b+c*_)/r:c;t(e,h,_,i,a,o,v),t(h,n,b,i,v,o,c)}}(0,c,t.value,e,n,r,i)}var mr=n(3251),vr=n(9921);function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function wr(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}var xr=n(9534);const Sr=Symbol("implicit");function Mr(){var t=new xr.L,e=[],n=[],r=Sr;function i(i){let a=t.get(i);if(void 0===a){if(r!==Sr)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new xr.L;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Mr(e,n).unknown(r)},yr.apply(i,arguments),i}function kr(){var t,e,n=Mr().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,l=!1,c=0,s=0,u=.5;function f(){var n=r().length,f=o<a,d=f?o:a,h=f?a:o;t=(h-d)/Math.max(1,n-c+2*s),l&&(t=Math.floor(t)),d+=(h-d-t*(n-c))*u,e=t*(1-c),l&&(d=Math.round(d),e=Math.round(e));var g=(0,vr.Z)(n).map((function(e){return d+t*e}));return i(f?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,f()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,l=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,f()):l},n.padding=function(t){return arguments.length?(c=Math.min(1,s=+t),f()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),f()):c},n.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return kr(r(),[a,o]).round(l).paddingInner(c).paddingOuter(s).align(u)},yr.apply(f(),arguments)}var Ar=n(6320),Cr=n(7216),Tr=n(4072);function Er(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Nr(t){return+t}var Vr=[0,1];function Dr(t){return t}function Pr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function zr(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Pr(i,r),a=n(o,a)):(r=Pr(r,i),a=n(a,o)),function(t){return a(r(t))}}function Or(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Pr(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=(0,Cr.ZP)(t,e,1,r)-1;return a[n](i[n](e))}}function Lr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ir(){return function(){var t,e,n,r,i,a,o=Vr,l=Vr,c=mr.Z,s=Dr;function u(){var t=Math.min(o.length,l.length);return s!==Dr&&(s=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?Or:zr,i=a=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),l,c)))(t(s(e)))}return f.invert=function(n){return s(e((a||(a=r(l,o.map(t),Tr.Z)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,Nr),u()):o.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),c=Er,u()},f.clamp=function(t){return arguments.length?(s=!!t||Dr,u()):s!==Dr},f.interpolate=function(t){return arguments.length?(c=t,u()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}()(Dr,Dr)}function Br(t){var e=t.domain;return t.ticks=function(t){var n=e();return(0,Ar.ZP)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=(0,Ar.ly)(t,e,n);switch((r=qn(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hn(e)/3)))-Hn(Math.abs(t)))}(a,o))||(r.precision=i),tr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hn(e)-Hn(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Hn(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Jn(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,c=a[o],s=a[l],u=10;for(s<c&&(i=c,c=s,s=i,i=o,o=l,l=i);u-- >0;){if((i=(0,Ar.G9)(c,s,n))===r)return a[o]=c,a[l]=s,e(a);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Rr(){var t=Ir();return t.copy=function(){return Lr(t,Rr())},yr.apply(t,arguments),Br(t)}var Yr=n(3942),jr=n(5130),Fr=n(2655),Zr=n(4833),Hr=n(823),Ur=n(3361),Wr=n(2699),qr=n(1960),$r=n(5635),Gr=n(3056),Xr=n(551);function Qr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ti,ei,ni={"-":"",_:" ",0:"0"},ri=/^\s*\d+/,ii=/^%/,ai=/[\\^$*+?|[\]().{}]/g;function oi(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function li(t){return t.replace(ai,"\\$&")}function ci(t){return new RegExp("^(?:"+t.map(li).join("|")+")","i")}function si(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ui(t,e,n){var r=ri.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fi(t,e,n){var r=ri.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function di(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hi(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gi(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pi(t,e,n){var r=ri.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _i(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mi(t,e,n){var r=ri.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function vi(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yi(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wi(t,e,n){var r=ri.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xi(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Si(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mi(t,e,n){var r=ri.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ki(t,e,n){var r=ri.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ai(t,e,n){var r=ri.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ci(t,e,n){var r=ii.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ti(t,e,n){var r=ri.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ei(t,e,n){var r=ri.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ni(t,e){return oi(t.getDate(),e,2)}function Vi(t,e){return oi(t.getHours(),e,2)}function Di(t,e){return oi(t.getHours()%12||12,e,2)}function Pi(t,e){return oi(1+Hr.Z.count((0,jr.Z)(t),t),e,3)}function zi(t,e){return oi(t.getMilliseconds(),e,3)}function Oi(t,e){return zi(t,e)+"000"}function Li(t,e){return oi(t.getMonth()+1,e,2)}function Ii(t,e){return oi(t.getMinutes(),e,2)}function Bi(t,e){return oi(t.getSeconds(),e,2)}function Ri(t){var e=t.getDay();return 0===e?7:e}function Yi(t,e){return oi(Zr.OM.count((0,jr.Z)(t)-1,t),e,2)}function ji(t){var e=t.getDay();return e>=4||0===e?(0,Zr.bL)(t):Zr.bL.ceil(t)}function Fi(t,e){return t=ji(t),oi(Zr.bL.count((0,jr.Z)(t),t)+(4===(0,jr.Z)(t).getDay()),e,2)}function Zi(t){return t.getDay()}function Hi(t,e){return oi(Zr.wA.count((0,jr.Z)(t)-1,t),e,2)}function Ui(t,e){return oi(t.getFullYear()%100,e,2)}function Wi(t,e){return oi((t=ji(t)).getFullYear()%100,e,2)}function qi(t,e){return oi(t.getFullYear()%1e4,e,4)}function $i(t,e){var n=t.getDay();return oi((t=n>=4||0===n?(0,Zr.bL)(t):Zr.bL.ceil(t)).getFullYear()%1e4,e,4)}function Gi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+oi(e/60|0,"0",2)+oi(e%60,"0",2)}function Xi(t,e){return oi(t.getUTCDate(),e,2)}function Qi(t,e){return oi(t.getUTCHours(),e,2)}function Ki(t,e){return oi(t.getUTCHours()%12||12,e,2)}function Ji(t,e){return oi(1+Gr.Z.count((0,Xr.Z)(t),t),e,3)}function ta(t,e){return oi(t.getUTCMilliseconds(),e,3)}function ea(t,e){return ta(t,e)+"000"}function na(t,e){return oi(t.getUTCMonth()+1,e,2)}function ra(t,e){return oi(t.getUTCMinutes(),e,2)}function ia(t,e){return oi(t.getUTCSeconds(),e,2)}function aa(t){var e=t.getUTCDay();return 0===e?7:e}function oa(t,e){return oi($r.Ox.count((0,Xr.Z)(t)-1,t),e,2)}function la(t){var e=t.getUTCDay();return e>=4||0===e?(0,$r.hB)(t):$r.hB.ceil(t)}function ca(t,e){return t=la(t),oi($r.hB.count((0,Xr.Z)(t),t)+(4===(0,Xr.Z)(t).getUTCDay()),e,2)}function sa(t){return t.getUTCDay()}function ua(t,e){return oi($r.l6.count((0,Xr.Z)(t)-1,t),e,2)}function fa(t,e){return oi(t.getUTCFullYear()%100,e,2)}function da(t,e){return oi((t=la(t)).getUTCFullYear()%100,e,2)}function ha(t,e){return oi(t.getUTCFullYear()%1e4,e,4)}function ga(t,e){var n=t.getUTCDay();return oi((t=n>=4||0===n?(0,$r.hB)(t):$r.hB.ceil(t)).getUTCFullYear()%1e4,e,4)}function pa(){return"+0000"}function _a(){return"%"}function ba(t){return+t}function ma(t){return Math.floor(+t/1e3)}function va(t){return new Date(t)}function ya(t){return t instanceof Date?+t:+new Date(+t)}function wa(t,e,n,r,i,a,o,l,c,s){var u=Ir(),f=u.invert,d=u.domain,h=s(".%L"),g=s(":%S"),p=s("%I:%M"),_=s("%I %p"),b=s("%a %d"),m=s("%b %d"),v=s("%B"),y=s("%Y");function w(t){return(c(t)<t?h:l(t)<t?g:o(t)<t?p:a(t)<t?_:r(t)<t?i(t)<t?b:m:n(t)<t?v:y)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?d(Array.from(t,ya)):d().map(va)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:s(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}(n,t)):u},u.copy=function(){return Lr(u,wa(t,e,n,r,i,a,o,l,c,s))},u}function xa(){var t,e,n,r,i,a=0,o=1,l=Dr,c=!1;function s(e){return null==e||isNaN(e=+e)?i:l(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,l=t(n,r),s):[l(0),l(1)]}}return s.domain=function(i){return arguments.length?([a,o]=i,t=r(a=+a),e=r(o=+o),n=t===e?0:1/(e-t),s):[a,o]},s.clamp=function(t){return arguments.length?(c=!!t,s):c},s.interpolator=function(t){return arguments.length?(l=t,s):l},s.range=u(mr.Z),s.rangeRound=u(Er),s.unknown=function(t){return arguments.length?(i=t,s):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),s}}function Sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ma(){var t=Br(xa()(Dr));return t.copy=function(){return Sa(t,Ma())},wr.apply(t,arguments)}ti=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,s=ci(i),u=si(i),f=ci(a),d=si(a),h=ci(o),g=si(o),p=ci(l),_=si(l),b=ci(c),m=si(c),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:Ni,e:Ni,f:Oi,g:Wi,G:$i,H:Vi,I:Di,j:Pi,L:zi,m:Li,M:Ii,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ba,s:ma,S:Bi,u:Ri,U:Yi,V:Fi,w:Zi,W:Hi,x:null,X:null,y:Ui,Y:qi,Z:Gi,"%":_a},y={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Xi,e:Xi,f:ea,g:da,G:ga,H:Qi,I:Ki,j:Ji,L:ta,m:na,M:ra,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ba,s:ma,S:ia,u:aa,U:oa,V:ca,w:sa,W:ua,x:null,X:null,y:fa,Y:ha,Z:pa,"%":_a},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:yi,e:yi,f:Ai,g:_i,G:pi,H:xi,I:xi,j:wi,L:ki,m:vi,M:Si,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:mi,Q:Ti,s:Ei,S:Mi,u:fi,U:di,V:hi,w:ui,W:gi,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:_i,Y:pi,Z:bi,"%":Ci};function x(t,e){return function(n){var r,i,a,o=[],l=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===t.charCodeAt(l)&&(o.push(t.slice(c,l)),null!=(i=ni[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),c=l+1);return o.push(t.slice(c,l)),o.join("")}}function S(t,e){return function(n){var r,i,a=Jr(1900,void 0,1);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Kr(Jr(a.y,0,1))).getUTCDay(),r=i>4||0===i?$r.l6.ceil(r):(0,$r.l6)(r),r=Gr.Z.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Qr(Jr(a.y,0,1))).getDay(),r=i>4||0===i?Zr.wA.ceil(r):(0,Zr.wA)(r),r=Hr.Z.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Kr(Jr(a.y,0,1)).getUTCDay():Qr(Jr(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Kr(a)):Qr(a)}}function M(t,e,n,r){for(var i,a,o=0,l=e.length,c=n.length;o<l;){if(r>=c)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=w[i in ni?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ei=ti.format,ti.parse,ti.utcFormat,ti.utcParse;var ka=n(8040),Aa=n(2317),Ca=(n(7190),n(8273)),Ta=n(5532),Ea=n(9460),Na="http://www.w3.org/1999/xhtml";const Va={svg:"http://www.w3.org/2000/svg",xhtml:Na,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Da(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Va.hasOwnProperty(e)?{space:Va[e],local:t}:t}function Pa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Na&&e.documentElement.namespaceURI===Na?e.createElement(t):e.createElementNS(n,t)}}function za(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oa(t){var e=Da(t);return(e.local?za:Pa)(e)}var La=0;function Ia(){this._="@"+(++La).toString(36)}Ia.prototype=function(){return new Ia}.prototype={constructor:Ia,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ba=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Ra=document.documentElement;if(!Ra.matches){var Ya=Ra.webkitMatchesSelector||Ra.msMatchesSelector||Ra.mozMatchesSelector||Ra.oMatchesSelector;Ba=function(t){return function(){return Ya.call(this,t)}}}}const ja=Ba;var Fa={},Za=null;function Ha(t,e,n){return t=Ua(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Ua(t,e,n){return function(r){var i=Za;Za=r;try{t.call(this,this.__data__,e,n)}finally{Za=i}}}function Wa(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function qa(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function $a(t,e,n){var r=Fa.hasOwnProperty(t.type)?Ha:Ua;return function(i,a,o){var l,c=this.__on,s=r(e,a,o);if(c)for(var u=0,f=c.length;u<f;++u)if((l=c[u]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=s,l.capture=n),void(l.value=e);this.addEventListener(t.type,s,n),l={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(l):this.__on=[l]}}function Ga(){}function Xa(t){return null==t?Ga:function(){return this.querySelector(t)}}function Qa(){return[]}function Ka(t){return new Array(t.length)}function Ja(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function to(t,e,n,r,i,a){for(var o,l=0,c=e.length,s=a.length;l<s;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new Ja(t,a[l]);for(;l<c;++l)(o=e[l])&&(i[l]=o)}function eo(t,e,n,r,i,a,o){var l,c,s,u={},f=e.length,d=a.length,h=new Array(f);for(l=0;l<f;++l)(c=e[l])&&(h[l]=s="$"+o.call(c,c.__data__,l,e),s in u?i[l]=c:u[s]=c);for(l=0;l<d;++l)(c=u[s="$"+o.call(t,a[l],l,a)])?(r[l]=c,c.__data__=a[l],u[s]=null):n[l]=new Ja(t,a[l]);for(l=0;l<f;++l)(c=e[l])&&u[h[l]]===c&&(i[l]=c)}function no(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ro(t){return function(){this.removeAttribute(t)}}function io(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ao(t,e){return function(){this.setAttribute(t,e)}}function oo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function co(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function so(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uo(t){return function(){this.style.removeProperty(t)}}function fo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ho(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function go(t){return function(){delete this[t]}}function po(t,e){return function(){this[t]=e}}function _o(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function bo(t){return t.trim().split(/^|\s+/)}function mo(t){return t.classList||new vo(t)}function vo(t){this._node=t,this._names=bo(t.getAttribute("class")||"")}function yo(t,e){for(var n=mo(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wo(t,e){for(var n=mo(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function xo(t){return function(){yo(this,t)}}function So(t){return function(){wo(this,t)}}function Mo(t,e){return function(){(e.apply(this,arguments)?yo:wo)(this,t)}}function ko(){this.textContent=""}function Ao(t){return function(){this.textContent=t}}function Co(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function To(){this.innerHTML=""}function Eo(t){return function(){this.innerHTML=t}}function No(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Vo(){this.nextSibling&&this.parentNode.appendChild(this)}function Do(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Po(){return null}function zo(){var t=this.parentNode;t&&t.removeChild(this)}function Oo(t,e,n){var r=so(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Lo(t,e){return function(){return Oo(this,t,e)}}function Io(t,e){return function(){return Oo(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Fa={mouseenter:"mouseover",mouseleave:"mouseout"})),Ja.prototype={constructor:Ja,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},vo.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Bo,Ro=[null];function Yo(t,e){this._groups=t,this._parents=e}function jo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fo(t,e){var n=jo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Yo.prototype=function(){return new Yo([[document.documentElement]],Ro)}.prototype={constructor:Yo,select:function(t){"function"!=typeof t&&(t=Xa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=e[i],c=l.length,s=r[i]=new Array(c),u=0;u<c;++u)(a=l[u])&&(o=t.call(a,a.__data__,u,l))&&("__data__"in a&&(o.__data__=a.__data__),s[u]=o);return new Yo(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Qa:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,l=e[a],c=l.length,s=0;s<c;++s)(o=l[s])&&(r.push(t.call(o,o.__data__,s,l)),i.push(o));return new Yo(r,i)},filter:function(t){"function"!=typeof t&&(t=ja(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,c=r[i]=[],s=0;s<l;++s)(a=o[s])&&t.call(a,a.__data__,s,o)&&c.push(a);return new Yo(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),s=-1,this.each((function(t){h[++s]=t})),h;var n=e?eo:to,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),l=new Array(a),c=new Array(a),s=0;s<a;++s){var u=r[s],f=i[s],d=f.length,h=t.call(u,u&&u.__data__,s,r),g=h.length,p=l[s]=new Array(g),_=o[s]=new Array(g);n(u,f,p,_,c[s]=new Array(d),h,e);for(var b,m,v=0,y=0;v<g;++v)if(b=p[v]){for(v>=y&&(y=v+1);!(m=_[y])&&++y<g;);b._next=m||null}}return(o=new Yo(o,r))._enter=l,o._exit=c,o},enter:function(){return new Yo(this._enter||this._groups.map(Ka),this._parents)},exit:function(){return new Yo(this._exit||this._groups.map(Ka),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var c,s=e[l],u=n[l],f=s.length,d=o[l]=new Array(f),h=0;h<f;++h)(c=s[h]||u[h])&&(d[h]=c);for(;l<r;++l)o[l]=e[l];return new Yo(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=no);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],c=l.length,s=i[a]=new Array(c),u=0;u<c;++u)(o=l[u])&&(s[u]=o);s.sort(e)}return new Yo(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Da(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?io:ro:"function"==typeof e?n.local?co:lo:n.local?oo:ao)(n,e))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?uo:"function"==typeof e?ho:fo)(t,e,null==n?"":n)):so(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?go:"function"==typeof e?_o:po)(t,e)):this.node()[t]},classed:function(t,e){var n=bo(t+"");if(arguments.length<2){for(var r=mo(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Mo:e?xo:So)(n,e))},text:function(t){return arguments.length?this.each(null==t?ko:("function"==typeof t?Co:Ao)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?To:("function"==typeof t?No:Eo)(t)):this.node().innerHTML},raise:function(){return this.each(Vo)},lower:function(){return this.each(Do)},append:function(t){var e="function"==typeof t?t:Oa(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Oa(t),r=null==e?Po:"function"==typeof e?e:Xa(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(zo)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=Wa(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?$a:qa,null==n&&(n=!1),r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var c,s=0,u=l.length;s<u;++s)for(r=0,c=l[s];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Io:Lo)(t,e))}};const Zo={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,a=-1;i<r;++i)switch(t[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break t;default:a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Fo(100*t,e)},r:Fo,s:function(t,e){var n=jo(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Bo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jo(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};var Ho=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Uo(t){return new Wo(t)}function Wo(t){if(!(e=Ho.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],l=e[6]&&+e[6],c=!!e[7],s=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(c=!0,u="g"):Zo[u]||(u=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=l,this.comma=c,this.precision=s,this.type=u}Wo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var qo,$o,Go,Xo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qo(t){return t}function Ko(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(t.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}):Qo,i=t.currency,a=t.decimal;function o(t){var e=(t=Uo(t)).fill,n=t.align,o=t.sign,l=t.symbol,c=t.zero,s=t.width,u=t.comma,f=t.precision,d=t.type,h="$"===l?i[0]:"#"===l&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",g="$"===l?i[1]:/[%p]/.test(d)?"%":"",p=Zo[d],_=!d||/[defgprs%]/.test(d);function b(t){var i,l,b,m=h,v=g;if("c"===d)v=p(t)+v,t="";else{var y=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=p(t,f),y)for(i=-1,l=t.length,y=!1;++i<l;)if(48<(b=t.charCodeAt(i))&&b<58||"x"===d&&96<b&&b<103||"X"===d&&64<b&&b<71){y=!0;break}if(m=(y?"("===o?o:"-":"-"===o||"("===o?"":o)+m,v=v+("s"===d?Xo[8+Bo/3]:"")+(y&&"("===o?")":""),_)for(i=-1,l=t.length;++i<l;)if(48>(b=t.charCodeAt(i))||b>57){v=(46===b?a+t.slice(i+1):t.slice(i))+v,t=t.slice(0,i);break}}u&&!c&&(t=r(t,1/0));var w=m.length+t.length+v.length,x=w<s?new Array(s-w+1).join(e):"";switch(u&&c&&(t=r(x+t,x.length?s-v.length:1/0),x=""),n){case"<":return m+t+v+x;case"=":return m+x+t+v;case"^":return x.slice(0,w=x.length>>1)+m+t+v+x.slice(w)}return x+m+t+v}return f=null==f?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),b.toString=function(){return t+""},b}return{format:o,formatPrefix:function(t,e){var n=o(((t=Uo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=jo(Math.abs(t)))?t[1]:NaN}(e)/3))),i=Math.pow(10,-r),a=Xo[8+r/3];return function(t){return n(i*t)+a}}}}qo=Ko({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),$o=qo.format,Go=qo.formatPrefix;var Jo={value:function(){}};function tl(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new el(r)}function el(t){this._=t}function nl(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function rl(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function il(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Jo,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}el.prototype=tl.prototype={constructor:el,on:function(t,e){var n,r=this._,i=nl(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=il(r[n],t.name,e);else if(null==e)for(n in r)r[n]=il(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=rl(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new el(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const al=tl;var ol,ll=n(1381);function cl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}1===(ol=cl).length&&(ol=function(t){return function(e,n){return cl(t(e),n)}}(ol));var sl=Array.prototype;function ul(t,e){var n,r,i=-1,a=t.length;if(null==e){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n}function fl(t,e){var n,r=0,i=t.length,a=-1;if(null==e)for(;++a<i;)(n=+t[a])&&(r+=n);else for(;++a<i;)(n=+e(t[a],a,t))&&(r+=n);return r}sl.slice,sl.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl=function(t){return t},gl=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},pl=function(t,e){t.each((function(){for(var t,n=function(t){return"string"==typeof t?new Yo([[document.querySelector(t)]],[document.documentElement]):new Yo([[t]],Ro)}(this),r=n.text().split(/\s+/).reverse(),i=[],a=(n.attr("y"),parseFloat(n.attr("dy"))||0),o=n.text(null).append("tspan").attr("x",0).attr("dy",a+"em");t=r.pop();)i.push(t),o.text(i.join(" ")),o.node().getComputedTextLength()>e&&i.length>1&&(i.pop(),o.text(i.join(" ")),i=[t],o=n.append("tspan").attr("x",0).attr("dy",1.2+a+"em").text(t))}))},_l={d3_drawShapes:function(t,e,n,r,i,a){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",i):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",a)},d3_addText:function(t,e,n,r,i){e.append("text").attr("class",r+"label");var a=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(hl);return i&&t.selectAll("g."+r+"cell text."+r+"label").call(pl,i),a},d3_calcType:function(t,e,n,r,i,a){var o=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var i=t.invertExtent(r);return e(i[0])+" "+n+" "+e(i[1])}));return{data:t.range(),labels:r,feature:hl}}(t,i,a):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var i=t.domain(),a=(i[i.length-1]-i[0])/(e-1),o=0;o<e;o++)r.push(i[0]+o*a);var l=r.map(n);return{data:r,labels:l,feature:function(e){return t(e)}}}(t,n,i):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),l=t.range&&t.range()||t.domain();return o.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===e?"undefined":dl(e))){if(0===e.length)return t;for(var a=e.length;a<t.length;a++)e.push(t[a]);return e}if("function"==typeof e){for(var o=[],l=t.length,c=0;c<l;c++)o.push(e({i:c,genLength:l,generatedLabels:t,domain:n,range:r,labelDelimiter:i}));return o}return t}(o.labels,r,t.domain(),l,a),e&&(o.labels=gl(o.labels),o.data=gl(o.data)),o},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),i=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==i.indexOf(t)})),t},d3_placement:function(t,e,n,r,i,a){e.attr("transform",n),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",a)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(pl,r);var i=t.select("."+n+"legendCells"),a=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],o=-i.nodes().map((function(t){return t.getBBox().x}))[0];i.attr("transform","translate("+o+","+a+")")}},d3_defaultLocale:{format:$o,formatPrefix:Go},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function bl(){var t=(0,ll.scaleLinear)(),e="rect",n=15,r=15,i=10,a=2,o=[5],l=void 0,c=[],s="",u=!1,f="",d=_l.d3_defaultLocale,h=_l.d3_defaultFormatSpecifier,g=10,p="middle",_=_l.d3_defaultDelimiter,b=void 0,m="vertical",v=!1,y=void 0,w=void 0,x=al("cellover","cellout","cellclick");function S(S){var M=_l.d3_calcType(t,v,o,c,d.format(h),_);S.selectAll("g").data([t]).enter().append("g").attr("class",s+"legendCells"),l&&_l.d3_filterCells(M,l);var k=S.select("."+s+"legendCells").selectAll("."+s+"cell").data(M.data),A=k.enter().append("g").attr("class",s+"cell");A.append(e).attr("class",s+"swatch");var C=S.selectAll("g."+s+"cell "+e+"."+s+"swatch").data(M.data);_l.d3_addEvents(A,x),k.exit().transition().style("opacity",0).remove(),C.exit().transition().style("opacity",0).remove(),C=C.merge(C),_l.d3_drawShapes(e,C,r,n,i,y);var T=_l.d3_addText(S,A,M.labels,s,b);k=A.merge(k);var E=T.nodes().map((function(t){return t.getBBox()})),N=C.nodes().map((function(t){return t.getBBox()}));u?C.attr("class",(function(t){return s+"swatch "+M.feature(t)})):"line"==e?C.style("stroke",M.feature):C.style("fill",M.feature);var V,D=void 0,P=void 0,z="start"==p?0:"middle"==p?.5:1;"vertical"===m?(V=E.map((function(t,e){return Math.max(t.height,N[e].height)})),D=function(t,e){return"translate(0, "+(fl(V.slice(0,e))+e*a)+")"},P=function(t,e){return"translate( "+(N[e].width+N[e].x+g)+", "+(N[e].y+N[e].height/2+5)+")"}):"horizontal"===m&&(D=function(t,e){return"translate("+e*(N[e].width+a)+",0)"},P=function(t,e){return"translate("+(N[e].width*z+N[e].x)+",\n          "+(N[e].height+N[e].y+g+8)+")"}),_l.d3_placement(m,k,D,T,P,p),_l.d3_title(S,f,s,w),k.transition().style("opacity",1)}return S.scale=function(e){return arguments.length?(t=e,S):t},S.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(o=t),S):o},S.cellFilter=function(t){return arguments.length?(l=t,S):l},S.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,y=n),S):e},S.shapeWidth=function(t){return arguments.length?(n=+t,S):n},S.shapeHeight=function(t){return arguments.length?(r=+t,S):r},S.shapeRadius=function(t){return arguments.length?(i=+t,S):i},S.shapePadding=function(t){return arguments.length?(a=+t,S):a},S.labels=function(t){return arguments.length?(c=t,S):c},S.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(p=t),S):p},S.locale=function(t){return arguments.length?(d=Ko(t),S):d},S.labelFormat=function(t){return arguments.length?(h=Uo(t),S):S.locale().format(h)},S.labelOffset=function(t){return arguments.length?(g=+t,S):g},S.labelDelimiter=function(t){return arguments.length?(_=t,S):_},S.labelWrap=function(t){return arguments.length?(b=t,S):b},S.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(u=t),S):u},S.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(m=t),S):m},S.ascending=function(t){return arguments.length?(v=!!t,S):v},S.classPrefix=function(t){return arguments.length?(s=t,S):s},S.title=function(t){return arguments.length?(f=t,S):f},S.titleWidth=function(t){return arguments.length?(w=t,S):w},S.textWrap=function(t){return arguments.length?(textWrap=t,S):textWrap},S.on=function(){var t=x.on.apply(x,arguments);return t===x?S:t},S}var ml=n(5392),vl=Object.create,yl=Object.defineProperty,wl=Object.getOwnPropertyDescriptor,xl=Object.getOwnPropertyNames,Sl=Object.getPrototypeOf,Ml=Object.prototype.hasOwnProperty,kl=t=>yl(t,"__esModule",{value:!0}),Al=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Cl=(t,e)=>{for(var n in kl(t),e)yl(t,n,{get:e[n],enumerable:!0})},Tl=t=>((t,e,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of xl(e))!Ml.call(t,r)&&"default"!==r&&yl(t,r,{get:()=>e[r],enumerable:!(n=wl(e,r))||n.enumerable});return t})(kl(yl(null!=t?vl(Sl(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),El=Al(((t,e)=>{e.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),Nl=Al(((t,e)=>{var n=El().default;function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}function i(t,...e){if(!e.length)return t;let n=e.shift();if(r(t)&&r(n))for(let e in n)r(n[e])?(t[e]||Object.assign(t,{[e]:{}}),i(t[e],n[e])):Object.assign(t,{[e]:n[e]});return i(t,...e)}e.exports.get_types=function(){return Object.keys(e.exports.get_config().types)},e.exports.get_type_config=function(t){let n={};if(e.exports.get_config().types[t]&&Object.assign(n,e.exports.get_config().types[t]),n.type){let t=e.exports.get_type_config(n.type);return Object.assign(t,n),t}return n},window.__PERSPECTIVE_CONFIG__=void 0,e.exports.override_config=function(t){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=i(n,t)},e.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=i(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Vl="ordinal",Dl="time",Pl="linear",zl=t=>{let e="crossValues",n=null,r=null,i=()=>{let i=r=>{let i=n?t[e].filter((t=>n==t.name)):t[e];return!("crossValues"==e&&i.length>1)&&i.some((t=>r.includes(t.type)))};return 0===t[e].length?"none":r!=Dl&&i(["datetime","date"])?Dl:r!=Pl&&i(["integer","float"])||r==Vl?Pl:Vl};return i.settingName=(...t)=>t.length?(e=t[0],i):e,i.settingValue=(...t)=>t.length?(n=t[0],i):n,i.excludeType=(...t)=>t.length?(r=t[0],i):r,i},Ol={};Cl(Ol,{domain:()=>Rl,labelFunction:()=>Yl,scale:()=>Bl});var Ll=t=>Array.isArray(t)?t.flat(1/0):[t],Il=t=>{let e=e=>t(e);return(0,Cn.rebindAll)(e,t),e.bandwidth=(...n)=>n.length?(t.bandwidth(...n),e):Math.max(t.bandwidth(),1),e},Bl=()=>(t=>{let e=e=>t(e);return(0,Cn.rebindAll)(e,t),e.ticks=function(){return[]},e})(Il(kr())),Rl=()=>{let t=["crossValue"],e="horizontal",n=e=>{let n=Ll(e);return r([...new Set(n.map((e=>e[t[0]])))])},r=t=>"vertical"==e?t.reverse():t;return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n.orient=(...t)=>t.length?(e=t[0],n):e,n},Yl=t=>e=>e[t].join("|"),jl={};Cl(jl,{domain:()=>Wl,labelFunction:()=>ql,scale:()=>Ul,tickFormatFunction:()=>$l});var Fl=()=>{let t=[0,0],e="percent",n=n=>{switch(e){case"domain":n[0]-=t[0],n[1]+=t[1];break;case"percent":{let e=n[1]-n[0];n[0]-=t[0]*e,n[1]+=t[1]*e;break}default:throw new Error("Unknown padUnit: "+e)}return n};return n.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.padUnit=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},Zl=function(t){if(Array.isArray(t)){let e=Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},Hl=t=>Math.abs(t)>=1e7?Jn(".3s")(t):Number.isInteger(t)?Jn(",.0f")(t):Jn(",.2f")(t),Ul=()=>Rr(),Wl=()=>{let t=function(){let t=[function(t){return t}],e=null,n=[],r=Fl(),i=function(i){let a,o=new Array(i.length),l=!0,c=!1,s=t[Symbol.iterator]();try{for(let t;!(l=(t=s.next()).done);l=!0){let e=t.value;for(let t=0;t<i.length;t++){let n=e(i[t],t);Array.isArray(n)?o.push.apply(o,Zl(n)):o.push(n)}}}catch(t){c=!0,a=t}finally{try{!l&&s.return&&s.return()}finally{if(c)throw a}}let u=[(0,Ta.Z)(o),(0,Ea.Z)(o)];if(u[0]=null==u[0]?(0,Ta.Z)(n):(0,Ta.Z)([u[0]].concat(Zl(n))),u[1]=null==u[1]?(0,Ea.Z)(n):(0,Ea.Z)([u[1]].concat(Zl(n))),null!=e){let t=Math.max(Math.abs(u[1]-e),Math.abs(u[0]-e));u[0]=e-t,u[1]=e+t}return r(u)};return i.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),i):r.pad},i.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),i):r.padUnit},i.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.symmetricalAbout=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i}().pad([0,.1]).padUnit("percent"),e=["crossValue"],n=n=>(t.accessors(e.map((t=>e=>parseFloat(e[t])))),r(Ll(n)));(0,Cn.rebindAll)(n,t);let r=n=>{if("domain"==t.padUnit()){let r=(t=>{let n=e.map((e=>t.map((t=>t[e])).sort(((t,e)=>t-e)).filter(((t,e,n)=>0===e||t!==n[e-1])).reduce(((t,e,n,r)=>0===n||t<=e-r[n-1]?t:Math.abs(e-r[n-1])))));return Math.min(...n)})(n);return t.pad([r/2,r/2])(n)}return t(n)};return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n},ql=t=>e=>e[t][0],$l=Hl,Gl={};Cl(Gl,{domain:()=>Ql,labelFunction:()=>Kl,scale:()=>Xl});var Xl=()=>function(){return yr.apply(wa(Yr.jK,Yr._g,jr.Z,Fr.Z,Zr.OM,Hr.Z,Ur.Z,Wr.Z,qr.Z,ei).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),Ql=()=>{let t=(0,Cn.extentTime)(),e=["crossValue"],n=n=>(t.accessors(e.map((t=>e=>new Date(e[t])))),r(Ll(n)));(0,Cn.rebindAll)(n,t,(0,Cn.exclude)("include","paddingStrategy"));let r=n=>{let r=Math.abs((t=>{let n=e.map((e=>t.map((t=>new Date(t[e]).getTime())).sort(((t,e)=>t-e)).filter(((t,e,n)=>0===e||t!==n[e-1])).reduce(((t,e,n,r)=>0===n||Math.abs(t)<=Math.abs(e-r[n-1])?Math.abs(t):Math.abs(e-r[n-1])))));return Math.min(...n)})(n));return t.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n},Kl=t=>e=>new Date(e[t][0]),Jl={};Cl(Jl,{component:()=>uc,domain:()=>cc,labelFunction:()=>sc,scale:()=>lc});var tc=(t,e,n)=>{let r=6,i=6,a=((...t)=>{let e={},n=t=>{for(let n of Object.keys(e))t[n](e[n]);return t};for(let r of t)n[r]=(...t)=>t.length?(e[r]=t[0],n):e[r];return n})("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=()=>{},l=null,c=(0,Cn.dataJoin)("g","group"),s=(0,Cn.dataJoin)("path","domain"),u=(t,e)=>f()?`translate(${e}, ${t})`:`translate(${t}, ${e})`,f=()=>"left"===t||"right"===t,d=d=>{l?d.each(((d,g,p)=>{let _=p[g],b=(0,ka.select)(_),m="bottom"===t||"right"===t?1:-1,v=n.range(),y=(t=>f()?t.map((t=>[t[1],t[0]])):t)([[v[0],m*r],[v[0],0],[v[1],0],[v[1],m*r]]);s(b,[d]).attr("d",(0,Aa.line)()(y)).attr("stroke","#000").attr("fill","none");let w=c(b,l),x=t=>Array.isArray(i)?i[t]:i,S=t=>{let e=0;for(let n=0;n<t;n++)e+=x(n);return e};w.attr("transform",((t,e)=>u(0,m*S(e)))).each(((t,r,i)=>{let l=(0,ka.select)(i[r]),c=h(n,t);a(e(c)).decorate(((t,e)=>o(t,e,r))).tickSizeInner(x(r)).tickOffset((t=>c.step(t)/2))(l),l.select("path.domain").attr("visibility","hidden")})),w.exit().attr("transform",((t,e)=>u(0,m*S(e))))})):a(e(n).decorate(o))(d)},h=(t,e)=>{function n(e){let n=e.domain;return n.reduce(((e,n)=>e+t(n)),0)/n.length}return n.ticks=()=>e,n.tickFormat=()=>t=>t.text,n.copy=()=>h(t,e),n.step=e=>e.domain.length*t.step(),(0,Cn.rebindAll)(n,t,(0,Cn.exclude)("ticks","step","copy")),n};return d.tickSize=(...t)=>t.length?(i=r=Number(t[0]),d):i,d.tickSizeInner=(...t)=>t.length?(i=Array.isArray(t[0])?t[0]:Number(t[0]),d):i,d.tickSizeOuter=(...t)=>t.length?(r=Number(t[0]),d):r,d.decorate=(...t)=>t.length?(o=t[0],d):o,d.groups=(...t)=>t.length?(l=t[0],d):l,(0,Cn.rebindAll)(d,a),d},ec=t=>tc("top",Cn.axisOrdinalTop,t),nc=t=>tc("bottom",Cn.axisOrdinalBottom,t),rc=t=>tc("left",Cn.axisOrdinalLeft,t),ic=t=>tc("right",Cn.axisOrdinalRight,t);function ac(t){return t.getRootNode().host}function oc(t){return t.closest("#container.chart")}var lc=()=>Il(kr()).padding(.5),cc=()=>{let t=["crossValue"],e="horizontal",n=e=>{let n=Ll(e);return r([...new Set(n.map((e=>e[t[0]])))])},r=t=>"vertical"==e?t.reverse():t;return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n.orient=(...t)=>t.length?(e=t[0],n):e,n},sc=t=>e=>e[t].join("|"),uc=t=>{let e="horizontal",n="crossValues",r=null,i=()=>{let i=t[n].length>1,s=o(r),f=s.map(l),d=i?f.map((t=>t.size)):f[0].size,h=f.reduce(((t,e)=>t+e.size),0),g=t=>n=>{let r=t(n);return i&&r.groups(s).tickSizeInner(d).tickSizeOuter(h),"horizontal"!==e&&r.tickPadding(10),r},p=a(i);return{bottom:g(p.bottom),left:g(p.left),right:g(p.right),top:g(p.top),size:`${h+10}px`,decorate:(t,n,r)=>{let i=f[r].rotation;"horizontal"===e&&u(t,i),c(t,i)}}},a=t=>t?{bottom:nc,left:rc,top:ec,right:ic}:{bottom:Cn.axisOrdinalBottom,left:Cn.axisOrdinalLeft,top:Cn.axisOrdinalTop,right:Cn.axisOrdinalRight},o=t=>{let e=[];return t.forEach((t=>{(t&&t.split?t.split("|"):[t]).forEach(((n,r)=>{for(;e.length<=r;)e.push([]);let i=e[r];i.length>0&&i[i.length-1].text===n?i[i.length-1].domain.push(t):i.push({text:n,domain:[t]})}))})),e.reverse()},l=n=>{let r=t.size.width,i=Math.max(...n.map((t=>t.text?t.text.length:0)));return"horizontal"===e?n&&16*n.length>r-100?{size:5*i+10,rotation:90}:n&&n.length*(6*i+10)>r-100?{size:3*i+20,rotation:45}:{size:25,rotation:0}:{size:5*i+10,rotation:0}},c=(t,n)=>{let r=n?(t,e)=>t.x+t.width+14>e.x+e.width:(t,e)=>t.x<=e.x+e.width&&e.x<=t.x+t.width&&t.y<=e.y+e.height&&e.y<=t.y+t.height,i="horizontal"==e?s(t):null,a=[];t.each(((t,e,n)=>{let o=(0,ka.select)(n[e]),l=(t=>{let e=-1!==t.indexOf(",")?",":" ",n=t.substring(t.indexOf("(")+1,t.indexOf(")")).split(e).map((t=>parseInt(t)));for(;n.length<2;)n.push(0);return n})(o.attr("transform")),c=o.node().getBBox(),s={x:c.x+l[0],y:c.y+l[1],width:c.width,height:c.height},u=a.some((t=>r(t,s)))||i&&!((t,e)=>t.x>=e.x&&t.x+t.width<=e.x+e.width&&t.y>=e.y&&t.y+t.height<=e.y+e.height)(s,i);o.attr("visibility",u?"hidden":""),u||a.push(s)}))},s=t=>{let e=oc(t.node());if(null===e)return;let n=e.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),i=n.getBoundingClientRect(),a=r.getBoundingClientRect();return{x:i.left-a.left,width:i.width,y:i.top-a.top,height:i.height}},u=(t,e)=>{let n=(t=>t?t<60?`rotate(-${t} 5 5)`:`rotate(-${t} 3 7)`:"translate(0, 8)")(e),r=e?"end":"";t.each(((t,e,i)=>{(0,ka.select)(i[e]).select("text").attr("transform",n).style("text-anchor",r)}))};return i.orient=(...t)=>t.length?(e=t[0],i):e,i.settingName=(...t)=>t.length?(n=t[0],i):n,i.domain=(...t)=>t.length?(r=t[0],i):r,i},fc={none:Ol,ordinal:Jl,time:Gl,linear:jl},dc=t=>{let e=null,n="horizontal",r="crossValues",i=null,a=["crossValue"],o=["include","paddingStrategy","pad"],l={},c=c=>{let f=zl(t).excludeType(e).settingName(r).settingValue(i)(),d=fc[f],h=d.domain().valueNames(a);o.forEach((t=>{l[t]&&h[t]&&h[t](l[t])})),h.orient&&h.orient(n);let g=h(c),p=d.component?s(d,g,c):u();return{scale:d.scale(),domain:g,domainFunction:h,labelFunction:d.labelFunction,component:{bottom:p.bottom,left:p.left,top:p.top,right:p.right},size:p.size,decorate:p.decorate,label:t[r].map((t=>t.name)).join(", "),tickFormatFunction:d.tickFormatFunction}},s=(e,i,a)=>e.component(t).orient(n).settingName(r).domain(i)(a),u=()=>({bottom:Cn.axisBottom,left:Cn.axisLeft,top:Cn.axisTop,right:Cn.axisRight,decorate:()=>{}});return c.excludeType=(...t)=>t.length?(e=t[0],c):e,c.orient=(...t)=>t.length?(n=t[0],c):n,c.settingName=(...t)=>t.length?(r=t[0],c):r,c.settingValue=(...t)=>t.length?(i=t[0],c):i,c.valueName=(...t)=>t.length?(a=[t[0]],c):a[0],c.valueNames=(...t)=>t.length?(a=t[0],c):a,o.forEach((t=>{c[t]=(...e)=>e.length?(l[t]=e[0],c):l[t]})),c},hc=(t,e)=>pc(t,e,((t,e)=>t.svgPlotArea(e)),!1),gc=(t,e)=>pc(t,e,((t,e)=>t.canvasPlotArea(e).svgPlotArea((0,Cn.seriesSvgPoint)())),!0),pc=(t,e,n,r)=>{let i=null,a=null,o=(0,Cn.chartCartesian)({xScale:t.scale,yScale:e.scale,xAxis:t.component,yAxis:e.component}).xDomain(t.domain).xLabel(t.label).xAxisHeight(t.size).xDecorate(t.decorate).xTickFormat(t.tickFormatFunction).yDomain(e.domain).yLabel(e.label).yAxisWidth(e.size).yDecorate(e.decorate).yOrient("left").yTickFormat(e.tickFormatFunction);t.decorate&&o.xDecorate(t.decorate),e.decorate&&o.yDecorate(e.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...t)=>t.length?(i=t[0],o):i,o.altAxis=(...t)=>t.length?(a=t[0],o):a,o.plotArea=function(...t){return 0==t.length?r?this.canvasPlotArea():this.svgPlotArea():n(this,...t)};let l=o.decorate();return o.decorate(((n,c)=>{let s=n.select("d3fc-svg.plot-area"),u=s.select("svg").node();u.setAttribute("viewBox",`0 0 ${s.node().clientWidth} ${s.node().clientHeight}`),u.setAttribute("preserveAspectRatio","none");for(let t of["x-axis","y-axis"])n.select(`d3fc-svg.${t} svg`).node().setAttribute("preserveAspectRatio","none");if(l(n,c),r){let t=n.select(".svg-plot-area").node(),e=n.select(".canvas-plot-area").node();(0,ka.selectAll)([t,e]).order()}if(i){if(i.haveSplit()){let l=i.altData(),s=(0,Cn.dataJoin)("d3fc-svg","y2-axis").key((t=>t)),u=(0,Cn.dataJoin)("g","y-series").key((t=>t));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",a.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let f=a.scale.domain(a.domain),d=a.component.right(f);if(d.tickFormat(a.tickFormatFunction),a.decorate&&d.decorate(a.decorate),s(n,["right"]).attr("class",(t=>`y-axis ${t}-axis`)).on("measure",(function(t,e){let{width:n,height:r}=t.detail;"left"===e&&(0,ka.select)(t.currentTarget).select("svg").attr("viewBox",`${-n} 0 ${n} ${r}`).attr("preserveAspectRatio","none"),f.range([r,0])})).on("draw",(function(t,e){(0,ka.select)(t.currentTarget).select("svg").call(d)})),r){let r=n=>{let r=o.plotArea();r.context(n.node().getContext("2d")).xScale(t.scale);let i=[e.scale,f];[c,l].forEach(((t,e)=>{r.yScale(i[e]),r(t)}))};n.select("d3fc-canvas.plot-area").on("draw",(function(t,e){r((0,ka.select)(t.currentTarget).select("canvas"))}))}else{let r=function(n){let r=o.plotArea();r.xScale(t.scale);let i=[e.scale,f];u(n,[c,l]).each(((t,e,n)=>{r.yScale(i[e]),(0,ka.select)(n[e]).datum(t).call(r)}))};n.select("d3fc-svg.plot-area").on("draw",(function(t,e){r((0,ka.select)(t.currentTarget).select("svg"))}))}}i(n)}})),o};function _c(t,e,n){let r=t.select(e);return r.size()>0?r:n()}function bc(t,e,n="right"){if("right"===n||"bottom"===n)return t[n]<e[n];if("left"===n||"top"===n)return t[n]>e[n];throw`Direction being checked for overflow is invalid: ${n}`}function mc(t,e,n,r=0){let i="x"===t?"width":"height",a=e[t],o=e[t]+e[i],l=n[t],c=n[t]+n[i];return l+r>a&&l-r<o||c+r>a&&c-r<o||l+r<a&&c-r>o}var vc=Tl(Nl());function yc(t,e){switch(t){case"date":case"datetime":return e instanceof Date?e:new Date(parseInt(e)).toLocaleString("en-us",(0,vc.get_type_config)(t).format);case"integer":return parseInt(e,10);case"float":return parseFloat(e)}return e}function wc(t,e){return 0===e.crossValues.length||0===t.crossValue.length?[]:((t.crossValue.split?t.crossValue.split("|"):[t.crossValue])||[t.key]).map(((t,n)=>({name:e.crossValues[n].name,value:yc(e.crossValues[n].type,t)})))}function xc(t,e){if(0===e.splitValues.length)return[];let n=t.key?t.key.split("|"):t.mainValue.split?t.mainValue.split("|"):[t.mainValue];return e.splitValues.map(((t,e)=>({name:t.name,value:yc(t.type,n[e])})))}function Sc(t,e){return e.mainValues.length>1?t.mainValue?[{name:t.key,value:t.mainValue-(t.baseValue||0)}]:e.mainValues.map(((e,n)=>({name:e.name,value:yc(e.type,t.mainValues[n])}))):[{name:e.mainValues[0].name,value:yc(e.mainValues[0].type,t.colorValue||t.mainValue-t.baseValue||t.mainValue||t.mainValues)}]}var Mc=Tl(Nl());var kc=t=>null===t?"-":t.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:(0,Mc.get_type_config)("float").precision,maximumFractionDigits:(0,Mc.get_type_config)("float").precision}),Ac=t=>[t.name,"==",t.value],Cc=(t,e,n)=>{let r=Sc(e,n).map((t=>t.name)),i=wc(e,n).map(Ac),a=xc(e,n).map(Ac),o=n.filter.concat(i).concat(a);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:e.row}}))},Tc=()=>{let t=!1,e=null,n=null,r=!1,i=i=>{let a=i.node();if(!a||!a.isConnected)return void Ec(e);let o=(0,ka.select)(oc(a));e=function(t){return _c(t,"div.tooltip",(()=>t.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html('<ul id="tooltip-values"></ul>\n')))}(o);let l=function(t,a){!function(t,e,n){!function(t,e){t.select("#tooltip-values").selectAll("li").data(e).join("li").each((function(t){(0,ka.select)(this).text(`${t.name}: `).append("b").text(kc(t.value))}))}(t,wc(e,n).concat(xc(e,n)).concat(Sc(e,n)))}(e,a,n);let l=i.nodes(),c=l.indexOf(this);(function(t,e,n,r){let i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.left+a.width/2-i.left,l=a.top-i.top+t.scrollTop;r&&(l=a.top+a.height/2-i.top+t.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=function(t,e){let n=t.node().getBoundingClientRect(),r=n.width/2,i=n.left-r-e.left;t.style("left",`${i}px`);let a=n.height/2,o=n.top-a-e.top;return t.style("top",`${o}px`),[i,o]}(n,i)),function(t,e,n,r,i=!1){let a=t.node().getBoundingClientRect();if(bc(e,a)){let r=a.right-e.right;t.style("left",n-r+"px")}if(bc(e,a,"bottom")){let n=a.bottom-e.bottom;t.style("top",r-n+"px")}if(i){if(bc(e,a,"left")){let r=a.left-e.left;t.style("left",n-r+"px")}if(bc(e,a,"top")){let n=a.top-e.top;t.style("top",r-n+"px")}}}(n,i,o,l,r)})(o.node(),l[c],e,r),(0,ka.select)(l[c]).style("opacity","0.7")};t?i.each((function(t){return l.call(this,void 0,t)})):(i.on("mouseover",l).on("mouseout",(function(t,n){Ec(e);let r=i.nodes(),a=r.indexOf(this);r&&(0,ka.select)(r[a]).style("opacity","1")})),(()=>{let t=null,e=e=>{let n=e.node();e.on("click",((e,r)=>Cc(n,r,t)))};return e.settings=(...n)=>n.length?(t=n[0],e):t,e})().settings(n)(i))};return i.alwaysShow=(...e)=>e.length?(t=e[0],i):t,i.centered=(...t)=>t.length?(r=t[0],i):r,i.settings=(...t)=>t.length?(n=t[0],i):n,i};function Ec(t){t&&t.style("opacity",0)}function Nc(t,e){let n=t.mainValues.length>1?(0,Cn.seriesSvgGrouped)((0,Cn.seriesSvgBar)()):(0,Cn.seriesSvgBar)();return n=n.decorate((n=>{Tc().settings(t)(n),n.style("fill",(t=>e(t.key)))})),(0,Cn.autoBandwidth)(Vc(n)).crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue?t.mainValue:0)).baseValue((t=>t.baseValue))}var Vc=t=>{let e=e=>t(e);return(0,Cn.rebindAll)(e,t),e.bandwidth=(...n)=>n.length?(t.bandwidth(Math.max(n[0],1)),e):t.bandwidth(),e};function Dc(t){return t.split("|").slice(0,-1).join("|")}function Pc(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=Object.keys(e).filter((t=>"__ROW_PATH__"!==t));return Lc().settings(t).domain(n)()}function zc(t,e){let n=Array.from(new Set(e));return Lc().settings(t).domain(n)()}function Oc(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=[];return Object.keys(e).forEach((t=>{if("__ROW_PATH__"!==t){let e=Dc(t);n.includes(e)||n.push(e)}})),Lc().settings(t).domain(n)()}function Lc(){let t=null,e=null,n={},r=t=>Bc(t,n.colorStyles&&n.colorStyles.opacity),i=()=>{let i=n.colorStyles,a=e||[i.series];return a||t.length>1?Mr((t.length>1?i.scheme:a).map(r)).domain(t):null};return i.domain=(...e)=>e.length?(t=e[0],i):t,i.defaultColors=(...t)=>t.length?(e=t[0],i):e,i.mapFunction=(...t)=>t.length?(r=t[0],i):r,i.settings=(...t)=>t.length?(n=t[0],i):n,i}function Ic(t){return Rc(1)(t)}function Bc(t,e=.5){return Rc(e)(t)}function Rc(t){return e=>{let n=(0,En.ZP)(e);return n.opacity=t,n+""}}var Yc={none:Yl,ordinal:sc,time:Kl,linear:ql},jc=t=>{let e=zl(t),n="__ROW_PATH__",r=(t,r)=>Yc[e()](n)(t,r);return(0,Cn.rebindAll)(r,e),r.valueName=(...t)=>t.length?(n=t[0],r):n,r};function Fc(t,e,{stack:n=!1,excludeEmpty:r=!1}={}){let i=e||t.data;return t.splitValues.length>0?function(t,e,{stack:n=!1,excludeEmpty:r=!1}){let i={};return e.forEach((t=>{let e={},a={};Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).filter((e=>!r||null!=t[e]&&null!=t[e])).forEach((r=>{let i=r.split("|"),o=i[i.length-1],l=t[r]||0,c=`${o}${l>=0?"+ve":"-ve"}`,s=i.slice(0,i.length-1).join("|"),u=a[s]=a[s]||{__ROW_PATH__:t.__ROW_PATH__},f=e[c]||0;u.__KEY__=s,n?(u[o]=f+l,u[`__BASE_VALUE__${o}`]=f,e[c]=u[o]):u[o]=l,u.row=t})),Object.keys(a).forEach((t=>{(i[t]=i[t]||[]).push(a[t])}))})),Object.keys(i).map((t=>{let e=i[t];return e.key=t,e}))}(0,i,{stack:n,excludeEmpty:r}):[i]}function Zc(t,e){let n={stack:!0};return Fc(t,e,n).map((e=>Hc(t,e,n)))}function Hc(t,e,{stack:n=!1}){let r=function(t,e,{stack:n=!1}){let r=jc(t);return t=>{let i=e=>n&&e[`__BASE_VALUE__${t.name}`]||0,a=e.map(((e,n)=>({crossValue:r(e,n),mainValue:e[t.name]?e[t.name]:null,baseValue:i(e),key:e.__KEY__?`${e.__KEY__}|${t.name}`:t.name,row:e.row||e})));return a.key=a[0].key,a}}(t,e,{stack:n});return t.mainValues.length>1?t.mainValues.map(r):r(t.mainValues[0])}var Uc=10;function Wc(t,e,n){let r=(0,ka.select)(ac(t).getContainer()).node().getBoundingClientRect(),i=t.getBoundingClientRect(),a={top:i.top+n-Uc,right:i.right+e+Uc,bottom:i.bottom+n+Uc,left:i.left+e-Uc},o={x:e,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((t=>{if(bc(r,a,t.edge)){let e=a[t.edge]-r[t.edge];o[t.dimension]=o[t.dimension]-e}})),o}var qc="resize.for-dragging";var $c="horizontal-drag-handle",Gc="vertical-drag-handle",Xc="dragHandles",Qc="resize",Kc=(t,e)=>{let n,r,i=t||bl(),a=[],o=1,l=e.legend&&e.legend.pageIndex?e.legend.pageIndex:0,c=()=>{},s=function(){let t=!0,e=null,n=n=>{let r=n.node();r.style.cursor="move",e.legend&&(r.style.left=e.legend.left,r.style.top=e.legend.top);let i=jn().on("drag",(function(n){let i=Wc(this,n.dx,n.dy);this.style.left=`${this.offsetLeft+i.x}px`,this.style.top=`${this.offsetTop+i.y}px`;let a={left:this.style.left,top:this.style.top};e.legend={...e.legend,...a},t=function(t){let e=t.getBoundingClientRect(),n=(0,ka.select)(oc(t)).node().getBoundingClientRect();return e.right+Uc+5>=n.right&&e.top-Uc-5<=n.top}(r)?function(t){return(0,ka.select)(window).on(qc,null),t.style.left="auto",!0}(r):function(t,e){return!1!==e&&(0,ka.select)(window).on(qc,(function(){let e=Wc(t,0,0);t.style.left=`${t.offsetLeft+e.x}px`,t.style.top=`${t.offsetTop+e.y}px`})),!1}(r,t)}));n.call(i)};return n.settings=(...t)=>t.length?(e=t[0],n):e,n}().settings(e),u=t=>{a=i.scale().domain(),r=function(){let t=9,e=3,n=null,r={height:100,width:100},i={height:null,width:null},a=[],o=(t,e)=>a.filter((e=>e.event===t)).forEach((t=>t.execute(e))),l=r=>{if((t=>t.select(`#${Xc}`).size()>0)(r))return;let a={left:t=>o(Qc,{horizontal:A(t),vertical:!1}),top:t=>o(Qc,{horizontal:!1,vertical:T(t)}),right:t=>o(Qc,{horizontal:C(t),vertical:!1}),bottom:t=>o(Qc,{horizontal:!1,vertical:E(t)}),topleft:t=>o(Qc,{horizontal:A(t),vertical:T(t)}),topright:t=>o(Qc,{horizontal:C(t),vertical:T(t)}),bottomright:t=>o(Qc,{horizontal:C(t),vertical:E(t)}),bottomleft:t=>o(Qc,{horizontal:A(t),vertical:E(t)})},l=r.node();n.legend&&(l.style.height=n.legend.height,l.style.width=n.legend.width);let u=l.getBoundingClientRect(),f=r.append("svg").attr("id",Xc).attr("width",u.width).attr("height",u.height),d=f.append("g"),h=t=>"left"===t||"right"===t,g={left:0,top:t,right:u.width-t,bottom:t},p={left:t,top:0,right:t,bottom:u.height-t},[_,b,m,v]=["left","top","right","bottom"].map((n=>d.append("rect").attr("id",`drag${n}`).attr("class",h(n)?Gc:$c).attr("y",p[n]).attr("x",g[n]).attr("height",h(n)?u.height-2*t:t).attr("width",h(n)?t:u.width-2*t).attr("fill",h(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",e).attr("cursor",h(n)?"ew-resize":"ns-resize").call(jn().on("drag",a[n])))),y=t=>`${t[0]}${t[1]}`,w={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},[x,S,M,k]=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((n=>d.append("rect").attr("id",`drag${y(n)}`).attr("class",`corner-drag-handle ${n[0]} ${n[1]}`).attr("height",t).attr("width",t).attr("fill","red").attr("fill-opacity",0).style("z-index",e).attr("cursor",`${w[y(n)]}-resize`).call(jn().on("drag",a[y(n)]))));function A(t){let e=s(Wc(_.node(),t.x,0).x,f,"width",((t,e)=>t-e));return l.style.left=`${l.offsetLeft+e}px`,l.style.width=l.offsetWidth-e+"px",N(),V(m,e,"width","x")}function C(t){let e=-s(Wc(m.node(),t.dx,0).x,f,"width",((t,e)=>t+e));return!c(e,"x",m,t)&&(l.style.width=l.offsetWidth-e+"px",N(),V(m,e,"width","x"))}function T(t){let e=s(Wc(b.node(),0,t.y).y,f,"height",((t,e)=>t-e));return l.style.top=`${l.offsetTop+e}px`,l.style.height=l.offsetHeight-e+"px",N(),V(v,e,"height","y")}function E(t){let e=-s(Wc(v.node(),0,t.dy).y,f,"height",((t,e)=>t+e));return!c(e,"y",v,t)&&(l.style.height=l.offsetHeight-e+"px",N(),V(v,e,"height","y"))}function N(){let t={top:l.style.top,left:l.style.left,height:l.style.height,width:l.style.width};n.legend={...n.legend,...t}}function V(t,e,n,r){return((t,e,n)=>{t.attr(e,t.node().getBoundingClientRect()[e]-n)})(f,n,e),((t,e,n)=>{t.attr(e,Number(t.attr(e))-n)})(t,r,e),((t,e,n,r)=>{t.selectAll(`.${r}`).each(((t,r,i)=>{let a=i[r];(0,ka.select)(a).attr(n,a.getBoundingClientRect()[n]-e)}))})(f,e,n,"height"===n?Gc:$c),D(f),0!=e}function D(e){x.attr("y",0,"x",0),S.attr("y",0).attr("x",e.attr("width")-t),M.attr("y",e.attr("height")-t).attr("x",e.attr("width")-t),k.attr("y",e.attr("height")-t).attr("x",0)}function P(t,e,n){i[t]&&i[t]<u[t]&&(l.style[t]=`${i[t]}px`,V(n,u[t]-i[t],t,e))}P("height","y",v),P("width","x",m),D(f)};function c(t,e,n,r){return((t,e,n,r)=>t<0&&r[e]<Number(n.attr(e)))(t,e,n,r)||((t,e,n,r)=>t>0&&r[e]>Number(n.attr(e)))(t,e,n,r)}function s(t,e,n,a){let o=a(Number(e.attr(n)),t);return o<r[n]?a(t,r[n]-o):i[n]&&o>i[n]?a(t,i[n]-o):t}return l.on=(t,e)=>(a.push({event:t,execute:e}),l),l.zIndex=t=>(e=t,l),l.settings=(...t)=>t.length?(n=t[0],l):n,l.minWidth=t=>(r.width=t,i.width&&(i.width=Math.max(r.width,i.width)),l),l.minHeight=t=>(r.height=t,i.height&&(i.height=Math.max(r.height,i.height)),l),l.handleWidth=e=>(t=e,l),l.maxWidth=t=>(i.width=t,r.width=Math.min(r.width,i.width),l),l.maxHeight=t=>(i.height=t,r.height=Math.min(r.height,i.height),l),l}().settings(e).maxHeight(16*a.length+20).on("resize",(()=>f(t))),r(t),s(t),f(t)},f=t=>{_(t),d(t),h(t),function(t){let e=t.select("g.legendCells"),n=t.node().getBoundingClientRect();if(!bc(n,e.node().getBoundingClientRect()))return;let r=t.select(".legend");e.selectAll(".label").text(((t,e,i)=>{let a=i[e];if(bc(n,a.getBoundingClientRect())){let e=function(t,e,n){let r=t.getBoundingClientRect(),i=e.node().createSVGPoint();return i.x=n.right-r.left-3,i.y=0,t.getCharNumAtPosition(i)}(a,r,n);return`${t.substring(0,e-3)}...`}return t}))}(t)},d=t=>{let e=m(t);e.style("display",o<=1?"none":"block"),e.select("#page-text").text(`${l+1}/${o}`),e.select("#up-arrow").attr("class",0===l?"disabled":"").on("click",(()=>{l>0&&(g(l-1),f(t))})),e.select("#down-arrow").attr("class",l>=o-1?"disabled":"").on("click",(()=>{l<o-1&&(g(l+1),f(t))}))},h=t=>{o>1&&i.cellFilter(p()),t.select("g.legendCells").remove();let e=v(t);e.call(i);let n=t.select("g.legendCells").node().getBBox();e.attr("height",n.height+20),c(t)},g=t=>{l=t,e.legend={...e.legend,pageIndex:l}},p=()=>(t,e)=>e>=n*l&&e<n*l+n,_=t=>{let e=t.node().getBoundingClientRect(),r=Math.floor(e.height/16)-1;n=r<a.length?r-1:r,o=b(r),l=Math.min(l,o-1)},b=t=>Math.ceil(a.length/t),m=t=>_c(t,".legend-controls",(()=>t.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n'))),v=t=>_c(t,".legend",(()=>t.append("svg").attr("class","legend")));return u.decorate=(...t)=>t.length?(c=t[0],u):c,(0,Cn.rebindAll)(u,i),u},Jc=t=>Kc(bl().shape("circle").shapeRadius(6),t),ts=t=>Kc(function(){var t=(0,ll.scaleLinear)(),e="path",n=5,r=[5],i=void 0,a=[],o="",l="",c=_l.d3_defaultLocale,s=_l.d3_defaultFormatSpecifier,u="middle",f=10,d=_l.d3_defaultDelimiter,h=void 0,g="vertical",p=!1,_=void 0,b=al("cellover","cellout","cellclick");function m(m){var v=_l.d3_calcType(t,p,r,a,c.format(s),d),y=m.selectAll("g").data([t]);i&&_l.d3_filterCells(v,i),y.enter().append("g").attr("class",o+"legendCells");var w=m.select("."+o+"legendCells").selectAll("."+o+"cell").data(v.data),x=w.enter().append("g").attr("class",o+"cell");x.append(e).attr("class",o+"swatch");var S=m.selectAll("g."+o+"cell path."+o+"swatch");_l.d3_addEvents(x,b),w.exit().transition().style("opacity",0).remove(),S.exit().transition().style("opacity",0).remove(),S=S.merge(S),_l.d3_drawShapes(e,S,15,15,10,v.feature);var M=_l.d3_addText(m,x,v.labels,o,h);w=x.merge(w);var k,A=M.nodes().map((function(t){return t.getBBox()})),C=S.nodes().map((function(t){return t.getBBox()})),T=ul(C,(function(t){return t.height})),E=ul(C,(function(t){return t.width})),N=void 0,V=void 0,D="start"==u?0:"middle"==u?.5:1;"vertical"===g?(k=A.map((function(t,e){return Math.max(T,t.height)})),N=function(t,e){return"translate(0, "+(fl(k.slice(0,e))+e*n)+" )"},V=function(t,e){return"translate( "+(E+f)+",\n              "+(C[e].y+C[e].height/2+5)+")"}):"horizontal"===g&&(N=function(t,e){return"translate( "+e*(E+n)+",0)"},V=function(t,e){return"translate( "+(C[e].width*D+C[e].x)+",\n              "+(T+f)+")"}),_l.d3_placement(g,w,N,M,V,u),_l.d3_title(m,l,o,_),w.transition().style("opacity",1)}return m.scale=function(e){return arguments.length?(t=e,m):t},m.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(r=t),m):r},m.cellFilter=function(t){return arguments.length?(i=t,m):i},m.shapePadding=function(t){return arguments.length?(n=+t,m):n},m.labels=function(t){return arguments.length?(a=t,m):a},m.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(u=t),m):u},m.locale=function(t){return arguments.length?(c=Ko(t),m):c},m.labelFormat=function(t){return arguments.length?(s=Uo(t),m):m.locale().format(s)},m.labelOffset=function(t){return arguments.length?(f=+t,m):f},m.labelDelimiter=function(t){return arguments.length?(d=t,m):d},m.labelWrap=function(t){return arguments.length?(h=t,m):h},m.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(g=t),m):g},m.ascending=function(t){return arguments.length?(p=!!t,m):p},m.classPrefix=function(t){return arguments.length?(o=t,m):o},m.title=function(t){return arguments.length?(l=t,m):l},m.titleWidth=function(t){return arguments.length?(_=t,m):_},m.on=function(){var t=b.on.apply(b,arguments);return t===b?m:t},m}().shapePadding(1).labelOffset(3),t),es=()=>is(Jc),ns=()=>is(ts,rs);function rs(t){if(!t)return null;let e=t.domain(),n=t.range().map((t=>(0,Aa.symbol)().type(t)()));return Mr().domain(e).range(n)}function is(t,e){let n={},r=null,i=null;function a(e){if(r&&r.range().length>1){let a=t(n);a.scale(r).orient("vertical").on("cellclick",(function(t){let e=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(e)?n.hideKeys=n.hideKeys.filter((t=>t!==e)):n.hideKeys.push(e),ac(this)._draw()})),a.labels((t=>{let e=t.domain[t.i].split("|");return n.mainValues.length<=1&&e.length>1?e.slice(0,e.length-1).join("|"):t.domain[t.i]}));let o=_c(e,"div.legend-container",(()=>e.append("div")));a.decorate((t=>{let e=t=>n.hideKeys&&n.hideKeys.includes(t),r=t.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",e),r.append("title").html((t=>t)),i&&r.select("circle, path").style("fill",(t=>e(t)?null:i(t))).style("stroke",(t=>e(t)?null:Ic(i(t))))})),o.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(a)}}return a.settings=(...t)=>t.length?(n=t[0],a):n,a.scale=(...t)=>t.length?(r=e?e(t[0]):t[0],a):r,a.color=(...t)=>t.length?(i=t[0],a):i,a}function as(t,e){let n=e||t.data;return t.hideKeys&&t.hideKeys.length>0?n.map((e=>{let n={...e};return t.hideKeys.forEach((t=>{delete n[t]})),n})):n}function os(t,e){let n=e||t.data;return t.hideKeys&&t.hideKeys.length>0?n.map((e=>{let n={};return Object.keys(e).map((r=>{t.hideKeys.includes(Dc(r))||(n[r]=e[r])})),n})):n}var ls=t=>t.style("display","none"),cs=(t,e)=>{let n="both",r=!1,i=null,a=null,o=null,l=(0,Cn.seriesSvgMulti)(),c=(0,Cn.annotationSvgGridline)(),s=(t=>e=>e.style("stroke-width","1.0").style("stroke",t?t.colorStyles.grid.gridLineColor:"#bbb"))(e),u=ls,f=function(...f){r&&(l=(0,Cn.seriesCanvasMulti)().context(o),c=(0,Cn.annotationCanvasGridline)(),s=(t=>e=>{e.strokeStyle=t?t.colorStyles.grid.gridLineColor:"#bbb",e.lineWidth=1})(e),u=(t=>e=>{e.lineWidth=1,e.strokeStyle=t?t.colorStyles.grid.gridLineColor:"#bbb"})(e));let d=l.xScale(i).yScale(a),h="vertical"===n?u:s,g="horizontal"===n?u:s,p=c.xDecorate(h).yDecorate(g);return d.series([p,t])(...f)};return f.orient=(...t)=>t.length?(n=t[0],f):n,f.canvas=(...t)=>t.length?(r=t[0],f):r,f.xScale=(...t)=>t.length?(i=t[0],f):i,f.yScale=(...t)=>t.length?(a=t[0],f):a,f.context=(...t)=>t.length?(o=t[0],f):o,f},ss=()=>{let t=Fl(),e=e=>{let n=t.pad(),r=t.padUnit(),i=1;switch(r){case"domain":break;case"percent":i=e[1]-e[0];break;default:throw new Error("Unknown padUnit: "+r)}let a=e[0]-n[0]*i,o=e[1]+n[1]*i;return e[0]=e[0]>=0&&a<0?0:a,e[1]=e[1]<=0&&o>0?0:o,e};return(0,Cn.rebindAll)(e,t),e},us=()=>{let t=null,e=null,n=null,r=null,i=null,a=null,o=!1,l=!1,c=()=>{};function s(c){let s=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||i){let l=r&&r.domain()[0]instanceof Date,d=(0,Ca.zoom)().on("zoom",(o=>{let{transform:h}=o;e.zoom={k:h.k,x:h.x,y:h.y},u(h),c.call(t);let g=1===h.k&&0===h.x&&0===h.y,p=f(c).style("display",g?"none":"");p.select("#zoom-reset").on("click",(()=>c.select(s).call(d.transform,Ca.zoomIdentity)));let _=p.select("#one-year").style("display",l?"":"none"),b=p.select("#six-months").style("display",l?"":"none"),m=p.select("#one-month").style("display",l?"":"none");if(l){let t=t=>()=>{let e=new Date(n.domain()[0]),o=new Date(e);t(e,o);let l=r.range(),u=(l[1]-l[0])/(r(o)-r(e)),f=-r(e)*u,h=0;if(i){let t=i.domain().reduce(((t,e)=>t+e))/2;h=-a(t)*u+i(t)}c.select(s).call(d.transform,Ca.zoomIdentity.translate(f,h).scale(u))};_.on("click",t(((t,e)=>e.setYear(t.getFullYear()+1)))),b.on("click",t(((t,e)=>e.setMonth(t.getMonth()+6)))),m.on("click",t(((t,e)=>e.setMonth(t.getMonth()+1))))}})),h=t.decorate();t.decorate(((t,n)=>{if(h(t,n),!o){o=!0;let n=t.select(s);n.on("measure.zoom-range",(t=>{if(r&&r.range([0,t.detail.width]),a&&a.range([0,t.detail.height]),e.zoom){let t=Ca.zoomIdentity.translate(e.zoom.x,e.zoom.y).scale(e.zoom.k);n.call(d.transform,t)}})).call(d)}}))}c.call(t)}s.chart=(...e)=>e.length?(t=e[0],s):t,s.settings=(...t)=>t.length?(e=t[0],s):e,s.xScale=(...t)=>t.length?(n=d(t[0]),r=n?n.copy():null,s):n,s.yScale=(...t)=>{if(!t.length)return i;if(i=d(t[0]),a=i?i.copy():null,a){let t=a.domain();a.domain([t[1],t[0]])}return s},s.canvas=(...t)=>t.length?(l=t[0],s):l,s.onChange=(...t)=>t.length?(c=t[0],s):c;let u=t=>{let e={...t};if(n&&(n.domain(t.rescaleX(r).domain()),e.xDomain=n.domain()),i){let n=t.rescaleY(a).domain();i.domain([n[1],n[0]]),e.yDomain=i.domain()}c(e)},f=t=>_c(t,".zoom-controls",(()=>t.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n'))),d=t=>t&&t.nice?t:null;return s};function fs(t,e){let n=Zc(e,as(e)),r=Pc(e),i=es().settings(e).scale(r),a=Nc(e,r).orient("horizontal"),o=(0,Cn.seriesSvgMulti)().mapping(((t,e)=>t[e])).series(n.map((()=>a))),l=dc(e).settingName("mainValues").valueName("mainValue").excludeType(Vl).include([0]).paddingStrategy(ss())(n),c=dc(e).excludeType(Pl).settingName("crossValues").valueName("crossValue").orient("vertical")(n),s=hc(l,c).plotArea(cs(o,e).orient("horizontal"));s.yPaddingInner&&(s.yPaddingInner(.5),s.yPaddingOuter(.25),a.align("left")),s.xNice&&s.xNice();let u=us().chart(s).settings(e).yScale(c.scale);t.datum(n).call(u),t.call(i)}fs.plugin={name:"X Bar",max_cells:1e3,max_columns:50,render_warning:!0};var ds=fs,hs=t=>2===t.length&&!isNaN(t[0])&&!isNaN(t[1])&&t[0]!==t[1],gs=t=>(0-t[0])/(t[1]-t[0]),ps=(t,e)=>e*t[1]/(e-1),_s=(t,e,n=bs)=>{let r,i,a,o=t.splitMainValues||[],l=t=>{let e=t.split("|");return o.includes(e[e.length-1])},c=t.mainValues.some((t=>l(t.name)));i=c?n(e,(t=>!l(t))):e,a=c?n(e,l):null;let s=e=>{if(1===t.mainValues.length)return;let n=t.mainValues.map(((t,e)=>({index:e,name:t.name}))),i=n.filter((t=>!l(t.name))),a=n.filter((t=>l(t.name))),o=()=>(t=>{let e,n=[],r=!1,i=i=>{i.text("");let o=(0,Cn.dataJoin)("span","splitter-label").key((t=>t)),l=!r&&1===n.length,c=e&&0===t.splitValues.length;o(i,n).classed("disabled",l).text((t=>t.name)).style("color",(t=>c?Ic(e(t.name)):void 0)).on("click",((e,n)=>{l||(t.splitMainValues=r?t.splitMainValues.filter((t=>t!=n.name)):[n.name].concat(t.splitMainValues||[]),a(i))}))},a=t=>{let e=ac(t.node());e._container.innerHTML="",e._draw()};return i.labels=(...t)=>t.length?(n=t[0],i):n,i.alt=(...t)=>t.length?(r=t[0],i):r,i.color=(...t)=>t.length?(e=t[0],i):e,i})(t).color(r);e.select(".y-label.left-label").call(o().labels(i)),e.select(".y-label.right-label").call(o().labels(a).alt(!0))};return s.color=(...t)=>t.length?(r=t[0],s):r,s.haveSplit=()=>c,s.data=(...t)=>t.length?(i=t[0],s):i,s.altData=(...t)=>t.length?(a=t[0],s):a,s},bs=(t,e)=>t.map((t=>t.filter((t=>e(t.key))))),ms=(t,e)=>t.map((t=>e(t.key)?t:t.map((t=>Object.assign({},t,{mainValue:null}))))),vs=(t,e)=>t.map((t=>ms(t,e)));function ys(t,e){let n=Zc(e,as(e)),r=Pc(e),i=es().settings(e).scale(r),a=Nc(e,r).orient("vertical"),o=(0,Cn.seriesSvgMulti)().mapping(((t,e)=>t[e])).series(n.map((()=>a))),l=dc(e).excludeType(Pl).settingName("crossValues").valueName("crossValue")(n),c=dc(e).settingName("mainValues").valueName("mainValue").excludeType(Vl).orient("vertical").include([0]).paddingStrategy(ss()),s=e.mainValues.length>1?vs:ms,u=_s(e,n,s).color(r),f=c(u.data()),d=u.haveSplit()?o:cs(o,e).orient("vertical"),h=hc(l,f).axisSplitter(u).plotArea(d);h.xPaddingInner&&(h.xPaddingInner(.5),h.xPaddingOuter(.25),a.align("left")),h.yNice&&h.yNice();let g=us().chart(h).settings(e).xScale(l.scale);if(u.haveSplit()){let t=c(u.altData());((t,e)=>{if(!hs(t)||!hs(e))return;let n=gs(t),r=gs(e);n>r?e[0]=ps(e,n):t[0]=ps(t,r)})(f.domain,t.domain),h.yDomain(f.domain).altAxis(t)}t.datum(u.data()).call(g),t.call(i)}ys.plugin={name:"Y Bar",max_cells:1e3,max_columns:50,render_warning:!0};var ws=ys;function xs(t,e){let n=(0,Cn.seriesSvgLine)();return n=n.decorate((t=>{t.style("stroke",(t=>Ic(e(t[0]&&t[0].key))))})),n.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue))}var Ss=function(t){let e=[];for(let n of t)for(let t=0;t<n.length;t++)null!==n[t].mainValue&&(e[t]=e[t]||[],e[t].push(n[t]));return e},Ms=(t,e,n=Math.min)=>{let r=t=>t.reduce(((t,r)=>{let a=i(r,e);return!a||t&&n(t.value,a.value)!==a.value?t:a}),null),i=t=>{if(Array.isArray(t))return r(t);let n=e(t);return null!==n?{item:t,value:n}:null},a=r(t);return a?a.item:null},ks=()=>{let t=Tc().alwaysShow(!0),e=null,n=null,r=null,i=null,a=!1,o=null,l="crossValue",c="mainValue",s=null,u=1;function f(r){let i=`d3fc-${a?"canvas":"svg"}.plot-area`;if(e||n){let e=null,a=(0,Cn.pointer)().on("point",(t=>{let i=t.length?h(t[0]):null;e=i?[i.data]:[];let a=i?i.scale:n;d(r,e,a)}));r.select(i).on("measure.nearbyTip",(()=>d(r,[]))).on("click",(()=>{e.length&&Cc(r.node(),e[0],t.settings())})).call(a)}}let d=(a,o,s=n)=>{let f=a.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(o);f.exit().remove(),f.enter().append("circle").attr("class","nearbyTip").merge(f).attr("r",(t=>i?u*Math.sqrt(i(t.size)):10)).attr("transform",(t=>`translate(${e(t[l])},${s(t[c])})`)).style("stroke","none").style("fill",(t=>r&&t.key&&Bc(r(t.key)))),t(f)},h=t=>{let r=n=>r=>void 0===r[c]||null===r[c]||void 0===r[l]||null===r[l]?null:Math.sqrt(Math.pow(e(r[l])-t.x,2)+Math.pow(n(r[c])-t.y,2)),i=r(n),a=Ms(o,i,Math.min);if(s){let t=r(s.yScale),e=Ms(s.data,t,Math.min);return i(a)<=t(e)?{data:a,scale:n}:{data:e,scale:s.yScale}}return{data:a,scale:n}};return f.scaleFactor=(...t)=>t.length?(u=t[0],f):u,f.xScale=(...t)=>t.length?(e=t[0],f):e,f.yScale=(...t)=>t.length?(n=t[0],f):n,f.color=(...t)=>t.length?(r=t[0],f):r,f.size=(...t)=>t.length?(i=t[0]?t[0].copy().range([40,4e3]):null,f):i,f.canvas=(...t)=>t.length?(a=t[0],f):a,f.data=(...t)=>t.length?(o=t[0],f):o,f.xValueName=(...t)=>t.length?(l=t[0],f):l,f.yValueName=(...t)=>t.length?(c=t[0],f):c,f.altDataWithScale=(...t)=>t.length?(s=t[0],f):s,(0,Cn.rebindAll)(f,t),f};function As(t,e){let n=function(t,e){let n=jc(t);return e.map(((t,e)=>Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).map((r=>({key:r,crossValue:n(t,e),mainValue:t[r],row:t})))))}(e,as(e)),r=Pc(e),i=es().settings(e).scale(r),a=(0,Cn.seriesSvgRepeat)().series(xs(0,r)).orient("horizontal"),o=ss().pad([.1,.1]).padUnit("percent"),l=dc(e).excludeType(Pl).settingName("crossValues").valueName("crossValue")(n),c=dc(e).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(o),s=_s(e,Ss(n)).color(r),u=c(s.data()),f=s.haveSplit()?a:cs(a,e).orient("vertical"),d=hc(l,u).axisSplitter(s).plotArea(f);d.yNice&&d.yNice();let h=us().chart(d).settings(e).xScale(l.scale),g=ks().settings(e).xScale(l.scale).yScale(u.scale).color(r).data(n);if(s.haveSplit()){let t=c(s.altData());d.altAxis(t),g.data(s.data()).altDataWithScale({yScale:t.scale,data:s.altData()})}let p=s.data();t.datum(p).call(h),t.call(g),t.call(i)}As.plugin={name:"Y Line",max_cells:4e3,max_columns:50,render_warning:!0};var Cs=As,Ts=[Aa.symbolCircle,Aa.symbolCross,Aa.symbolDiamond,Aa.symbolSquare,Aa.symbolStar,Aa.symbolTriangle,Aa.symbolWye];function Es(t){return t.length>1?Mr().domain(t).range(Ts):null}function Ns(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=[];return Object.keys(e).forEach((t=>{if("__ROW_PATH__"!==t){let e=Dc(t);n.includes(e)||n.push(e)}})),Es(n)}function Vs(t,e){let n=Ss(function(t,e){let n=t.mainValues.length;return e.map((t=>{let e=Object.keys(t).filter((t=>"__ROW_PATH__"!==t)),r=new Array(e.length/n);for(let i=0;i<e.length/n;i++)r[i]={key:Dc(e[i*n]),crossValue:t[e[i*n]],mainValue:t[e[i*n+1]],row:t};return r}))}(e,os(e))),r=Oc(e),i=Ns(e),a=null;r.domain().length>2&&(a=is(Jc,rs).settings(e).scale(i).color(r));let o=(0,Cn.seriesSvgRepeat)().series(xs(0,r)).orient("horizontal"),l=ss().pad([.1,.1]).padUnit("percent"),c=dc(e).settingName("mainValues").settingValue(e.mainValues[0].name).valueName("crossValue").paddingStrategy(l),s=dc(e).settingName("mainValues").settingValue(e.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(l)(n),u=c(n),f=cs(o,e).orient("vertical"),d=hc(u,s).xLabel(e.mainValues[0].name).yLabel(e.mainValues[1].name).plotArea(f);d.xNice&&d.xNice(),d.yNice&&d.yNice();let h=us().chart(d).settings(e).xScale(u.scale).yScale(s.scale),g=ks().settings(e).xScale(u.scale).yScale(s.scale).color(r).data(n);t.datum(n).call(h),t.call(g),a&&t.call(a)}Vs.plugin={name:"X/Y Line",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var Ds=Vs;function Ps(t,e){let n=function(t,e){let n=jc(t);return e.map(((t,e)=>{let r={};return Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).map((i=>{let a=i.split("|"),o=a[a.length-1],l=r[o]||0,c=l+t[i];return r[o]=c,{key:i,crossValue:n(t,e),mainValue:c,baseValue:l,row:t}}))}))}(e,as(e)),r=Pc(e),i=es().settings(e).scale(r),a=(0,Cn.seriesSvgRepeat)().series(function(t,e){let n=(0,Cn.seriesSvgArea)();return n=n.decorate((t=>{t.style("fill",(t=>e(t[0].key)))})),n.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue)).baseValue((t=>t.baseValue))}(0,r).orient("vertical")),o=dc(e).excludeType(Pl).settingName("crossValues").valueName("crossValue")(n),l=dc(e).settingName("mainValues").valueName("mainValue").excludeType(Vl).orient("vertical").include([0]).paddingStrategy(ss()),c=_s(e,n).color(r),s=l(c.data()),u=c.haveSplit()?a:cs(a,e).orient("vertical"),f=hc(o,s).axisSplitter(c).plotArea(u);f.yNice&&f.yNice();let d=us().chart(f).settings(e).xScale(o.scale),h=ks().settings(e).xScale(o.scale).yScale(s.scale).color(r).data(n);if(c.haveSplit()){let t=l(c.altData());f.altAxis(t),h.data(c.data()).altDataWithScale({yScale:t.scale,data:c.altData()})}t.datum(c.data()).call(d),t.call(h),t.call(i)}Ps.plugin={name:"Y Area",max_cells:4e3,max_columns:50,render_warning:!0};var zs=Ps;function Os(t,e){let n=function(t,e){let n={stack:!1},r=Fc(t,e,n).map((e=>Hc(t,e,n)));return t.mainValues.length>1?r.reduce(((t,e)=>t.concat(e))):r}(e,as(e)),r=function(t){let e=t.data&&t.data.length>0?t.data[0]:{};return Es(Object.keys(e).filter((t=>"__ROW_PATH__"!==t)))}(e),i=Pc(e),a=ns().settings(e).scale(r).color(i),o=(0,Cn.seriesSvgMulti)().mapping(((t,e)=>t[e])).series(n.map((t=>function(t,e,n,r){let i=(0,Cn.seriesSvgPoint)().size(100),a=t.colorStyles&&t.colorStyles.opacity;return r&&i.type(r(e)),i.decorate((t=>{t.style("stroke",(t=>Ic(n(t.colorValue||e)))).style("fill",(t=>Bc(n(t.colorValue||e),a)))})),i.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue))}(e,t.key,i,r)))),l=ss().pad([.05,.05]).padUnit("percent"),c=dc(e).excludeType(Pl).settingName("crossValues").valueName("crossValue")(n),s=dc(e).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(l),u=_s(e,n).color(i),f=s(u.data()),d=u.haveSplit()?o:cs(o,e).orient("vertical"),h=hc(c,f).axisSplitter(u).plotArea(d);h.yNice&&h.yNice();let g=us().chart(h).settings(e).xScale(c.scale),p=ks().settings(e).xScale(c.scale).yScale(f.scale).color(i).data(n);if(u.haveSplit()){let t=s(u.altData());h.altAxis(t),p.data(u.data()).altDataWithScale({yScale:t.scale,data:u.altData()})}t.datum(u.data()).call(g),t.call(p),a&&t.call(a)}Os.plugin={name:"Y Scatter",max_cells:4e3,max_columns:50,render_warning:!0};var Ls=Os;function Is(t,e,n,r){let i=Bs(e,n,r),a=t.colorStyles.gradient.full;if(i[0]>=0)a=t.colorStyles.gradient.positive;else if(i[1]<=0)a=t.colorStyles.gradient.negative;else{let t=Math.max(-i[0],i[1]);i=[-t,t]}return Ma(Rs(a)).domain(i)}var Bs=(t,e,n)=>n||Wl().valueName(e).pad([0,0])(t),Rs=t=>{let e=t.slice(1).map(((e,n)=>(0,mr.Z)(t[n][1],e[1])));return n=>{let r=t.findIndex(((e,r)=>r<t.length-1&&n<=t[r+1][0]&&n>e[0]));if(-1===r)return n<=t[0][0]?t[0][1]:t[t.length-1][1];let i=e[r],[a]=t[r],[o]=t[r+1];return i((n-a)/(o-a))}};function Ys(){let t=null;function e(e){let n=_c(e,"div.legend-container",(()=>e.append("div").attr("class","legend-container legend-color").style("z-index","2"))),{width:r,height:i}=n.node().getBoundingClientRect(),a=kr().domain([0,1]).range([0,r]),o=t.copy().nice().domain(),l=(0,Cn.extentLinear)().pad([.1,.1]).padUnit("percent")(o),[c,s]=l,u=(0,Tn.range)(c,s,(s-c)/i),f=Rr().domain(l).range([i,0]),d=(0,Cn.autoBandwidth)((0,Cn.seriesSvgBar)()).xScale(a).yScale(f).crossValue(0).baseValue(((t,e)=>u[Math.max(0,e-1)])).mainValue((t=>t)).decorate((e=>{e.selectAll("path").style("fill",(e=>t(e)))})),h=o[0]<0&&o[1]>0?0:Math.round((o[1]+o[0])/2),g=[...o,h],p=(0,Cn.axisRight)(f).tickValues(g).tickSizeOuter(0).tickFormat((t=>Hl(t))),_=_c(n,"svg",(()=>n.append("svg"))).style("width",r).style("height",i),b=_c(_,"g",(()=>_.append("g"))).datum(u).call(d),m=Math.abs(b.node().getBBox().x);_c(_,"#legend-axis",(()=>_.append("g").attr("id","legend-axis"))).attr("transform",`translate(${m})`).datum(u).call(p).select(".domain").attr("visibility","hidden")}return e.scale=(...n)=>n.length?(t=n[0],e):t,e}function js(t,e){let n=function(t,e){return Fc(t,e,{excludeEmpty:!0}).map((e=>function(t,e){let n=jc(t),r=e.map(((r,i)=>({crossValue:n(r,i),mainValues:t.mainValues.map((t=>r[t.name])),x:r[t.mainValues[0].name],y:r[t.mainValues[1].name],colorValue:t.realValues[2]?r[t.realValues[2]]:void 0,size:t.realValues[3]?r[t.realValues[3]]:void 0,key:e.key,row:r})));return r.key=e.key,r}(t,e)))}(e,os(e)),r=Ns(e),i=e.realValues.length<=2||null===e.realValues[2],a=null,o=null;i?(a=Oc(e),o=ns().settings(e).scale(r).color(i?a:null)):(a=Is(e,n,"colorValue"),o=Ys().scale(a));let l=e.realValues[3]?function(t,e,n,r){return Rr().domain(Bs(e,"size",void 0))}(0,n).range([10,1e4]):null,c=function([t,e],[n,r]){let i=(r-e)/(n-t),a=r-i*n;return function(t){let n=t.node(),o=Math.min(n.clientWidth,n.clientHeight);return Math.min(r,Math.max(e,i*o+a))}}([600,.1],[1600,1])(t),s=(0,Cn.seriesCanvasMulti)().mapping(((t,e)=>t[e])).series(n.map((t=>function(t,e,n,r,i,a=1){let o=(0,Cn.seriesCanvasPoint)().crossValue((t=>t.x)).mainValue((t=>t.y));return n&&o.size((t=>Math.round(a*n(t.size)))),i&&o.type(i(e)),o.decorate(((n,i)=>{let a=r(void 0!==i.colorValue?i.colorValue:e),o=t.colorStyles&&t.colorStyles.opacity;n.strokeStyle=Ic(a),n.fillStyle=Bc(a,o)})),o}(e,t.key,l,a,r,c)))),u=()=>dc(e).settingName("mainValues").paddingStrategy(ss()).pad([.1,.1]),f=u().settingValue(e.mainValues[0].name).valueName("x")(n),d=u().orient("vertical").settingValue(e.mainValues[1].name).valueName("y")(n),h=gc(f,d).xLabel(e.mainValues[0].name).yLabel(e.mainValues[1].name).plotArea(cs(s,e).canvas(!0));h.xNice&&h.xNice(),h.yNice&&h.yNice();let g=us().chart(h).settings(e).xScale(f.scale).yScale(d.scale).canvas(!0),p=ks().scaleFactor(c).settings(e).canvas(!0).xScale(f.scale).xValueName("x").yValueName("y").yScale(d.scale).color(i&&a).size(l).data(n);t.datum(n).call(g),t.call(p),o&&t.call(o)}js.plugin={name:"X/Y Scatter",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Tooltip"]},selectMode:"toggle"};var Fs=js;function Zs(t,e){let n=function(t,e){let n=jc(t),r=zl(t).excludeType(Pl).settingName("splitValues")(),i=[];return e.forEach(((t,e)=>{let a=n(t,e);Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).forEach((e=>{let n=function(t){let e=t.split("|");return e.pop(),e.join("|")}(e);i.push({crossValue:a,mainValue:r===Dl?new Date(n):n,colorValue:t[e],row:t})}))})),i}(e,as(e)),r=Is(e,n,"colorValue"),i=function(t,e){let n=(0,Cn.seriesCanvasHeatmap)();return n.decorate(((t,n)=>{t.fillStyle=e(n.colorValue)})),(0,Cn.autoBandwidth)(n).xValue((t=>t.crossValue)).yValue((t=>t.mainValue)).colorValue((t=>t.colorValue)).colorInterpolate(e.interpolator()).widthFraction(1)}(0,r),a=Ys().scale(r),o=dc(e).excludeType(Pl).settingName("crossValues").valueName("crossValue")(n),l=dc(e).excludeType(Pl).settingName("splitValues").valueName("mainValue").orient("vertical")(n),c=gc(o,l).plotArea(cs(i,e).canvas(!0));c.xPaddingInner&&(c.xPaddingInner(0),c.xPaddingOuter(0),i.xAlign("right")),c.yPaddingInner&&(c.yPaddingInner(0),c.yPaddingOuter(0),i.yAlign("top"));let s=us().chart(c).settings(e).xScale(o.scale).yScale(l.scale).canvas(!0),u=ks().settings(e).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);t.datum(n).call(s),t.call(a),t.call(u)}Zs.plugin={name:"Heatmap",max_cells:5e4,max_columns:500,render_warning:!0};var Hs=Zs;function Us(t,e){return Fc(t,e,{excludeEmpty:!0}).map((e=>function(t,e){let n=jc(t),r=e.map(((r,i)=>{let a=t.mainValues.length>=1?r[t.mainValues[0].name]:void 0,o=t.mainValues.length>=2?r[t.mainValues[1].name]:(n=>e[n<e.length-1?n+1:n][t.mainValues[0].name])(i);return{crossValue:n(r,i),mainValues:t.mainValues.map((t=>r[t.name])),openValue:a,closeValue:o,highValue:t.mainValues.length>=3?r[t.mainValues[2].name]:Math.max(a,o),lowValue:t.mainValues.length>=4?r[t.mainValues[3].name]:Math.min(a,o),key:e.key,row:r}}));return r.key=e.key,r}(t,e)))}var Ws=function(t){return function(e,n){let r=Us(n,os(n)),i=(0,Cn.indicatorBollingerBands)().value((t=>t.openValue)),a=r.map((t=>{let e=i(t);return t.map(((t,n)=>Object.assign({bollinger:e[n]},t)))})),o=r.map((t=>t.key)).concat(n.hideKeys?n.hideKeys:[]).sort(),l=Lc().domain(o).settings(n).mapFunction(Rc(1))(),c=es().settings(n).scale(o.length>1?l:null),s=function(t,e,n){let r=n.domain(),i=Lc().domain(r).settings(t).defaultColors([t.colorStyles["series-2"]]).mapFunction(Rc(.5))(),a=Lc().settings(t).domain(r)(),o=e().crossValue((t=>t.crossValue)).openValue((t=>t.openValue)).highValue((t=>t.highValue)).lowValue((t=>t.lowValue)).closeValue((t=>t.closeValue)).decorate(((t,e)=>{let r=(t=>t.closeValue>=t.openValue)(e)?n(e.key):i(e.key);t.fillStyle=r,t.strokeStyle=r})),l=(0,Cn.seriesCanvasLine)().mainValue((t=>t.bollinger.average)).crossValue((t=>t.crossValue)).decorate(((t,e)=>{t.strokeStyle=a(e[0].key)})),c=(0,Cn.seriesCanvasArea)().mainValue((t=>t.bollinger.upper)).baseValue((t=>t.bollinger.lower)).crossValue((t=>t.crossValue)).decorate(((t,e)=>{t.fillStyle=Rc(.25)(a(e[0].key))}));return(0,Cn.seriesCanvasMulti)().series([c,o,l])}(n,t,l),u=(0,Cn.seriesCanvasMulti)().mapping(((t,e)=>t[e])).series(a.map((()=>s))),f=ss().pad([.1,.1]).padUnit("percent"),d=dc(n).settingName("crossValues").valueName("crossValue")(a),h=dc(n).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(f)(a),g=gc(d,h).plotArea(cs(u,n).orient("vertical").canvas(!0));g.yNice&&g.yNice();let p=us().chart(g).settings(n).xScale(d.scale).onChange((t=>{let e=a.map((e=>e.filter((e=>e.crossValue>=t.xDomain[0]&&e.crossValue<=t.xDomain[1]))));g.yDomain(h.domainFunction(e))})).canvas(!0),_=ks().settings(n).xScale(d.scale).yScale(h.scale).yValueName("closeValue").color(l).data(a).canvas(!0);e.datum(a).call(p),e.call(_),e.call(c)}},qs=Ws(Cn.seriesCanvasOhlc);qs.plugin={name:"OHLC",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var $s=qs,Gs=Ws(Cn.seriesCanvasCandlestick);Gs.plugin={name:"Candlestick",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var Xs=Gs;function Qs(t,e){if(t.realValues.length>1&&null!==t.realValues[1]){let n=t.realValues[1];return"string"===t.mainValues.find((t=>t.name===n))?.type?zc(t,e.map((t=>t.data)).filter((t=>t.height>0)).map((t=>Ks(t))).reduce(((t,e)=>t.concat(e)))):Is(t,null,null,(t=>{let e=t=>(e,n)=>void 0===e?n:void 0===n?e:t(e,n);return t.reduce(((t,n)=>[e(Math.min)(t[0],n[0]),e(Math.max)(t[1],n[1])]),[void 0,void 0])})(e.map((t=>t.extents))))}}function Ks(t,e=[]){return t.children&&t.children.length>0?t.children.forEach((t=>e.concat(Ks(t,e)))):t.data.color&&e.push(t.data.color),e}function Js(t){let e={},n=t.realValues.map((e=>null===e?null:t.mainValues.find((t=>t.name===e))));return t.data.forEach(((r,i)=>{let a=r.__ROW_PATH__;(function(t){let e=[];return Object.keys(t).forEach((t=>{if("__ROW_PATH__"!==t){let n=t.split("|").slice(0,-1).join("|");e.includes(n)||e.push(n)}})),e})(r).forEach((o=>{let l;e[o]||(e[o]=[]),l=e[o],a.forEach(((e,c)=>{let s=l.find((t=>t.name===e));if(s||(s={name:e,children:[]},l.push(s)),t.realValues.length>1&&null!==t.realValues[1]){let e=c===a.length-1,n=tu(e?r:t.agg_paths[i][c+1]||r,t.mainValues[1],o);void 0!==n&&(s.color=n)}if(t.realValues.length>2&&null!==t.realValues[2]){s.tooltip=[];for(let e=2;e<t.realValues.length;++e)s.tooltip.push(tu(r,n[e],o))}if(c===a.length-1&&(s.name=a.slice(-1)[0],a.length===t.crossValues.length)){let e=tu(r,t.mainValues[0],o);s.size=e>0?e:0}l=s.children}))}))})),Object.entries(e).map((e=>{let n=ir({name:"root",children:e[1]}).sum((t=>t.size)),r=function(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(r){r.children&&fr(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,l=r.y1-n;o<i&&(i=o=(i+o)/2),l<a&&(a=l=(a+l)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=l}}(e,a)),r&&i.eachBefore(ur),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}().size([2*Math.PI,n.height+1])(n);return r.each((n=>{n.current=n,n.mainValues=1===t.realValues.length||null===t.realValues[1]&&null===t.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((t=>void 0!==t)),n.crossValue=n.ancestors().slice(0,-1).reverse().map((t=>t.data.name)),n.key=e[0],n.label=yc(t.crossValues[n.depth-1<0?0:n.depth-1].type,n.data.name)})),{split:e[0],data:r,extents:eu(t,e)}}))}var tu=(t,e,n)=>n.length?t[`${n}|${e.name}`]:t[e.name];function eu(t,[e,n]){if(t.realValues.length>1&&null!==t.realValues[1])return[Math.min(...t.data.map((n=>tu(n,t.mainValues[1],e)))),Math.max(...n.map((t=>t.color)))]}var nu=t=>(0,Aa.arc)().startAngle((t=>t.x0)).endAngle((t=>t.x1)).padAngle((t=>Math.min((t.x1-t.x0)/2,.005))).padRadius(t).innerRadius((e=>Math.max(1,(e.y0-1)*t))).outerRadius((e=>Math.max((e.y0-1)*t,(e.y1-1)*t-1))),ru=t=>t.y0>=1&&t.x1>t.x0,iu=t=>t.y1<=3&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.06;function au(t,e){let n=(t.x0+t.x1)/2*180/Math.PI;return`rotate(${n-90}) translate(${(t.y0-1+(t.y1-1))/2*e},0) rotate(${n<180?0:180})`}function ou(t,e){let n=this.getBBox().width;if(n>e){let r=t.label,i=(0,ka.select)(this);for(;n>e;)r=r.substring(0,r.length-1),i.text((()=>r)),n=this.getBBox().width;i.text((()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`))}}var lu=(t,e,n,r,i,a,o,l,c)=>(s,u)=>{c.sunburstLevel[l]=s.data.name,s.parent?(n.datum(s.parent),n.style("cursor","pointer"),r.html(`&#8682; ${s.label}`)):(n.datum(t),n.style("cursor","default"),r.html("")),t.each((t=>t.target={x0:2*Math.max(0,Math.min(1,(t.x0-s.x0)/(s.x1-s.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(t.x1-s.x0)/(s.x1-s.x0)))*Math.PI,y0:Math.max(0,t.y0-s.depth),y1:Math.max(0,t.y1-s.depth)}));let f=e.transition().duration(u?0:750);i.transition(f).tween("data",(t=>{let e=(0,mr.Z)(t.current,t.target);return n=>t.current=e(n)})).filter((function(t){return+this.getAttribute("fill-opacity")||ru(t.target)})).attr("fill-opacity",(t=>ru(t.target)?1:0)).attr("user-select",(t=>ru(t.target)?"initial":"none")).style("pointer-events",(t=>ru(t.target)?"initial":"none")).attrTween("d",(t=>()=>nu(o)(t.current))),a.filter((function(t){return+this.getAttribute("fill-opacity")||iu(t.target)})).transition(f).attr("fill-opacity",(t=>+iu(t.target))).attrTween("transform",(t=>()=>au(t.current,o)))};function cu(){let t=null,e=null,n=null,r=null,i=null,a=a=>{let o=a.selectAll("g.segment").data(n.descendants().slice(1)),l=o.enter().append("g").attr("class","segment");l.append("path"),l.append("text").attr("class","segment").attr("dy","0.35em");let c=l.merge(o),s=c.select("path").attr("fill-opacity",(t=>ru(t.current)?1:0)).attr("user-select",(t=>ru(t.current)?"initial":"none")).style("pointer-events",(t=>ru(t.current)?"initial":"none")).attr("d",(t=>nu(i)(t.current)));r&&s.style("fill",(t=>r(t.data.color)));let u=c.select("text").attr("fill-opacity",(t=>+iu(t.current))).attr("transform",(t=>au(t.current,i))).text((t=>t.label)).each((function(t){ou.call(this,t,i)})),f=a.select("text.parent"),d=a.select("circle").attr("r",i).datum(n),h=lu(n,a,d,f,s,u,i,e,t);if(t.sunburstLevel){let r=n.descendants().find((n=>n.data.name===t.sunburstLevel[e]));r&&h(r,!0)}else t.sunburstLevel={};d.on("click",(t=>h(t,!1))),s.filter((t=>t.children)).style("cursor","pointer").on("click",(t=>h(t,!1)))};return a.settings=(...e)=>e.length?(t=e[0],a):t,a.split=(...t)=>t.length?(e=t[0],a):e,a.data=(...t)=>t.length?(n=t[0],a):n,a.color=(...t)=>t.length?(r=t[0],a):r,a.radius=(...t)=>t.length?(i=t[0],a):i,a}function su(){let t="element-prefix-unset",e=null,n=null,r=null,i=null,a=null,o=o=>{let l=_c(o,"div.inner-container",(()=>o.append("div").attr("class","inner-container"))),c=l.node().getBoundingClientRect(),s=c.height,u=c.width-0,f=o.datum(),d=Math.max(1,Math.min(f.length,Math.floor(u/300))),h=Math.ceil(f.length/d);a={width:u/Math.max(d,1),height:Math.min(s,Math.max(s/h,u/Math.max(d,1)))},s/h>.75*a.height&&(a.height=s/h),f.length>1?(l.style("grid-template-columns",`repeat(${d}, ${100/d}%)`),l.style("grid-template-rows",`repeat(${h}, ${a.height}px)`)):(l.style("grid-template-columns","repeat(1, 100%)"),l.style("grid-template-rows","repeat(1, 100%)")),r=l.selectAll(`div.${t}-container`).data(f,(t=>t.split)),r.exit().remove(),n=r.enter().append("div").attr("class",`${t}-container`),i=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),e=n.append("svg").append("g").attr("class",t)};return o.elementsPrefix=(...e)=>e.length?(t=e[0],o):t,o.chartContainer=()=>e,o.chartEnter=()=>n,o.chartDiv=()=>r,o.chartTitle=()=>i,o.containerSize=()=>a,o}function uu(t,e){if(0===e.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");let n=Js(e),r=Qs(e,n),i=su().elementsPrefix("sunburst");if(t.datum(n).call(i),r){let n=e.realValues[1];if("string"===e.mainValues.find((t=>t.name===n))?.type){let n=es().settings(e).scale(r);t.call(n)}else{let e=Ys().scale(r);t.call(e)}}let a=i.chartContainer(),o=i.chartEnter(),l=i.chartDiv(),c=i.chartTitle(),s=i.containerSize();c.each(((t,e,n)=>(0,ka.select)(n[e]).text(t.split))),a.append("circle").attr("fill","none").style("pointer-events","all"),a.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${s.width/2}, ${s.height/2})`).each((function({split:t,data:n}){let i=(0,ka.select)(this),a=this.parentNode,{width:o,height:l}=a.getBoundingClientRect(),c=(Math.min(o,l)-24)/(2*e.crossValues.length);cu().settings(e).split(t).data(n).color(r).radius(c)(i),Tc().settings(e)(i.selectAll("g.segment"))}))}uu.plugin={name:"Sunburst",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var fu=uu;function du(t,e){if(t.realValues.length<1||null===t.realValues[1]||void 0===t.realValues[1])return;let n=t.realValues[1],r=e.filter((t=>t.height>0)).map((t=>hu(t))).reduce(((t,e)=>t.concat(e)));return"string"===t.mainValues.find((t=>t.name===n))?.type?zc(t,r):Is(t,null,null,[Math.min(...r),Math.max(...r)])}function hu(t,e=[]){return t.children&&t.children.length>0?t.children.forEach((t=>e.concat(hu(t,e)))):t.data.color&&e.push(t.data.color),e}var gu=t=>!(!t.target||!t.target.textAttributes),pu=(t,e,n)=>{t.selectAll("text").style("font-size",null).attr("class",(t=>Mu(t,e,n)));let r=mu(t);yu(r),_u(r)},_u=t=>{let e=t=>t.getBoundingClientRect(),n=[];t.selectAll("text").filter(((t,e,n)=>(0,ka.select)(n[e]).attr("class")===ku.high)).each(((t,e,r)=>n.push(r[e]))),t.selectAll("text").filter(((t,e,n)=>(0,ka.select)(n[e]).attr("class")===ku.low)).each(((t,r,i)=>{let a=i[r];n.filter((t=>mc("x",e(t),e(a))&&mc("y",e(t),e(a),-2))).forEach((()=>(0,ka.select)(a).attr("dy",Number((0,ka.select)(a).attr("dy"))+14)))}))},bu={top:1,mid:.7,lower:0},mu=t=>t.filter(((t,e,n)=>(0,ka.select)(n[e]).selectAll("text").attr("class")!==ku.zero)),vu=t=>t.selectAll("text").each(((t,e,n)=>xu(n[e]))),yu=t=>t.selectAll("text").each(((t,e,n)=>wu(n[e]))),wu=t=>{let e=(0,ka.select)(t),n=t.getBoundingClientRect();e.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},xu=t=>{let e=t.parentNode.childNodes[0],n=t.getBBox(),r=e.getBBox();Su(t,r,n)||(0,ka.select)(t).attr("class",(0,ka.select)(t).attr("class"))},Su=(t,e,n)=>{let r=Math.min(e.height/n.height,e.width/n.width);if(r<1){let e=parseInt((0,ka.select)(t).style("font-size")),n=Math.floor(e*r);return e>7&&n>7?((0,ka.select)(t).style("font-size",`${n}px`),wu(t)):((0,ka.select)(t).style("font-size",null),(0,ka.select)(t).attr("class",ku.zero)),!0}return!1},Mu=(t,e,n)=>{if(!n.filter((t=>""!==t)).every((e=>t.crossValue.includes(e))))return ku.zero;switch(t.depth){case e+1:return ku.high;case e+2:return ku.low;default:return ku.zero}},ku={high:"top",low:"mid",zero:"lower"},Au=(t,e)=>{let n=function(){var t=hr,e=!1,n=1,r=1,i=[0],a=pr,o=pr,l=pr,c=pr,s=pr;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(ur),t}function f(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,f=e.x1-n,d=e.y1-n;f<r&&(r=f=(r+f)/2),d<u&&(u=d=(u+d)/2),e.x0=r,e.y0=u,e.x1=f,e.y1=d,e.children&&(n=i[e.depth+1]=a(e)/2,r+=s(e)-n,u+=o(e)-n,(f-=l(e)-n)<r&&(r=f=(r+f)/2),(d-=c(e)-n)<u&&(u=d=(u+d)/2),t(e,r,u,f,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=gr(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:_r(+t),u):a},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:_r(+t),u):o},u.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:_r(+t),u):l},u.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:_r(+t),u):c},u.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:_r(+t),u):s},u}().size([t,e]).paddingInner((t=>1+2*(t.height-1)));return n.tile(br),n};function Cu(t,e,n,r,i,a){(function(t,e,n,r,i){let a=t.x0,o=t.y0,l=t.x1-t.x0,c=t.y1-t.y0,s=i.x1-i.x0,u=i.y1-i.y0,f=s/l,d=u/c;n.each((t=>{let n=(t.x0-a)*f,i=(t.y0-o)*d,l=Lu(t)*f,c=Iu(t)*d,s=((t,e)=>e.every((e=>t.crossValue.includes(e))))(t,e)&&t.data.name!==e[r-1];t.mapLevel[r]={x0:n,x1:l+n,y0:i,y1:c+i,visible:s,opacity:s?1:0}})),t.mapLevel[r].levelRoot=!0})(t,e,n,r,i),t.mapLevel[r].levelRoot=!0,function(t,e,n,r){let i=Au(e,n)(ir(t.data).sum((t=>t.size))).descendants(),a=t.descendants();i.forEach(((t,e)=>{a[e].mapLevel[r].x0=i[e].x0,a[e].mapLevel[r].x1=i[e].x1,a[e].mapLevel[r].y0=i[e].y0,a[e].mapLevel[r].y1=i[e].y1}))}(t,a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height,r),Eu(n,r)}var Tu=(t,e)=>{t.each(((t,n,r)=>{let i=(0,ka.select)(r[n]).selectAll("text");t.mapLevel[e].textAttributes={dx:i.attr("dx"),dy:i.attr("dy"),class:i.attr("class"),"font-size":i.style("font-size")}}))};function Eu(t,e){t.selectAll("text").each(((t,n,r)=>{let i=(0,ka.select)(r[n]),a=(0,ka.select)(r[n]).datum(),o=i.attr("class");a.mapLevel[e].textLockedAt={opacity:bu[o]}}))}function Nu(t,e,n,r,i,a,o,l,c,s){if(!t.children)return;i.treemapLevel<t.depth?i.treemapRoute.push(t.crossValue):i.treemapRoute.pop(),i.treemapLevel=t.depth;let u=t.crossValue;(!t.mapLevel[i.treemapLevel]||!t.mapLevel[i.treemapLevel].levelRoot)&&Cu(t,u,n,i.treemapLevel,l,a),Vu(t,e,n,r,i,a,o,l,i.treemapLevel,u,c,s)}function Vu(t,e,n,r,i,a,o,l,c,s,u,f,d=500,h=!0){let g=t.parent,p=o.transition("main transition").duration(d).ease(Fn._e);n.each((t=>t.target=t.mapLevel[c])),gu(t)||zu(n,u),n.transition(p).tween("data",(t=>{let e=(0,mr.Z)(t.current,t.target);return n=>t.current=e(n)})).styleTween("opacity",(t=>()=>t.current.opacity)).attrTween("pointer-events",(t=>()=>t.target.visible?"all":"none")),e.transition(p).filter((t=>t.target.visible)).styleTween("x",(t=>()=>`${t.current.x0}px`)).styleTween("y",(t=>()=>`${t.current.y0}px`)).styleTween("width",(t=>()=>t.current.x1-t.current.x0+"px")).styleTween("height",(t=>()=>t.current.y1-t.current.y0+"px")),r.transition(p).filter((t=>t.target.visible)).attrTween("x",(t=>()=>t.current.x0+Lu(t.current)/2)).attrTween("y",(t=>()=>t.current.y0+Iu(t.current)/2)).end().catch((()=>Ou(n))).then((()=>{gu(t)||(_u(_),vu(_),async function(t,e,n=400){let r=e.transition("text fade transition").duration(n).ease(Fn._e);await t.transition(r).filter((t=>t.target.visible)).tween("data",((t,e,n)=>{let r=n[e],i=(0,mr.Z)(Du(t),Pu(r));return e=>t.current.opacity=i(e)})).styleTween("opacity",(t=>()=>t.current.opacity)).end().catch((t=>console.error("Exception in text fade transition",t))).then((()=>t.each(((t,e,n)=>(t=>(0,ka.select)(t).style("opacity",null))(n[e])))))}(r,o,d),h&&Tu(n,c),Ou(n,u,g))})).catch((t=>{console.error("Exception completing promises after main transition",t),Ou(n,u,g)})),gu(t)?(t=>{t.each(((t,e,n)=>{(0,ka.select)(n[e]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("class",t.target.textAttributes.class).style("font-size",t.target.textAttributes["font-size"])}))})(n):(r.each(((t,e,n)=>(t=>(0,ka.select)(t).style("opacity",bu[(0,ka.select)(t).attr("class")]))(n[e]))),pu(n,c,s));let _=mu(n);g?u.hide(!1).text(t.label).onClick((()=>{Nu(g,e,n,r,i,a,o,l,u,f);let t=a.node().getRootNode().host.parentElement;Cc(t,g,f)}))():u.hide(!0)()}var Du=t=>t.target.textLockedAt.opacity,Pu=t=>bu[(0,ka.select)(t).attr("class")],zu=(t,e)=>{e.deactivate(!0),t.each(((t,e,n)=>{(0,ka.select)(n[e]).selectAll("rect").style("pointer-events","none")}))},Ou=(t,e)=>{e&&e.deactivate(!1),t.each(((t,e,n)=>{(0,ka.select)(n[e]).selectAll("rect").style("pointer-events",null)}))},Lu=t=>t.x1-t.x0,Iu=t=>t.y1-t.y0;function Bu(t,e){if(0===e.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");e.treemaps||(e.treemaps={});let n=Js(e),r=du(e,n.map((t=>t.data)));r&&this._container.classList.add("has-legend");let i=su().elementsPrefix("treemap");if(t.datum(n).call(i),r){let n=e.realValues[1];if("string"===e.mainValues.find((t=>t.name===n))?.type){let n=es().settings(e).scale(r);t.call(n)}else{let e=Ys().scale(r);t.call(e)}}let a=i.chartEnter(),o=i.chartDiv();i.chartTitle().each(((t,e,n)=>(0,ka.select)(n[e]).text(t.split))),a.merge(o).select("svg").select("g.treemap").each((function({split:t,data:n}){let i=(0,ka.select)(this);e.treemaps[t]||(e.treemaps[t]={}),function(){let t=null,e=null,n=null,r=null,i=null,a=null,o=o=>{a=function(t){let e=null,n=null,r=!0,i=!1,a=_c(t,".parent-controls",(()=>t.append("div").attr("class","parent-controls").style("display",r?"none":"").html('<button id="goto-parent">Goto parent</button>\n'))),o=()=>{a.style("display",r?"none":"").select("#goto-parent").style("pointer-events",i?"none":null).html(`⇪ ${n}`).on("click",(()=>e()))};return o.deactivate=(...t)=>{if(!t.length)return i;i=t[0];let e=a.select("#goto-parent");return i?e.style("pointer-events","none"):e.style("pointer-events",null),o},o.hide=(...t)=>t.length?(r=t[0],o):r,o.text=(...t)=>t.length?(n=t[0],o):n,o.onClick=(...t)=>t.length?(e=t[0],o):e,o}(i),a();let l=n.height;t.treemapLevel||(t.treemapLevel=0),t.treemapRoute||(t.treemapRoute=[]),Au(i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height)(n);let c=o.selectAll("g").data(n.descendants()),s=c.enter().append("g");s.append("rect"),s.append("text");let u=s.merge(c).sort(((t,e)=>e.depth-t.depth)),f=u.select("rect").attr("class",(t=>`treerect ${((t,e)=>0===e.depth?"rootnode":((t,e)=>e.depth===t)(t,e)?"leafnode":"branchnode")(l,t)}`)).style("x",(t=>t.x0)).style("y",(t=>t.y0)).style("width",(t=>Lu(t))).style("height",(t=>Iu(t)));r&&f.style("fill",(t=>{if(t.data.color)return r(t.data.color)}));let d=u.filter((t=>0!==t.value)).select("text").attr("x",(t=>t.x0+Lu(t)/2)).attr("y",(t=>t.y0+Iu(t)/2)).text((t=>t.label)),h=f.filter((t=>0===t.crossValue.length)).datum();(function(t,e){t.each((t=>{t.mapLevel=[],t.mapLevel[0]={x0:t.x0,x1:Lu(t)+t.x0,y0:t.y0,y1:Iu(t)+t.y0,visible:!0,opacity:1}})),e.mapLevel[0].levelRoot=!0,Eu(t,0)})(u,h),pu(u,0,[]),vu(mu(u)),Tu(u,0),0===t.treemapRoute.length&&t.treemapRoute.push(h.crossValue),f.filter((t=>t.children)).on("click",((n,r)=>Nu(r,f,u,d,t,i,o,h,a,e))),function(t,e,n,r,i,a,o,l,c){if(r.treemapLevel>0){let s=o.crossValue;Vu(o,t,e,n,r,i,a,o,0,s,l,c,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((s=>{let u=e.filter((t=>t.crossValue===s)).datum(),f=u.crossValue;Cu(u,f,e,u.depth,o,i),Vu(u,t,e,n,r,i,a,o,u.depth,f,l,c,1,!1)}))}}(f,u,d,t,i,o,h,a,e)};return o.settings=(...n)=>n.length?(t=n[0],e=n[1],o):t,o.data=(...t)=>t.length?(n=t[0],o):n,o.color=(...t)=>t.length?(r=t[0],o):r,o.container=(...t)=>t.length?(i=t[0],o):i,o}().settings(e.treemaps[t],e).data(n).container((0,ka.select)((0,ka.select)(this.parentNode).node().parentNode)).color(r)(i),Tc().settings(e).centered(!0)(i.selectAll("g"))}))}Bu.plugin={type:"Treemap",name:"Treemap",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Ru=[ds,ws,Cs,Ds,zs,Ls,Fs,$s,Xs,Bu,fu,Hs],Yu=(t,e)=>{let n=(0,En.ZP)(`#${t}`);return n.opacity=e,n+""},ju={initial:{type:"number",count:1},selectMode:"select"},Fu=`:host .chart{--d3fc-local-full--gradient: var(--d3fc-full--gradient, linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%));--d3fc-local-positive--gradient: var(--d3fc-positive--gradient, linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%));--d3fc-local-negative--gradient: var(--d3fc-negative--gradient, linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%))}:host .chart{--d3fc-local-series: var(--d3fc-series, rgba(31, 119, 180, .5));--d3fc-local-series-1: var(--d3fc-series-1, #0366d6);--d3fc-local-series-2: var(--d3fc-series-2, #ff7f0e);--d3fc-local-series-3: var(--d3fc-series-3, #2ca02c);--d3fc-local-series-4: var(--d3fc-series-4, #d62728);--d3fc-local-series-5: var(--d3fc-series-5, #9467bd);--d3fc-local-series-6: var(--d3fc-series-6, #8c564b);--d3fc-local-series-7: var(--d3fc-series-7, #e377c2);--d3fc-local-series-8: var(--d3fc-series-8, #7f7f7f);--d3fc-local-series-9: var(--d3fc-series-9, #bcbd22);--d3fc-local-series-10: var(--d3fc-series-10, #17becf)}:host .chart .series{fill:var(--d3fc-local-series)}:host .chart .series-1{fill:var(--d3fc-local-series-1)}:host .chart .series-2{fill:var(--d3fc-local-series-2)}:host .chart .series-3{fill:var(--d3fc-local-series-3)}:host .chart .series-4{fill:var(--d3fc-local-series-4)}:host .chart .series-5{fill:var(--d3fc-local-series-5)}:host .chart .series-6{fill:var(--d3fc-local-series-6)}:host .chart .series-7{fill:var(--d3fc-local-series-7)}:host .chart .series-8{fill:var(--d3fc-local-series-8)}:host .chart .series-9{fill:var(--d3fc-local-series-9)}:host .chart .series-10{fill:var(--d3fc-local-series-10)}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis-ticks--color, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .disabled{filter:grayscale(100%)}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{background:#e6e6e6}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}\n${function(){let t=document.querySelector("head").querySelectorAll("style"),e=[];return t.forEach((t=>{-1!==t.innerText.indexOf("d3fc-")&&e.push(t.innerText)})),e.join("")}()}`,Zu=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","agg_paths"];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(...t){t=new Set(t.length>0?t:Ru.map((t=>t.plugin.name))),Ru.forEach((e=>{if(t.has(e.plugin.name)){let t=e.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${t}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${Fu}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return e.plugin.name}get select_mode(){return e.plugin.selectMode||"select"}get min_config_columns(){return e.plugin.initial?.count||ju.initial.count}get config_column_names(){return e.plugin.initial?.names||ju.initial.names}get max_cells(){return e.plugin.max_cells||4e3}set max_cells(t){e.plugin.max_cells=t}get max_columns(){return e.plugin.max_columns||50}set max_columns(t){e.plugin.max_columns=t}async draw(t,e,n){!this.isConnected||(this.config=await this.parentElement.save(),await this.update(t,e,n,!0))}async update(t,n,r,i=!1){if(!this.isConnected)return;let a,o,l=this.parentElement,c=this.config.columns,s="Sunburst"!==e.plugin.name;a=n&&r?t.to_json({end_row:r,end_col:n,leaves_only:s}):n?t.to_json({end_col:n,leaves_only:s}):r?t.to_json({end_row:r,leaves_only:s}):t.to_json({leaves_only:s}),o=await Promise.all([l.getTable().then((t=>t.schema(!1))),t.expression_schema(!1),t.schema(!1),a,t.get_config()]);let[u,f,d,h,g]=o,p=function(t){let e=u[t];return e||(e=f[t]),e},{columns:_,group_by:b,split_by:m,filter:v}=g,y=b.length>0?h.reduce(((t,e)=>{if(e.__ROW_PATH__&&e.__ROW_PATH__.length==b.length)t.agg_paths.push(t.aggs.slice()),t.rows.push(e);else{let n=e.__ROW_PATH__.filter((t=>void 0!==t)).length;t.aggs[n]=e,t.aggs=t.aggs.slice(0,n+1)}return t}),{rows:[],aggs:[],agg_paths:[]}):{rows:h},w=y.rows.map(((t,e)=>b.length?t:{...t,__ROW_PATH__:[e]})),x={realValues:c,crossValues:b.map((t=>({name:t,type:p(t)}))),mainValues:_.map((t=>({name:t,type:d[t]}))),splitValues:m.map((t=>({name:t,type:p(t)}))),filter:v,data:w,agg_paths:y.agg_paths};this._chart=e;let S={set:(t,e,n)=>(Zu.includes(e)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),t[e]=n,!0)};this._settings=new Proxy({...this._settings,...x},S),this._settings.splitMainValues&&this._settings.splitMainValues.length>=_.length&&(this._settings.splitMainValues=[]),((t,e)=>{if(!e.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=(t=>{let e=getComputedStyle(t);return t=>e?.getPropertyValue(t)})(t);n.series=r("--d3fc-local-series");for(let t=1;;t++){let e=`series-${t}`,i=r(`--d3fc-local-${e}`);if(!i)break;n[e]=i,n.scheme.push(i)}n.opacity=(t=>(0,En.ZP)(t).opacity)(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach((t=>{let e=r(`--d3fc-local-${t}--gradient`);n.gradient[t]=((t,e)=>{let n=(0,ml.Q)(t)[0].colorStops;return n.map(((t,r)=>[t.length?t.length.value/100:r/(n.length-1),Yu(t.value,e)])).sort(((t,e)=>t[0]-e[0]))})(e,n.opacity)})),e.colorStyles=n}})(this._container,this._settings),i&&(this._container.innerHTML=""),this._draw(),await new Promise((t=>requestAnimationFrame(t)))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this._settings.data&&this.isConnected){let e=(0,ka.select)(this._container),n=`chart ${t}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(e.attr("class",n),this._settings):e.attr("class",`${n} disabled`)}}async resize(){this.isConnected&&this._draw()}async restyle(...t){let e=this._settings;e&&(delete e.colorStyles,await this.draw(...t))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let t={...this._settings};return Zu.forEach((e=>{delete t[e]})),t}restore(t){let e={};for(let t of Zu)e[t]=this._settings?.[t];this._settings={...e,...t},this._draw()}}),customElements.whenDefined("perspective-viewer").then((()=>function(t){customElements.get("perspective-viewer").registerPlugin(t)}(n)))}}))}();const Hu=new WeakMap,Uu=t=>"function"==typeof t&&Hu.has(t),Wu="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,qu=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},$u={},Gu={},Xu=`{{lit-${String(Math.random()).slice(2)}}}`,Qu=`\x3c!--${Xu}--\x3e`,Ku=new RegExp(`${Xu}|${Qu}`),Ju="$lit$";class tf{constructor(t,e){this.parts=[],this.element=e;const n=[],r=[],i=document.createTreeWalker(e.content,133,null,!1);let a=0,o=-1,l=0;const{strings:c,values:{length:s}}=t;for(;l<s;){const t=i.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)ef(e[t].name,Ju)&&r++;for(;r-- >0;){const e=c[l],n=af.exec(e)[2],r=n.toLowerCase()+Ju,i=t.getAttribute(r);t.removeAttribute(r);const a=i.split(Ku);this.parts.push({type:"attribute",index:o,name:n,strings:a}),l+=a.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),i.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(Xu)>=0){const r=t.parentNode,i=e.split(Ku),a=i.length-1;for(let e=0;e<a;e++){let n,a=i[e];if(""===a)n=rf();else{const t=af.exec(a);null!==t&&ef(t[2],Ju)&&(a=a.slice(0,t.index)+t[1]+t[2].slice(0,-Ju.length)+t[3]),n=document.createTextNode(a)}r.insertBefore(n,t),this.parts.push({type:"node",index:++o})}""===i[a]?(r.insertBefore(rf(),t),n.push(t)):t.data=i[a],l+=a}}else if(8===t.nodeType)if(t.data===Xu){const e=t.parentNode;null!==t.previousSibling&&o!==a||(o++,e.insertBefore(rf(),t)),a=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(n.push(t),o--),l++}else{let e=-1;for(;-1!==(e=t.data.indexOf(Xu,e+1));)this.parts.push({type:"node",index:-1}),l++}}else i.currentNode=r.pop()}for(const t of n)t.parentNode.removeChild(t)}}const ef=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},nf=t=>-1!==t.index,rf=()=>document.createComment(""),af=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class of{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=Wu?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let i,a=0,o=0,l=r.nextNode();for(;a<n.length;)if(i=n[a],nf(i)){for(;o<i.index;)o++,"TEMPLATE"===l.nodeName&&(e.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=e.pop(),l=r.nextNode());if("node"===i.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,i.name,i.strings,this.options));a++}else this.__parts.push(void 0),a++;return Wu&&(document.adoptNode(t),customElements.upgrade(t)),t}}const lf=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),cf=` ${Xu} `;class sf{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],i=t.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===t.indexOf("--\x3e",i+1);const a=af.exec(t);e+=null===a?t+(n?cf:Qu):t.substr(0,a.index)+a[1]+a[2]+Ju+a[3]+Xu}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==lf&&(e=lf.createHTML(e)),t.innerHTML=e,t}}const uf=t=>null===t||!("object"==typeof t||"function"==typeof t),ff=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class df{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new hf(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!ff(t))return t}let r="";for(let i=0;i<e;i++){r+=t[i];const e=n[i];if(void 0!==e){const t=e.value;if(uf(t)||!ff(t))r+="string"==typeof t?t:String(t);else for(const e of t)r+="string"==typeof e?e:String(e)}}return r+=t[e],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class hf{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===$u||uf(t)&&t===this.value||(this.value=t,Uu(t)||(this.committer.dirty=!0))}commit(){for(;Uu(this.value);){const t=this.value;this.value=$u,t(this)}this.value!==$u&&this.committer.commit()}}class gf{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(rf()),this.endNode=t.appendChild(rf())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=rf()),t.__insert(this.endNode=rf())}insertAfterPart(t){t.__insert(this.startNode=rf()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;Uu(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=$u,t(this)}const t=this.__pendingValue;t!==$u&&(uf(t)?t!==this.value&&this.__commitText(t):t instanceof sf?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):ff(t)?this.__commitIterable(t):t===Gu?(this.value=Gu,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof of&&this.value.template===e)this.value.update(t.values);else{const n=new of(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)n=e[r],void 0===n&&(n=new gf(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){qu(this.startNode.parentNode,t.nextSibling,this.endNode)}}class pf{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;Uu(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=$u,t(this)}if(this.__pendingValue===$u)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=$u}}class _f extends df{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new bf(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class bf extends hf{}let mf=!1;(()=>{try{const t={get capture(){return mf=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class vf{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;Uu(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=$u,t(this)}if(this.__pendingValue===$u)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=yf(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=$u}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const yf=t=>t&&(mf?{capture:t.capture,passive:t.passive,once:t.once}:t.capture),wf=new class{handleAttributeExpressions(t,e,n,r){const i=e[0];return"."===i?new _f(t,e.slice(1),n).parts:"@"===i?[new vf(t,e.slice(1),r.eventContext)]:"?"===i?[new pf(t,e.slice(1),n)]:new df(t,e,n).parts}handleTextExpression(t){return new gf(t)}};function xf(t){let e=Sf.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},Sf.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(Xu);return n=e.keyString.get(r),void 0===n&&(n=new tf(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const Sf=new Map,Mf=new WeakMap;"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const kf=(t,...e)=>new sf(t,e,"html",wf);class Af extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});this._inverted=!1,((t,e,n)=>{let r=Mf.get(e);void 0===r&&(qu(e,e.firstChild),Mf.set(e,r=new gf(Object.assign({templateFactory:xf},void 0))),r.appendInto(e)),r.setValue(t),r.commit()})(this._template,t)}get _template(){return kf`
            ${this._style}
            <div class="outer">
                <div class="inner">PER<span>SPECTIVE</span></div>
            </div>
        `}get _style(){let t="",e="";return this._inverted?t="background-":e="background-",kf`
            <style>
                ${`\n:host .inner {\n    line-height: 0.67em;\n    height: 0.71em;\n    margin-right: -0.05em\n}\n\n:host .outer {\n    overflow: hidden;\n}\n\n:host {\n    display: inline-block;\n    position: relative;\n    ${t}color: rgb(249, 249, 249);\n    ${e}color: #242526;\n    font-family: "Orbitron";\n    font-weight: bold;\n    font-size: 1.2em;\n    padding: 24px;\n}\n\n:host span {\n    padding-left: 0.2em;\n    margin-left: -0.2em;\n    ${t}color: #242526;\n    ${e}color: rgb(249, 249, 249);\n}`}
            </style>
        `}}window.customElements.define("perspective-logo",Af);const Cf=Ct.shared_worker();window.addEventListener("DOMContentLoaded",(()=>{!async function(){if("/"===window.location.pathname||"/index.html"===window.location.pathname)return;const t=await fetch("../../arrow/superstore.arrow"),e=await Cf.table(await t.arrayBuffer()),n=document.querySelectorAll("perspective-viewer:not(.nosuperstore)");for(const t of n){t.load(e);const n={};for(const e of t.attributes)"settings"!==e.name&&"theme"!==e.name&&(n[e.name]=JSON.parse(e.nodeValue));t.restore(n),t.toggleConfig()}let r=localStorage.getItem("lang_pref")||"Python";for(const t of document.querySelectorAll("pre")){const e=t.children[0];if(e.classList.contains("language-html"))continue;const n=e.classList.contains("language-javascript")?"Javascript":"Python",i="Javascript"===n?"Python":"Javascript";t.innerHTML=`<a class="toggle-language" href="#" title="Toggle to ${i}"><span style="font-family:'Material Icons';vertical-align:bottom">input</span> <span class="language">${n}</span> <span class="next"><span style="font-family:'Material Icons';vertical-align:bottom">arrow_forward</span> ${i}</span></a>`+t.innerHTML,t.style.display=n!==r?"none":"block"}for(const t of document.querySelectorAll("pre a"))t.addEventListener("click",(t=>{t.preventDefault(),r="Python"===r?"Javascript":"Python",localStorage.setItem("lang_pref",r);for(const t of document.querySelectorAll("pre")){const e=t.children[1];if(!e||e.classList.contains("language-html"))continue;const n=e.classList.contains("language-javascript")?"Javascript":"Python";n!==r?t.style.display="none":"html"!==n&&(t.style.display="block")}}))}()}));var Tf=n(8537);Ct.shared_worker();var Ef=["AAPL.N","MSFT.N","AMZN.N","GOOGL.N","FB.N","TSLA.N","BABA.N","TSM.N","V.N","NVDA.N","JPM.N","JNJ.N","WMT.N","UNH.N","MA.N","BAC.N","DIS.N","ASML.N","ADBE.N","CMCSA.N","NKE.N","XOM.N","TM.N","KO.N","ORCL.N","NFLX.N"],Nf=["Homer","Marge","Bart","Lisa","Maggie","Barney","Ned","Moe"],Vf=0;function Df(){for(var t=0,e=0;0===t;)t=Math.random();for(;0===e;)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}function Pf(){return Vf%=1e3,{name:Ef[Math.floor(Math.random()*Ef.length)],client:Nf[Math.floor(Math.random()*Nf.length)],lastUpdate:new Date,chg:10*Df(),bid:5*Df()+95,ask:5*Df()+105,vol:5*Df()+105,id:Vf++}}var zf,Of=100;function Lf(t){190!==Of&&document.documentElement.clientHeight-window.scrollY>0&&t.update([Pf(),Pf(),Pf()]),setTimeout((()=>Lf(t)),Of)}function If(t){Array.prototype.slice.call(document.querySelectorAll(".buttonWrapper")).map((t=>t.classList.remove("selected"))),document.querySelector(t).classList.add("selected"),document.querySelector("perspective-viewer").restore({"#grid":{plugin:"Datagrid",columns:["chg (-)","chg","chg (+)"],expressions:['//chg (-)\nif("chg"<0){"chg"}else{0}','//chg (+)\nif("chg">0){"chg"}else{0}'],group_by:["name"],split_by:["client"],aggregates:{"chg (-)":"avg","chg (+)":"avg",chg:"avg"},sort:[["chg","desc"]],plugin_config:{columns:{"chg (-)":{number_color_mode:"bar",gradient:10},"chg (+)":{number_color_mode:"bar",gradient:10},chg:{number_color_mode:"gradient",gradient:10}}}},"#grid2":{plugin:"datagrid",columns:["ask","bid","chg"],sort:[["name","desc"],["lastUpdate","desc"]],aggregates:{name:"last",lastUpdate:"last"},group_by:["name","lastUpdate"],split_by:["client"],plugin_config:{}},"#cyclone":{columns:["chg"],plugin:"X Bar",sort:[["chg","asc"]],group_by:["name"],split_by:["client"]},"#pivot":{columns:["vol"],plugin:"Heatmap",sort:[["vol","asc"]],group_by:["name"],split_by:["client"]},"#crosssect":{plugin:"X/Y Scatter",group_by:["name"],split_by:[],columns:["bid","ask","chg","vol"],aggregates:{bid:"avg",ask:"avg",vol:"avg"},sort:[]},"#intersect":{plugin:"Treemap",group_by:["name","client"],split_by:[],columns:["bid","chg"],aggregates:{bid:"sum",chg:"sum",name:"last"},sort:[["name","desc"],["chg","desc"]]},"#enhance":{plugin:"Y Line",group_by:["lastUpdate"],split_by:[],sort:[["lastUpdate","desc"]],split_by:["client"],columns:["bid"],aggregates:{bid:"avg",chg:"avg",name:"last"}}}[t]||{})}window.addEventListener("DOMContentLoaded",(async function(){for(const t of document.querySelectorAll("img"))t.dataset.src&&t.setAttribute("src",t.dataset.src);if("/"===window.location.pathname||"/index.html"===window.location.pathname){for(var t=[],e=0;e<1e3;e++)t.push(Pf());zf=Array.prototype.slice.call(document.querySelectorAll("perspective-viewer"))[0];var n,r,i=Ct.shared_worker(),a=i.table(t,{index:"id"});zf.load(a),zf.toggleConfig(),setTimeout((async function(){Lf(await a)})),document.querySelector("#velocity").addEventListener("input",(function(t){Of=-1.8*this.value+190})),document.querySelector("#grid").addEventListener("mouseenter",(()=>If("#grid"))),document.querySelector("#grid2").addEventListener("mouseenter",(()=>If("#grid2"))),document.querySelector("#cyclone").addEventListener("mouseenter",(()=>If("#cyclone"))),document.querySelector("#pivot").addEventListener("mouseenter",(()=>If("#pivot"))),document.querySelector("#crosssect").addEventListener("mouseenter",(()=>If("#crosssect"))),document.querySelector("#intersect").addEventListener("mouseenter",(()=>If("#intersect"))),document.querySelector("#enhance").addEventListener("mouseenter",(()=>If("#enhance"))),If("#grid"),n=async function(t){const e=document.createElement("div");e.classList.add("floating_example"),e.addEventListener("click",(t=>{t.target===e&&(e.style.display="none")}));const n=document.createElement("perspective-viewer");e.style.display="none",e.appendChild(n),document.body.appendChild(e);const r=i.table(t.slice());await n.load(r);for(const t of document.querySelectorAll("a.feature"))t.addEventListener("click",(async r=>{r.preventDefault();const i=parseInt(t.dataset.key);var a;e.style.opacity=0,e.style.pointerEvents="none",e.style.display="flex",await n.restore((a=Tf.Q[i].config,Object.assign({plugin_config:{},plugin:"Datagrid",group_by:[],columns:[],expressions:[],split_by:[],sort:[],aggregates:{}},a))),await n.toggleConfig(!0),await n.notifyResize(!0),e.style.opacity=1,e.style.pointerEvents=""}));document.querySelector("#switch_theme").addEventListener("click",(async function(){const t=this.querySelector(".button"),r=document.querySelector(".productShowcaseSection"),i=document.querySelector(".productShowcaseSection #dark"),a=document.querySelector(".productShowcaseSection #light");let o;"SWITCH TO DARK THEME"===t.innerText?(t.innerText="Switch to Light Theme",i.style.display="flex",a.style.display="none",o="Material Dark",r.classList.toggle("dark",!0),e.classList.toggle("dark",!0)):(t.innerText="Switch to Dark Theme",i.style.display="none",a.style.display="flex",o="Material Light",r.classList.toggle("dark",!1),e.classList.toggle("dark",!1)),await n.restore({plugin:"Y Bar",group_by:["State"],columns:["Sales"],theme:o})}))},(r=new XMLHttpRequest).open("GET","arrow/superstore.arrow",!0),r.responseType="arraybuffer",r.onload=function(){n(r.response)},r.send(null)}})),window.addEventListener("scroll",(()=>{window.scrollY>100?document.querySelector(".logo").style.opacity=1:document.querySelector(".logo").style.opacity=0}))},1215:function(t,e,n){var r;t=n.nmd(t),function(){var n,i,a,o,l,c,s,u,f,d,h,g,p,_,b,m,v,y,w,x,S,M,k,A,C,T,E,N,V,D,P,z,O,L,I,B,R,Y,j,F,Z,H,U,W,q,$,G,X,Q,K,J,tt,et,nt,rt,it,at,ot,lt,ct,st,ut,ft,dt,ht,gt,pt,_t,bt,mt,vt,yt,wt,xt,St,Mt,kt,At,Ct,Tt,Et=[].slice;Mt=function(){var t,e,n,r,i;for(t={},r=0,e=(i="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<e;r++)n=i[r],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),G=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),t<e&&(t=e),t>n&&(t=n),t},kt=function(t){return t.length>=3?Array.prototype.slice.call(t):t[0]},S=function(t){var e,n;for(t._clipped=!1,t._unclipped=t.slice(0),e=n=0;n<3;e=++n)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},o=Math.PI,vt=Math.round,k=Math.cos,N=Math.floor,rt=Math.pow,X=Math.log,wt=Math.sin,xt=Math.sqrt,_=Math.atan2,J=Math.max,p=Math.abs,s=2*o,l=o/3,i=o/180,c=180/o,(x=function(){return arguments[0]instanceof n?arguments[0]:function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,arguments,(function(){}))}).default=x,g=[],null!==t&&null!=t.exports&&(t.exports=x),void 0===(r=function(){return x}.apply(e,[]))||(t.exports=r),x.version="1.4.1",h={},f=[],d=!1,n=function(){function t(){var t,e,n,r,i,a,o,l,c;for(a=this,e=[],l=0,r=arguments.length;l<r;l++)null!=(t=arguments[l])&&e.push(t);if(e.length>1&&(o=e[e.length-1]),null!=h[o])a._rgb=S(h[o](kt(e.slice(0,-1))));else{for(d||(f=f.sort((function(t,e){return e.p-t.p})),d=!0),c=0,i=f.length;c<i&&!(o=(n=f[c]).test.apply(n,e));c++);o&&(a._rgb=S(h[o].apply(h,e)))}null==a._rgb&&console.warn("unknown format: "+e),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t}(),x._input=h,x.brewer=y={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],y)e.push(y[t.toLowerCase()]=y[t])}(),x.colors=At={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var t,e,n,r,i,o,l;return r=(e=kt(arguments))[0],t=e[1],n=e[2],o=(r+16)/116,i=isNaN(t)?o:o+t/500,l=isNaN(n)?o:o-n/200,o=a.Yn*U(o),i=a.Xn*U(i),l=a.Zn*U(l),[Tt(3.2404542*i-1.5371385*o-.4985314*l),Tt(-.969266*i+1.8760108*o+.041556*l),n=Tt(.0556434*i-.2040259*o+1.0572252*l),e.length>3?e[3]:1]},Tt=function(t){return 255*(t<=.00304?12.92*t:1.055*rt(t,1/2.4)-.055)},U=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ft=function(){var t,e,n,r,i,a,o;return n=(r=kt(arguments))[0],e=r[1],t=r[2],a=(i=_t(n,e,t))[0],[116*(o=i[1])-16,500*(a-o),200*(o-i[2])]},bt=function(t){return(t/=255)<=.04045?t/12.92:rt((t+.055)/1.055,2.4)},Ct=function(t){return t>a.t3?rt(t,1/3):t/a.t2+a.t0},_t=function(){var t,e,n,r;return n=(r=kt(arguments))[0],e=r[1],t=r[2],n=bt(n),e=bt(e),t=bt(t),[Ct((.4124564*n+.3575761*e+.1804375*t)/a.Xn),Ct((.2126729*n+.7151522*e+.072175*t)/a.Yn),Ct((.0193339*n+.119192*e+.9503041*t)/a.Zn)]},x.lab=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["lab"]),(function(){}))},h.lab=H,n.prototype.lab=function(){return ft(this._rgb)},b=function(t){var e,n,r,i,a,o,l,c,s,u,f;return 2===(t=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(x(i));return r}()).length?(s=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),a=s[0],o=s[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push(a[e]+t*(o[e]-a[e]));return r}(),x.lab.apply(x,n)}):3===t.length?(u=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),a=u[0],o=u[1],l=u[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push((1-t)*(1-t)*a[e]+2*(1-t)*t*o[e]+t*t*l[e]);return r}(),x.lab.apply(x,n)}):4===t.length?(f=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),a=f[0],o=f[1],l=f[2],c=f[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push((1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*l[e]+t*t*t*c[e]);return r}(),x.lab.apply(x,n)}):5===t.length&&(n=b(t.slice(0,3)),r=b(t.slice(2,5)),e=function(t){return t<.5?n(2*t):r(2*(t-.5))}),e},x.bezier=function(t){var e;return(e=b(t)).scale=function(){return x.scale(e)},e},x.cubehelix=function(t,e,n,r,i){var a,o,l;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),a=0,"array"===Mt(i)?o=i[1]-i[0]:(o=0,i=[i,i]),(l=function(l){var c,u,f,d,h;return c=s*((t+120)/360+e*l),d=rt(i[0]+o*l,r),u=(0!==a?n[0]+l*a:n)*d*(1-d)/2,f=k(c),h=wt(c),x(S([255*(d+u*(-.14861*f+1.78277*h)),255*(d+u*(-.29227*f-.90649*h)),255*(d+u*(1.97294*f)),1]))}).start=function(e){return null==e?t:(t=e,l)},l.rotations=function(t){return null==t?e:(e=t,l)},l.gamma=function(t){return null==t?r:(r=t,l)},l.hue=function(t){return null==t?n:("array"===Mt(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,l)},l.lightness=function(t){return null==t?i:("array"===Mt(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),l)},l.scale=function(){return x.scale(l)},l.hue(n),l},x.random=function(){var t,e;for(t="#",e=0;e<6;++e)t+="0123456789abcdef".charAt(N(16*Math.random()));return new n(t)},g=[],I=function(t,e,n,r){var i,a,o,l;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Mt(t)&&(t=x(t)),"object"!==Mt(e)&&(e=x(e)),o=0,a=g.length;o<a;o++)if(r===(i=g[o])[0]){l=i[1](t,e,n,r);break}if(null==l)throw"color mode "+r+" is not supported";return l.alpha(t.alpha()+n*(e.alpha()-t.alpha()))},x.interpolate=I,n.prototype.interpolate=function(t,e,n){return I(this,t,e,n)},x.mix=I,n.prototype.mix=n.prototype.interpolate,h.rgb=function(){var t,e,n,r;for(t in n=[],e=kt(arguments))r=e[t],n.push(r);return n},x.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(t){var e;return e=kt(arguments),"array"===Mt(e)&&3===e.length||4===e.length&&"number"===Mt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,Y=function(t,e,r,i){var a,o;return a=t._rgb,o=e._rgb,new n(xt(rt(a[0],2)*(1-r)+rt(o[0],2)*r),xt(rt(a[1],2)*(1-r)+rt(o[1],2)*r),xt(rt(a[2],2)*(1-r)+rt(o[2],2)*r),i)},u=function(t){var e,r,i,a,o;for(e=1/t.length,o=[0,0,0,0],i=0,r=t.length;i<r;i++)a=t[i]._rgb,o[0]+=rt(a[0],2)*e,o[1]+=rt(a[1],2)*e,o[2]+=rt(a[2],2)*e,o[3]+=a[3]*e;return o[0]=xt(o[0]),o[1]=xt(o[1]),o[2]=xt(o[2]),o[3]>1&&(o[3]=1),new n(S(o))},g.push(["lrgb",Y]),x.average=function(t,e){var n,r,i,a,l,c,s,f,d,h,g,p,b;if(null==e&&(e="rgb"),d=t.length,s=(t=t.map((function(t){return x(t)}))).splice(0,1)[0],"lrgb"===e)return u(t);for(f in a=[],l=0,c=0,p=s.get(e))p[f]=p[f]||0,a.push(isNaN(p[f])?0:1),"h"!==e.charAt(f)||isNaN(p[f])||(n=p[f]/180*o,l+=k(n),c+=wt(n));for(r=s.alpha(),g=0,h=t.length;g<h;g++)for(f in b=(i=t[g]).get(e),r+=i.alpha(),p)isNaN(b[f])||(a[f]+=1,"h"===e.charAt(f)?(n=b[f]/180*o,l+=k(n),c+=wt(n)):p[f]+=b[f]);for(f in p)if("h"===e.charAt(f)){for(n=_(c/a[f],l/a[f])/o*180;n<0;)n+=360;for(;n>=360;)n-=360;p[f]=n}else p[f]=p[f]/a[f];return x(p,e).alpha(r/d)},D=function(t){var e,n;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(n=parseInt(t,16))>>16,n>>8&255,255&n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(n=parseInt(t,16))>>24&255,n>>16&255,n>>8&255,vt((255&n)/255*100)/100];if(null!=h.css&&(e=h.css(t)))return e;throw"unknown color: "+t},lt=function(t,e){var n,r,i,a,o,l;return null==e&&(e="auto"),o=t[0],i=t[1],r=t[2],n=t[3],"auto"===e&&(e=n<1?"rgba":"rgb"),o=Math.round(o),i=Math.round(i),r=Math.round(r),l=(l="000000"+(o<<16|i<<8|r).toString(16)).substr(l.length-6),a=(a="0"+vt(255*n).toString(16)).substr(a.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return l+a;case"argb":return a+l;default:return l}}()},h.hex=function(t){return D(t)},x.hex=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(t){return null==t&&(t="auto"),lt(this._rgb,t)},f.push({p:4,test:function(t){if(1===arguments.length&&"string"===Mt(t))return"hex"}}),O=function(){var t,e,n,r,i,a,o,l,c,s,u,f,d,h;if(i=(t=kt(arguments))[0],u=t[1],o=t[2],0===u)c=r=e=255*o;else{for(n=[0,0,0],f=2*o-(d=o<.5?o*(1+u):o+u-o*u),(h=[0,0,0])[0]=(i/=360)+1/3,h[1]=i,h[2]=i-1/3,a=l=0;l<=2;a=++l)h[a]<0&&(h[a]+=1),h[a]>1&&(h[a]-=1),6*h[a]<1?n[a]=f+6*(d-f)*h[a]:2*h[a]<1?n[a]=d:3*h[a]<2?n[a]=f+(d-f)*(2/3-h[a])*6:n[a]=f;c=(s=[vt(255*n[0]),vt(255*n[1]),vt(255*n[2])])[0],r=s[1],e=s[2]}return t.length>3?[c,r,e,t[3]]:[c,r,e]},st=function(t,e,n){var r,i,a,o,l;return void 0!==t&&t.length>=3&&(t=(o=t)[0],e=o[1],n=o[2]),t/=255,e/=255,n/=255,a=Math.min(t,e,n),i=((J=Math.max(t,e,n))+a)/2,J===a?(l=0,r=Number.NaN):l=i<.5?(J-a)/(J+a):(J-a)/(2-J-a),t===J?r=(e-n)/(J-a):e===J?r=2+(n-t)/(J-a):n===J&&(r=4+(t-e)/(J-a)),(r*=60)<0&&(r+=360),[r,l,i]},x.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["hsl"]),(function(){}))},h.hsl=O,n.prototype.hsl=function(){return st(this._rgb)},L=function(){var t,e,n,r,i,a,o,l,c,s,u,f,d,h,g,p,_,b;if(i=(t=kt(arguments))[0],p=t[1],b=t[2],b*=255,0===p)c=r=e=b;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),o=b*(1-p),l=b*(1-p*(n=(i/=60)-(a=N(i)))),_=b*(1-p*(1-n)),a){case 0:c=(s=[b,_,o])[0],r=s[1],e=s[2];break;case 1:c=(u=[l,b,o])[0],r=u[1],e=u[2];break;case 2:c=(f=[o,b,_])[0],r=f[1],e=f[2];break;case 3:c=(d=[o,l,b])[0],r=d[1],e=d[2];break;case 4:c=(h=[_,o,b])[0],r=h[1],e=h[2];break;case 5:c=(g=[b,o,l])[0],r=g[1],e=g[2]}return[c,r,e,t.length>3?t[3]:1]},ut=function(){var t,e,n,r,i,a,o,l,c;return a=(o=kt(arguments))[0],n=o[1],t=o[2],i=Math.min(a,n,t),e=(J=Math.max(a,n,t))-i,c=J/255,0===J?(r=Number.NaN,l=0):(l=e/J,a===J&&(r=(n-t)/e),n===J&&(r=2+(t-a)/e),t===J&&(r=4+(a-n)/e),(r*=60)<0&&(r+=360)),[r,l,c]},x.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["hsv"]),(function(){}))},h.hsv=L,n.prototype.hsv=function(){return ut(this._rgb)},et=function(t){return"number"===Mt(t)&&t>=0&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},gt=function(){var t;return((t=kt(arguments))[0]<<16)+(t[1]<<8)+t[2]},x.num=function(t){return new n(t,"num")},n.prototype.num=function(t){return null==t&&(t="rgb"),gt(this._rgb,t)},h.num=et,f.push({p:1,test:function(t){if(1===arguments.length&&"number"===Mt(t)&&t>=0&&t<=16777215)return"num"}}),V=function(){var t,e,n,r,i,a,o,l,c,s,u,f,d,h,g,p,_,b,m,v;if(l=(n=kt(arguments))[0],i=n[1],e=n[2],o=o/100*255,t=255*(i/=100),0===i)f=o=r=e;else switch(360===l&&(l=0),l>360&&(l-=360),l<0&&(l+=360),u=(s=e*(1-i))+t*(1-(a=(l/=60)-(c=N(l)))),m=s+t*a,v=s+t,c){case 0:f=(d=[v,m,s])[0],o=d[1],r=d[2];break;case 1:f=(h=[u,v,s])[0],o=h[1],r=h[2];break;case 2:f=(g=[s,v,m])[0],o=g[1],r=g[2];break;case 3:f=(p=[s,u,v])[0],o=p[1],r=p[2];break;case 4:f=(_=[m,s,v])[0],o=_[1],r=_[2];break;case 5:f=(b=[v,s,u])[0],o=b[1],r=b[2]}return[f,o,r,n.length>3?n[3]:1]},ot=function(){var t,e,n,r,i,a,o,l,c;return l=(c=kt(arguments))[0],i=c[1],e=c[2],o=Math.min(l,i,e),n=100*(r=(J=Math.max(l,i,e))-o)/255,t=o/(255-r)*100,0===r?a=Number.NaN:(l===J&&(a=(i-e)/r),i===J&&(a=2+(e-l)/r),e===J&&(a=4+(l-i)/r),(a*=60)<0&&(a+=360)),[a,n,t]},x.hcg=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["hcg"]),(function(){}))},h.hcg=V,n.prototype.hcg=function(){return ot(this._rgb)},A=function(t){var e,n,r,i,a,o,l,c;if(t=t.toLowerCase(),null!=x.colors&&x.colors[t])return D(x.colors[t]);if(a=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(l=a.slice(1,4),i=o=0;o<=2;i=++o)l[i]=+l[i];l[3]=1}else if(a=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(l=a.slice(1,5),i=c=0;c<=3;i=++c)l[i]=+l[i];else if(a=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(l=a.slice(1,4),i=e=0;e<=2;i=++e)l[i]=vt(2.55*l[i]);l[3]=1}else if(a=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(l=a.slice(1,5),i=n=0;n<=2;i=++n)l[i]=vt(2.55*l[i]);l[3]=+l[3]}else(a=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=a.slice(1,4))[1]*=.01,r[2]*=.01,(l=O(r))[3]=1):(a=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=a.slice(1,4))[1]*=.01,r[2]*=.01,(l=O(r))[3]=+a[4]);return l},at=function(t){var e;return"rgb"==(e=t[3]<1?"rgba":"rgb")?e+"("+t.slice(0,3).map(vt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(vt).join(",")+","+t[3]+")":void 0},mt=function(t){return vt(100*t)/100},z=function(t,e){var n;return n=e<1?"hsla":"hsl",t[0]=mt(t[0]||0),t[1]=mt(100*t[1])+"%",t[2]=mt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},h.css=function(t){return A(t)},x.css=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?at(this._rgb):"hsl"===t.slice(0,3)?z(this.hsl(),this.alpha()):void 0},h.named=function(t){return D(At[t])},f.push({p:5,test:function(t){if(1===arguments.length&&null!=At[t])return"named"}}),n.prototype.name=function(t){var e,n;for(n in arguments.length&&(At[t]&&(this._rgb=D(At[t])),this._rgb[3]=1),e=this.hex("rgb"),At)if(e===At[n])return n;return e},W=function(){var t,e,n,r;return n=(r=kt(arguments))[0],t=r[1],e=r[2],[n,k(e*=i)*t,wt(e)*t]},q=function(){var t,e,n,r,i,a,o,l,c;return o=(n=kt(arguments))[0],i=n[1],a=n[2],t=(l=W(o,i,a))[0],e=l[1],r=l[2],[(c=H(t,e,r))[0],c[1],r=c[2],n.length>3?n[3]:1]},Z=function(){var t,e,n,r,i,a;return i=(a=kt(arguments))[0],t=a[1],e=a[2],n=xt(t*t+e*e),r=(_(e,t)*c+360)%360,0===vt(1e4*n)&&(r=Number.NaN),[i,n,r]},dt=function(){var t,e,n,r,i,a,o;return i=(a=kt(arguments))[0],n=a[1],e=a[2],r=(o=ft(i,n,e))[0],t=o[1],e=o[2],Z(r,t,e)},x.lch=function(){var t;return t=kt(arguments),new n(t,"lch")},x.hcl=function(){var t;return t=kt(arguments),new n(t,"hcl")},h.lch=q,h.hcl=function(){var t,e,n,r;return e=(r=kt(arguments))[0],t=r[1],n=r[2],q([n,t,e])},n.prototype.lch=function(){return dt(this._rgb)},n.prototype.hcl=function(){return dt(this._rgb).reverse()},it=function(t){var e,n,r,i,a,o;return null==t&&(t="rgb"),a=(o=kt(arguments))[0],r=o[1],e=o[2],r/=255,e/=255,[(1-(a/=255)-(i=1-Math.max(a,Math.max(r,e))))*(n=i<1?1/(1-i):0),(1-r-i)*n,(1-e-i)*n,i]},M=function(){var t,e,n,r,i,a;return n=(e=kt(arguments))[0],i=e[1],a=e[2],r=e[3],t=e.length>4?e[4]:1,1===r?[0,0,0,t]:[n>=1?0:255*(1-n)*(1-r),i>=1?0:255*(1-i)*(1-r),a>=1?0:255*(1-a)*(1-r),t]},h.cmyk=function(){return M(kt(arguments))},x.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return it(this._rgb)},h.gl=function(){var t,e,n,r,i;for(r=function(){var t,n;for(e in n=[],t=kt(arguments))i=t[e],n.push(i);return n}.apply(this,arguments),t=n=0;n<=2;t=++n)r[t]*=255;return r},x.gl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},ht=function(t,e,n){var r;return t=(r=kt(arguments))[0],e=r[1],n=r[2],.2126*(t=Q(t))+.7152*(e=Q(e))+.0722*Q(n)},Q=function(t){return(t/=255)<=.03928?t/12.92:rt((t+.055)/1.055,2.4)},F=function(t,e,r,i){var a,o;return a=t._rgb,o=e._rgb,new n(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),i)},g.push(["rgb",F]),n.prototype.luminance=function(t,e){var n,r,i,a,o;return null==e&&(e="rgb"),arguments.length?(a=this._rgb,0===t?a=[0,0,0,this._rgb[3]]:1===t?a=[255,255,255,this[3]]:(n=ht(this._rgb),r=1e-7,i=20,o=function(n,a){var l,c;return l=(c=n.interpolate(a,.5,e)).luminance(),Math.abs(t-l)<r||!i--?c:l>t?o(n,c):o(c,a)},a=n>t?o(x("black"),this).rgba():o(this,x("white")).rgba()),x(a).alpha(this.alpha())):ht(this._rgb)},St=function(t){var e,n,r,i;return(i=t/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*X(n),e=i<20?0:.8274096064007395*(e=i-10)-254.76935184120902+115.67994401066147*X(e)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*X(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*X(n),e=255),[r,n,e]},pt=function(){var t,e,n,r,i,a,o,l;for(i=(a=kt(arguments))[0],a[1],t=a[2],r=1e3,n=4e4,e=.4;n-r>e;)(o=St(l=.5*(n+r)))[2]/o[0]>=t/i?n=l:r=l;return vt(l)},x.temperature=x.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["temperature"]),(function(){}))},h.temperature=h.kelvin=h.K=St,n.prototype.temperature=function(){return pt(this._rgb)},n.prototype.kelvin=n.prototype.temperature,x.contrast=function(t,e){var r,i,a,o;return"string"!==(a=Mt(t))&&"number"!==a||(t=new n(t)),"string"!==(o=Mt(e))&&"number"!==o||(e=new n(e)),(r=t.luminance())>(i=e.luminance())?(r+.05)/(i+.05):(i+.05)/(r+.05)},x.distance=function(t,e,r){var i,a,o,l,c,s,u;for(a in null==r&&(r="lab"),"string"!==(c=Mt(t))&&"number"!==c||(t=new n(t)),"string"!==(s=Mt(e))&&"number"!==s||(e=new n(e)),o=t.get(r),l=e.get(r),u=0,o)u+=(i=(o[a]||0)-(l[a]||0))*i;return Math.sqrt(u)},x.deltaE=function(t,e,r,i){var a,l,c,s,u,f,d,h,g,b,m,v,y,w,x,S,M,A,C,T,E,N,V,D;for(null==r&&(r=1),null==i&&(i=1),"string"!==(x=Mt(t))&&"number"!==x||(t=new n(t)),"string"!==(S=Mt(e))&&"number"!==S||(e=new n(e)),a=(M=t.lab())[0],c=M[1],u=M[2],l=(A=e.lab())[0],s=A[1],f=A[2],d=xt(c*c+u*u),h=xt(s*s+f*f),T=a<16?.511:.040975*a/(1+.01765*a),C=.0638*d/(1+.0131*d)+.638,w=d<1e-6?0:180*_(u,c)/o;w<0;)w+=360;for(;w>=360;)w-=360;return E=w>=164&&w<=345?.56+p(.2*k(o*(w+168)/180)):.36+p(.4*k(o*(w+35)/180)),y=xt((g=d*d*d*d)/(g+1900)),xt((N=(a-l)/(r*T))*N+(V=(v=d-h)/(i*C))*V+((b=c-s)*b+(m=u-f)*m-v*v)/((D=C*(y*E+1-y))*D))},n.prototype.get=function(t){var e,n,r,i,a;return r=(i=t.split("."))[0],e=i[1],a=this[r](),e?(n=r.indexOf(e))>-1?a[n]:console.warn("unknown channel "+e+" in mode "+r):a},n.prototype.set=function(t,e){var n,r,i,a,o;if(i=(a=t.split("."))[0],n=a[1])if(o=this[i](),(r=i.indexOf(n))>-1)if("string"===Mt(e))switch(e.charAt(0)){case"+":case"-":o[r]+=+e;break;case"*":o[r]*=+e.substr(1);break;case"/":o[r]/=+e.substr(1);break;default:o[r]=+e}else o[r]=e;else console.warn("unknown channel "+n+" in mode "+i);else o=e;return x(o,i).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(t){return arguments.length?x.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},n.prototype.darken=function(t){var e;return null==t&&(t=1),(e=this.lab())[0]-=a.Kn*t,x.lab(e).alpha(this.alpha())},n.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(t){var e;return null==t&&(t=1),(e=this.lch())[1]+=t*a.Kn,e[1]<0&&(e[1]=0),x.lch(e).alpha(this.alpha())},n.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},n.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),x(e[0]*t,e[1]*t,e[2]*t,t)},tt=function(t,e){return t*e/255},C=function(t,e){return t>e?e:t},$=function(t,e){return t>e?t:e},yt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},nt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},w=function(t,e){return 255*(1-(1-e/255)/(t/255))},T=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},(m=function(t,e,n){if(!m[n])throw"unknown blend mode "+n;return m[n](t,e)}).normal=(v=function(t){return function(e,n){var r,i;return r=x(n).rgb(),i=x(e).rgb(),x(t(r,i),"rgb")}})((E=function(t){return function(e,n){var r,i,a;for(a=[],r=i=0;i<=3;r=++i)a[r]=t(e[r],n[r]);return a}})((function(t,e){return t}))),m.multiply=v(E(tt)),m.screen=v(E(yt)),m.overlay=v(E(nt)),m.darken=v(E(C)),m.lighten=v(E($)),m.dodge=v(E(T)),m.burn=v(E(w)),x.blend=m,x.analyze=function(t){var e,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,e=t.length;n<e;n++)null==(i=t[n])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(t,e){return x.limits(r,t,e)},r},x.scale=function(t,e){var n,r,i,a,o,l,c,s,u,f,d,h,g,p,_,b,m,v,y,w,S;return u="rgb",f=x("#ccc"),p=0,o=[0,1],g=[],h=[0,0],n=!1,i=[],d=!1,s=0,c=1,a=!1,r={},_=!0,l=1,w=function(t){var e,n,r,a,o,l;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Mt(t)&&null!=x.brewer&&(t=x.brewer[t]||x.brewer[t.toLowerCase()]||t),"array"===Mt(t)){for(1===t.length&&(t=[t[0],t[0]]),e=r=0,a=(t=t.slice(0)).length-1;0<=a?r<=a:r>=a;e=0<=a?++r:--r)n=t[e],"string"===Mt(n)&&(t[e]=x(n));for(g.length=0,e=l=0,o=t.length-1;0<=o?l<=o:l>=o;e=0<=o?++l:--l)g.push(e/(t.length-1))}return y(),i=t},m=function(t){var e,r;if(null!=n){for(r=n.length-1,e=0;e<r&&t>=n[e];)e++;return e-1}return 0},S=function(t){return t},v=function(t,e){var a,o,d,p,b,v,y;if(null==e&&(e=!1),isNaN(t)||null===t)return f;if(y=e?t:n&&n.length>2?m(t)/(n.length-2):c!==s?(t-s)/(c-s):1,e||(y=S(y)),1!==l&&(y=rt(y,l)),y=h[0]+y*(1-h[0]-h[1]),y=Math.min(1,Math.max(0,y)),d=Math.floor(1e4*y),_&&r[d])a=r[d];else{if("array"===Mt(i))for(o=p=0,v=g.length-1;0<=v?p<=v:p>=v;o=0<=v?++p:--p){if(y<=(b=g[o])){a=i[o];break}if(y>=b&&o===g.length-1){a=i[o];break}if(y>b&&y<g[o+1]){y=(y-b)/(g[o+1]-b),a=x.interpolate(i[o],i[o+1],y,u);break}}else"function"===Mt(i)&&(a=i(y));_&&(r[d]=a)}return a},y=function(){return r={}},w(t),(b=function(t){var e;return e=x(v(t)),d&&e[d]?e[d]():e}).classes=function(t){var e;return null!=t?("array"===Mt(t)?(n=t,o=[t[0],t[t.length-1]]):(e=x.analyze(o),n=0===t?[e.min,e.max]:x.limits(e,"e",t)),b):n},b.domain=function(t){var e,n,r,a,l,u,f;if(!arguments.length)return o;if(s=t[0],c=t[t.length-1],g=[],r=i.length,t.length===r&&s!==c)for(l=0,a=t.length;l<a;l++)n=t[l],g.push((n-s)/(c-s));else for(e=f=0,u=r-1;0<=u?f<=u:f>=u;e=0<=u?++f:--f)g.push(e/(r-1));return o=[s,c],b},b.mode=function(t){return arguments.length?(u=t,y(),b):u},b.range=function(t,e){return w(t),b},b.out=function(t){return d=t,b},b.spread=function(t){return arguments.length?(p=t,b):p},b.correctLightness=function(t){return null==t&&(t=!0),a=t,y(),S=a?function(t){var e,n,r,i,a,o,l,c;for(o=(e=v(0,!0).lab()[0])>(n=v(1,!0).lab()[0]),r=v(t,!0).lab()[0]-(i=e+(n-e)*t),l=0,c=1,a=20;Math.abs(r)>.01&&a-- >0;)o&&(r*=-1),r<0?(l=t,t+=.5*(c-t)):(c=t,t+=.5*(l-t)),r=v(t,!0).lab()[0]-i;return t}:function(t){return t},b},b.padding=function(t){return null!=t?("number"===Mt(t)&&(t=[t,t]),h=t,b):h},b.colors=function(e,r){var a,l,c,s,u,f,d,h;if(arguments.length<2&&(r="hex"),u=[],0===arguments.length)u=i.slice(0);else if(1===e)u=[b(.5)];else if(e>1)l=o[0],a=o[1]-l,u=function(){f=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)f.push(t);return f}.apply(this).map((function(t){return b(l+t/(e-1)*a)}));else{if(t=[],d=[],n&&n.length>2)for(c=h=1,s=n.length;1<=s?h<s:h>s;c=1<=s?++h:--h)d.push(.5*(n[c-1]+n[c]));else d=o;u=d.map((function(t){return b(t)}))}return x[r]&&(u=u.map((function(t){return t[r]()}))),u},b.cache=function(t){return null!=t?(_=t,b):_},b.gamma=function(t){return null!=t?(l=t,b):l},b.nodata=function(t){return null!=t?(f=x(t),b):f},b},null==x.scales&&(x.scales={}),x.scales.cool=function(){return x.scale([x.hsl(180,1,.9),x.hsl(250,.7,.4)])},x.scales.hot=function(){return x.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},x.analyze=function(t,e,n){var r,i,a,o,l,c;if(l={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(l.values.push(t),l.sum+=t,t<l.min&&(l.min=t),t>l.max&&(l.max=t),l.count+=1)},c=function(t,i){if(n(t,i))return null!=e&&"function"===Mt(e)?r(e(t)):null!=e&&"string"===Mt(e)||"number"===Mt(e)?r(t[e]):r(t)},"array"===Mt(t))for(o=0,a=t.length;o<a;o++)c(t[o]);else for(i in t)c(t[i],i);return l.domain=[l.min,l.max],l.limits=function(t,e){return x.limits(l,t,e)},l},x.limits=function(t,e,n){var r,i,a,o,l,c,s,u,f,d,h,g,_,b,m,v,y,w,S,M,k,A,C,T,E,V,D,P,z,O,L,I,B,R,Y,j,F,Z,H,U,W,q,$,G,Q,K,tt,et,nt,it,at,ot,lt,ct,st;if(null==e&&(e="equal"),null==n&&(n=7),"array"===Mt(t)&&(t=x.analyze(t)),E=t.min,J=t.max,t.sum,ct=t.values.sort((function(t,e){return t-e})),1===n)return[E,J];if(C=[],"c"===e.substr(0,1)&&(C.push(E),C.push(J)),"e"===e.substr(0,1)){for(C.push(E),M=L=1,Y=n-1;1<=Y?L<=Y:L>=Y;M=1<=Y?++L:--L)C.push(E+M/n*(J-E));C.push(J)}else if("l"===e.substr(0,1)){if(E<=0)throw"Logarithmic scales are only possible for values > 0";for(V=Math.LOG10E*X(E),T=Math.LOG10E*X(J),C.push(E),M=st=1,j=n-1;1<=j?st<=j:st>=j;M=1<=j?++st:--st)C.push(rt(10,V+M/n*(T-V)));C.push(J)}else if("q"===e.substr(0,1)){for(C.push(E),M=r=1,q=n-1;1<=q?r<=q:r>=q;M=1<=q?++r:--r)I=(ct.length-1)*M/n,(B=N(I))===I?C.push(ct[B]):(R=I-B,C.push(ct[B]*(1-R)+ct[B+1]*R));C.push(J)}else if("k"===e.substr(0,1)){for(P=ct.length,b=new Array(P),w=new Array(n),it=!0,z=0,v=null,(v=[]).push(E),M=i=1,$=n-1;1<=$?i<=$:i>=$;M=1<=$?++i:--i)v.push(E+M/n*(J-E));for(v.push(J);it;){for(k=a=0,G=n-1;0<=G?a<=G:a>=G;k=0<=G?++a:--a)w[k]=0;for(M=o=0,Q=P-1;0<=Q?o<=Q:o>=Q;M=0<=Q?++o:--o){for(lt=ct[M],D=Number.MAX_VALUE,k=l=0,K=n-1;0<=K?l<=K:l>=K;k=0<=K?++l:--l)(S=p(v[k]-lt))<D&&(D=S,m=k);w[m]++,b[M]=m}for(O=new Array(n),k=c=0,tt=n-1;0<=tt?c<=tt:c>=tt;k=0<=tt?++c:--c)O[k]=null;for(M=s=0,et=P-1;0<=et?s<=et:s>=et;M=0<=et?++s:--s)null===O[y=b[M]]?O[y]=ct[M]:O[y]+=ct[M];for(k=u=0,nt=n-1;0<=nt?u<=nt:u>=nt;k=0<=nt?++u:--u)O[k]*=1/w[k];for(it=!1,k=f=0,F=n-1;0<=F?f<=F:f>=F;k=0<=F?++f:--f)if(O[k]!==v[M]){it=!0;break}v=O,++z>200&&(it=!1)}for(A={},k=d=0,Z=n-1;0<=Z?d<=Z:d>=Z;k=0<=Z?++d:--d)A[k]=[];for(M=h=0,H=P-1;0<=H?h<=H:h>=H;M=0<=H?++h:--h)A[y=b[M]].push(ct[M]);for(at=[],k=g=0,U=n-1;0<=U?g<=U:g>=U;k=0<=U?++g:--g)at.push(A[k][0]),at.push(A[k][A[k].length-1]);for(at=at.sort((function(t,e){return t-e})),C.push(at[0]),M=_=1,W=at.length-1;_<=W;M=_+=2)ot=at[M],isNaN(ot)||-1!==C.indexOf(ot)||C.push(ot)}return C},P=function(t,e,n){var r,i,a,o;return t=(r=kt(arguments))[0],e=r[1],n=r[2],isNaN(t)&&(t=0),(t/=360)<1/3?a=1-((i=(1-e)/3)+(o=(1+e*k(s*t)/k(l-s*t))/3)):t<2/3?i=1-((o=(1-e)/3)+(a=(1+e*k(s*(t-=1/3))/k(l-s*t))/3)):o=1-((a=(1-e)/3)+(i=(1+e*k(s*(t-=2/3))/k(l-s*t))/3)),[255*(o=G(n*o*3)),255*(a=G(n*a*3)),255*(i=G(n*i*3)),r.length>3?r[3]:1]},ct=function(){var t,e,n,r,i,a,o;return i=(a=kt(arguments))[0],e=a[1],t=a[2],s=2*Math.PI,i/=255,e/=255,t/=255,0==(o=1-Math.min(i,e,t)/(r=(i+e+t)/3))?n=0:(n=(i-e+(i-t))/2,n/=Math.sqrt((i-e)*(i-e)+(i-t)*(e-t)),n=Math.acos(n),t>e&&(n=s-n),n/=s),[360*n,o,r]},x.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(n,Et.call(arguments).concat(["hsi"]),(function(){}))},h.hsi=P,n.prototype.hsi=function(){return ct(this._rgb)},B=function(t,e,n,r){var i,a,o,l,c,s,u,f,d,h;return"hsl"===r?(d=t.hsl(),h=e.hsl()):"hsv"===r?(d=t.hsv(),h=e.hsv()):"hcg"===r?(d=t.hcg(),h=e.hcg()):"hsi"===r?(d=t.hsi(),h=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=t.hcl(),h=e.hcl()),"h"===r.substr(0,1)&&(a=d[0],u=d[1],l=d[2],o=h[0],f=h[1],c=h[2]),isNaN(a)||isNaN(o)?isNaN(a)?isNaN(o)?i=Number.NaN:(i=o,1!==l&&0!==l||"hsv"===r||(s=f)):(i=a,1!==c&&0!==c||"hsv"===r||(s=u)):i=a+n*(o>a&&o-a>180?o-(a+360):o<a&&a-o>180?o+360-a:o-a),null==s&&(s=u+n*(f-u)),x[r](i,s,l+n*(c-l))},j=function(t,e,n,r){var i,a;return i=t.num(),a=e.num(),x.num(i+(a-i)*n,"num")},(g=g.concat(function(){var t,e,n,r;for(r=[],e=0,t=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;e<t;e++)K=n[e],r.push([K,B]);return r}())).push(["num",j]),R=function(t,e,r,i){var a,o;return a=t.lab(),o=e.lab(),new n(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),i)},g.push(["lab",R])}.call(this)},9194:(t,e,n)=>{"use strict";function r(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{Z:()=>r})},7216:(t,e,n)=>{"use strict";n.d(e,{ml:()=>l,Nw:()=>c,ZR:()=>s,ZP:()=>u});var r=n(9194),i=n(2922),a=n(1459);const o=(0,i.Z)(r.Z),l=o.right,c=o.left,s=(0,i.Z)(a.Z).center,u=l},2922:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(9194);function i(t){let e=t,n=t,i=t;function a(t,e,r=0,a=t.length){if(r<a){if(0!==n(e,e))return a;do{const n=r+a>>>1;i(t[n],e)<0?r=n+1:a=n}while(r<a)}return r}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=r.Z,i=(e,n)=>(0,r.Z)(t(e),n)),{left:a,center:function(t,n,r=0,i=t.length){const o=a(t,n,r,i-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r=0,a=t.length){if(r<a){if(0!==n(e,e))return a;do{const n=r+a>>>1;i(t[n],e)<=0?r=n+1:a=n}while(r<a)}return r}}}},9777:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Adder:()=>_,InternMap:()=>v.L,InternSet:()=>v.H,ascending:()=>i.Z,bin:()=>Z,bisect:()=>r.ZP,bisectCenter:()=>r.ZR,bisectLeft:()=>r.Nw,bisectRight:()=>r.ml,bisector:()=>a.Z,count:()=>o,cross:()=>u,cumsum:()=>f,descending:()=>d,deviation:()=>g,difference:()=>At,disjoint:()=>Ct,every:()=>yt,extent:()=>p,fcumsum:()=>m,filter:()=>xt,flatGroup:()=>M,flatRollup:()=>k,fsum:()=>b,greatest:()=>ft,greatestIndex:()=>dt,group:()=>w,groupSort:()=>L,groups:()=>x,histogram:()=>Z,index:()=>T,indexes:()=>E,intersection:()=>Tt,least:()=>st,leastIndex:()=>ut,map:()=>St,max:()=>H.Z,maxIndex:()=>J,mean:()=>tt,median:()=>et,merge:()=>nt,min:()=>U.Z,minIndex:()=>rt,mode:()=>it,nice:()=>j,pairs:()=>at,permute:()=>D,quantile:()=>G,quantileSorted:()=>X,quickselect:()=>W,range:()=>lt.Z,rank:()=>ct,reduce:()=>Mt,reverse:()=>kt,rollup:()=>A,rollups:()=>C,scan:()=>ht,shuffle:()=>gt,shuffler:()=>pt,some:()=>wt,sort:()=>P,subset:()=>Dt,sum:()=>_t,superset:()=>Nt,thresholdFreedmanDiaconis:()=>Q,thresholdScott:()=>K,thresholdSturges:()=>F,tickIncrement:()=>Y.G9,tickStep:()=>Y.ly,ticks:()=>Y.ZP,transpose:()=>bt,union:()=>Pt,variance:()=>h,zip:()=>vt});var r=n(7216),i=n(9194),a=n(2922);function o(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function l(t){return 0|t.length}function c(t){return!(t>0)}function s(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function u(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(s)).map(l),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(c))return a;for(;;){a.push(i.map(((e,n)=>t[n][e])));let o=r;for(;++i[o]===n[o];){if(0===o)return e?a.map(e):a;i[o--]=0}}}function f(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function d(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h(t,e){let n,r=0,i=0,a=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,a+=n*(e-i));else{let o=-1;for(let l of t)null!=(l=e(l,++o,t))&&(l=+l)>=l&&(n=l-i,i+=n/++r,a+=n*(l-i))}if(r>1)return a/(r-1)}function g(t,e){const n=h(t,e);return n?Math.sqrt(n):n}function p(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class _{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(e[n++]=o),t=a}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(e=a,n=t[--i],a=e+n,r=n-(a-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=a+n,n==e-a&&(a=e))}return a}}function b(t,e){const n=new _;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function m(t,e){const n=new _;let r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):i=>n.add(+e(i,++r,t)||0))}var v=n(9534);function y(t){return t}function w(t,...e){return V(t,y,y,e)}function x(t,...e){return V(t,Array.from,y,e)}function S(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function M(t,...e){return S(x(t,...e),e)}function k(t,e,...n){return S(C(t,e,...n),n)}function A(t,e,...n){return V(t,y,e,n)}function C(t,e,...n){return V(t,Array.from,e,n)}function T(t,...e){return V(t,y,N,e)}function E(t,...e){return V(t,Array.from,N,e)}function N(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function V(t,e,n,r){return function t(i,a){if(a>=r.length)return n(i);const o=new v.L,l=r[a++];let c=-1;for(const t of i){const e=l(t,++c,i),n=o.get(e);n?n.push(t):o.set(e,[t])}for(const[e,n]of o)o.set(e,t(n,a));return e(o)}(t,0)}function D(t,e){return Array.from(e,(e=>t[e]))}function P(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=O(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>O(n[t],n[e])))),D(t,r)}return t.sort(z(n))}function z(t=i.Z){if(t===i.Z)return O;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function O(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function L(t,e,n){return(2!==e.length?P(A(t,e,n),(([t,e],[n,r])=>(0,i.Z)(e,r)||(0,i.Z)(t,n))):P(w(t,n),(([t,n],[r,a])=>e(n,a)||(0,i.Z)(t,r)))).map((([t])=>t))}var I=Array.prototype,B=I.slice;function R(t){return()=>t}I.map;var Y=n(6320);function j(t,e,n){let r;for(;;){const i=(0,Y.G9)(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function F(t){return Math.ceil(Math.log(o(t))/Math.LN2)+1}function Z(){var t=y,e=p,n=F;function i(i){Array.isArray(i)||(i=Array.from(i));var a,o,l=i.length,c=new Array(l);for(a=0;a<l;++a)c[a]=t(i[a],a,i);var s=e(c),u=s[0],f=s[1],d=n(c,u,f);if(!Array.isArray(d)){const t=f,n=+d;if(e===p&&([u,f]=j(u,f,n)),(d=(0,Y.ZP)(u,f,n))[d.length-1]>=f)if(t>=f&&e===p){const t=(0,Y.G9)(u,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else d.pop()}for(var h=d.length;d[0]<=u;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var g,_=new Array(h+1);for(a=0;a<=h;++a)(g=_[a]=[]).x0=a>0?d[a-1]:u,g.x1=a<h?d[a]:f;for(a=0;a<l;++a)null!=(o=c[a])&&u<=o&&o<=f&&_[(0,r.ZP)(d,o,0,h)].push(i[a]);return _}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:R(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:R([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?R(B.call(t)):R(t),i):n},i}var H=n(9460),U=n(5532);function W(t,e,n=0,r=t.length-1,i){for(i=void 0===i?O:z(i);r>n;){if(r-n>600){const a=r-n+1,o=e-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),s=.5*Math.sqrt(l*c*(a-c)/a)*(o-a/2<0?-1:1);W(t,e,Math.max(n,Math.floor(e-o*c/a+s)),Math.min(r,Math.floor(e+(a-o)*c/a+s)),i)}const a=t[e];let o=n,l=r;for(q(t,n,e),i(t[r],a)>0&&q(t,n,r);o<l;){for(q(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}0===i(t[n],a)?q(t,n,l):(++l,q(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function q(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}var $=n(1459);function G(t,e,n){if(r=(t=Float64Array.from((0,$.K)(t,n))).length){if((e=+e)<=0||r<2)return(0,U.Z)(t);if(e>=1)return(0,H.Z)(t);var r,i=(r-1)*e,a=Math.floor(i),o=(0,H.Z)(W(t,a).subarray(0,a+1));return o+((0,U.Z)(t.subarray(a+1))-o)*(i-a)}}function X(t,e,n=$.Z){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function Q(t,e,n){return Math.ceil((n-e)/(2*(G(t,.75)-G(t,.25))*Math.pow(o(t),-1/3)))}function K(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(o(t),-1/3)))}function J(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let a of t)null!=(a=e(a,++i,t))&&(n<a||void 0===n&&a>=a)&&(n=a,r=i);return r}function tt(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function et(t,e){return G(t,.5,e)}function nt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function rt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let a of t)null!=(a=e(a,++i,t))&&(n>a||void 0===n&&a>=a)&&(n=a,r=i);return r}function it(t,e){const n=new v.L;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function at(t,e=ot){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function ot(t,e){return[t,e]}var lt=n(9921);function ct(t,e=i.Z){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=i.Z);const a=(t,r)=>e(n[t],n[r]);let o,l;return Uint32Array.from(n,((t,e)=>e)).sort(e===i.Z?(t,e)=>O(n[t],n[e]):z(a)).forEach(((t,e)=>{const n=a(t,void 0===o?t:o);n>=0?((void 0===o||n>0)&&(o=t,l=e),r[t]=l):r[t]=NaN})),r}function st(t,e=i.Z){let n,r=!1;if(1===e.length){let a;for(const o of t){const t=e(o);(r?(0,i.Z)(t,a)<0:0===(0,i.Z)(t,t))&&(n=o,a=t,r=!0)}}else for(const i of t)(r?e(i,n)<0:0===e(i,i))&&(n=i,r=!0);return n}function ut(t,e=i.Z){if(1===e.length)return rt(t,e);let n,r=-1,a=-1;for(const i of t)++a,(r<0?0===e(i,i):e(i,n)<0)&&(n=i,r=a);return r}function ft(t,e=i.Z){let n,r=!1;if(1===e.length){let a;for(const o of t){const t=e(o);(r?(0,i.Z)(t,a)>0:0===(0,i.Z)(t,t))&&(n=o,a=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function dt(t,e=i.Z){if(1===e.length)return J(t,e);let n,r=-1,a=-1;for(const i of t)++a,(r<0?0===e(i,i):e(i,n)>0)&&(n=i,r=a);return r}function ht(t,e){const n=ut(t,e);return n<0?void 0:n}const gt=pt(Math.random);function pt(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,a=e[i+n];e[i+n]=e[r+n],e[r+n]=a}return e}}function _t(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function bt(t){if(!(i=t.length))return[];for(var e=-1,n=(0,U.Z)(t,mt),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function mt(t){return t.length}function vt(){return bt(arguments)}function yt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function wt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function xt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function St(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Mt(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++o}for(;({done:i,value:a}=r.next()),!i;)n=e(n,a,++o,t);return n}function kt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function At(t,...e){t=new v.H(t);for(const n of e)for(const e of n)t.delete(e);return t}function Ct(t,e){const n=e[Symbol.iterator](),r=new v.H;for(const e of t){if(r.has(e))return!1;let t,i;for(;({value:t,done:i}=n.next())&&!i;){if(Object.is(e,t))return!1;r.add(t)}}return!0}function Tt(t,...e){t=new v.H(t),e=e.map(Et);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Et(t){return t instanceof v.H?t:new v.H(t)}function Nt(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){const e=Vt(t);if(r.has(e))continue;let i,a;for(;({value:i,done:a}=n.next());){if(a)return!1;const t=Vt(i);if(r.add(t),Object.is(e,t))break}}return!0}function Vt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Dt(t,e){return Nt(e,t)}function Pt(...t){const e=new v.H;for(const n of t)for(const t of n)e.add(t);return e}},9460:(t,e,n)=>{"use strict";function r(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(e,{Z:()=>r})},5532:(t,e,n)=>{"use strict";function r(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}n.d(e,{Z:()=>r})},1459:(t,e,n)=>{"use strict";function r(t){return null===t?NaN:+t}function*i(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}n.d(e,{Z:()=>r,K:()=>i})},9921:(t,e,n)=>{"use strict";function r(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}n.d(e,{Z:()=>r})},6320:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>o,G9:()=>l,ly:()=>c});var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(t,e,n){var r,i,a,o,c=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=l(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,a=new Array(i=r-n+1);++c<i;)a[c]=(n+c)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,a=new Array(i=r-n+1);++c<i;)a[c]=(n+c)/o}return r&&a.reverse(),a}function l(t,e,n){var o=(e-t)/Math.max(0,n),l=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,l);return l>=0?(c>=r?10:c>=i?5:c>=a?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(c>=r?10:c>=i?5:c>=a?2:1)}function c(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),l=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),c=o/l;return c>=r?l*=10:c>=i?l*=5:c>=a&&(l*=2),e<t?-l:l}},906:(t,e,n)=>{"use strict";n.r(e),n.d(e,{brush:()=>R,brushSelection:()=>L,brushX:()=>I,brushY:()=>B});var r=n(8086),i=n(2376),a=n(3251),o=n(8063),l=n(7227),c=n(7190);const s=t=>()=>t;function u(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function f(t){t.stopImmediatePropagation()}function d(t){t.preventDefault(),t.stopImmediatePropagation()}var h={name:"drag"},g={name:"space"},p={name:"handle"},_={name:"center"};const{abs:b,max:m,min:v}=Math;function y(t){return[+t[0],+t[1]]}function w(t){return[y(t[0]),y(t[1])]}var x={name:"x",handles:["w","e"].map(N),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},S={name:"y",handles:["n","s"].map(N),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},M={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(N),input:function(t){return null==t?null:w(t)},output:function(t){return t}},k={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},A={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},C={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function N(t){return{type:t}}function V(t){return!t.ctrlKey&&!t.button}function D(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function P(){return navigator.maxTouchPoints||"ontouchstart"in this}function z(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function O(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function L(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function I(){return Y(x)}function B(){return Y(S)}function R(){return Y(M)}function Y(t){var e,n=D,y=V,M=P,L=!0,I=(0,r.Z)("start","brush","end"),B=6;function R(e){var n=e.property("__brush",W).selectAll(".overlay").data([N("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",k.overlay).merge(n).each((function(){var t=z(this).extent;(0,o.Z)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([N("selection")]).enter().append("rect").attr("class","selection").attr("cursor",k.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return k[t.type]})),e.each(Y).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",Z).filter(M).on("touchstart.brush",Z).on("touchmove.brush",H).on("touchend.brush touchcancel.brush",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Y(){var t=(0,o.Z)(this),e=z(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-B/2:e[0][0]-B/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-B/2:e[0][1]-B/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+B:B})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+B:B}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function j(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new F(t,e,n):r}function F(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function Z(n){if((!e||n.touches)&&y.apply(this,arguments)){var r,a,s,u,w,M,N,V,D,P,I,B=this,R=n.target.__data__.type,F="selection"===(L&&n.metaKey?R="overlay":R)?h:L&&n.altKey?_:p,Z=t===S?null:T[R],H=t===x?null:E[R],U=z(B),W=U.extent,q=U.selection,$=W[0][0],G=W[0][1],X=W[1][0],Q=W[1][1],K=0,J=0,tt=Z&&H&&L&&n.shiftKey,et=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=(0,l.Z)(t,B)).point0=t.slice(),t.identifier=e,t}));(0,c.e1)(B);var nt=j(B,arguments,!0).beforestart();if("overlay"===R){q&&(D=!0);const e=[et[0],et[1]||et[0]];U.selection=q=[[r=t===S?$:v(e[0][0],e[1][0]),s=t===x?G:v(e[0][1],e[1][1])],[w=t===S?X:m(e[0][0],e[1][0]),N=t===x?Q:m(e[0][1],e[1][1])]],et.length>1&&lt(n)}else r=q[0][0],s=q[0][1],w=q[1][0],N=q[1][1];a=r,u=s,M=w,V=N;var rt=(0,o.Z)(B).attr("pointer-events","none"),it=rt.selectAll(".overlay").attr("cursor",k[R]);if(n.touches)nt.moved=ot,nt.ended=ct;else{var at=(0,o.Z)(n.view).on("mousemove.brush",ot,!0).on("mouseup.brush",ct,!0);L&&at.on("keydown.brush",st,!0).on("keyup.brush",ut,!0),(0,i.Z)(n.view)}Y.call(B),nt.start(n,F.name)}function ot(t){for(const e of t.changedTouches||[t])for(const t of et)t.identifier===e.identifier&&(t.cur=(0,l.Z)(e,B));if(tt&&!P&&!I&&1===et.length){const t=et[0];b(t.cur[0]-t[0])>b(t.cur[1]-t[1])?I=!0:P=!0}for(const t of et)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);D=!0,d(t),lt(t)}function lt(t){const e=et[0],n=e.point0;var i;switch(K=e[0]-n[0],J=e[1]-n[1],F){case g:case h:Z&&(K=m($-r,v(X-w,K)),a=r+K,M=w+K),H&&(J=m(G-s,v(Q-N,J)),u=s+J,V=N+J);break;case p:et[1]?(Z&&(a=m($,v(X,et[0][0])),M=m($,v(X,et[1][0])),Z=1),H&&(u=m(G,v(Q,et[0][1])),V=m(G,v(Q,et[1][1])),H=1)):(Z<0?(K=m($-r,v(X-r,K)),a=r+K,M=w):Z>0&&(K=m($-w,v(X-w,K)),a=r,M=w+K),H<0?(J=m(G-s,v(Q-s,J)),u=s+J,V=N):H>0&&(J=m(G-N,v(Q-N,J)),u=s,V=N+J));break;case _:Z&&(a=m($,v(X,r-K*Z)),M=m($,v(X,w+K*Z))),H&&(u=m(G,v(Q,s-J*H)),V=m(G,v(Q,N+J*H)))}M<a&&(Z*=-1,i=r,r=w,w=i,i=a,a=M,M=i,R in A&&it.attr("cursor",k[R=A[R]])),V<u&&(H*=-1,i=s,s=N,N=i,i=u,u=V,V=i,R in C&&it.attr("cursor",k[R=C[R]])),U.selection&&(q=U.selection),P&&(a=q[0][0],M=q[1][0]),I&&(u=q[0][1],V=q[1][1]),q[0][0]===a&&q[0][1]===u&&q[1][0]===M&&q[1][1]===V||(U.selection=[[a,u],[M,V]],Y.call(B),nt.brush(t,F.name))}function ct(t){if(f(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else(0,i.D)(t.view,D),at.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);rt.attr("pointer-events","all"),it.attr("cursor",k.overlay),U.selection&&(q=U.selection),O(q)&&(U.selection=null,Y.call(B)),nt.end(t,F.name)}function st(t){switch(t.keyCode){case 16:tt=Z&&H;break;case 18:F===p&&(Z&&(w=M-K*Z,r=a+K*Z),H&&(N=V-J*H,s=u+J*H),F=_,lt(t));break;case 32:F!==p&&F!==_||(Z<0?w=M-K:Z>0&&(r=a-K),H<0?N=V-J:H>0&&(s=u-J),F=g,it.attr("cursor",k.selection),lt(t));break;default:return}d(t)}function ut(t){switch(t.keyCode){case 16:tt&&(P=I=tt=!1,lt(t));break;case 18:F===_&&(Z<0?w=M:Z>0&&(r=a),H<0?N=V:H>0&&(s=u),F=p,lt(t));break;case 32:F===g&&(t.altKey?(Z&&(w=M-K*Z,r=a+K*Z),H&&(N=V-J*H,s=u+J*H),F=_):(Z<0?w=M:Z>0&&(r=a),H<0?N=V:H>0&&(s=u),F=p),it.attr("cursor",k[R]),lt(t));break;default:return}d(t)}}function H(t){j(this,arguments).moved(t)}function U(t){j(this,arguments).ended(t)}function W(){var e=this.__brush||{selection:null};return e.extent=w(n.apply(this,arguments)),e.dim=t,e}return R.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){j(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){j(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=j(e,arguments),o=r.selection,l=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=(0,a.Z)(o,l);function s(t){r.selection=1===t&&null===l?null:c(t),Y.call(e),i.brush()}return null!==o&&null!==l?s:s(1)})):e.each((function(){var e=this,i=arguments,a=e.__brush,o=t.input("function"==typeof n?n.apply(e,i):n,a.extent),l=j(e,i).beforestart();(0,c.e1)(e),a.selection=null===o?null:o,Y.call(e),l.start(r).brush(r).end(r)}))},R.clear=function(t,e){R.move(t,null,e)},F.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=(0,o.Z)(this.that).datum();I.call(e,this.that,new u(e,{sourceEvent:n,target:R,selection:t.output(this.state.selection),mode:r,dispatch:I}),i)}},R.extent=function(t){return arguments.length?(n="function"==typeof t?t:s(w(t)),R):n},R.filter=function(t){return arguments.length?(y="function"==typeof t?t:s(!!t),R):y},R.touchable=function(t){return arguments.length?(M="function"==typeof t?t:s(!!t),R):M},R.handleSize=function(t){return arguments.length?(B=+t,R):B},R.keyModifiers=function(t){return arguments.length?(L=!!t,R):L},R.on=function(){var t=I.on.apply(I,arguments);return t===I?R:t},R}},2117:(t,e,n)=>{"use strict";n.d(e,{Il:()=>i,xV:()=>a,J5:()=>o,ZP:()=>y,SU:()=>S,B8:()=>M,Ss:()=>k});var r=n(8004);function i(){}var a=.7,o=1/a,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgba\\("+[l,l,l,c]+"\\)$"),g=new RegExp("^rgba\\("+[s,s,s,c]+"\\)$"),p=new RegExp("^hsl\\("+[c,s,s]+"\\)$"),_=new RegExp("^hsla\\("+[c,s,s,c]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function y(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?x(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new k(e[1],e[2],e[3],1):(e=d.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?x(e[1],e[2],e[3],e[4]):(e=g.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?E(e[1],e[2]/100,e[3]/100,1):(e=_.exec(t))?E(e[1],e[2]/100,e[3]/100,e[4]):b.hasOwnProperty(t)?w(b[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function w(t){return new k(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,r){return r<=0&&(t=e=n=NaN),new k(t,e,n,r)}function S(t){return t instanceof i||(t=y(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function M(t,e,n,r){return 1===arguments.length?S(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(){return"#"+T(this.r)+T(this.g)+T(this.b)}function C(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function T(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function E(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new V(t,e,n,r)}function N(t){if(t instanceof V)return new V(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=y(t)),!t)return new V;if(t instanceof V)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,s=(o+a)/2;return c?(l=e===o?(n-r)/c+6*(n<r):n===o?(r-e)/c+2:(e-n)/c+4,c/=s<.5?o+a:2-o-a,l*=60):c=s>0&&s<1?0:l,new V(l,c,s,t.opacity)}function V(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function D(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,r.Z)(i,y,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return N(this).formatHsl()},formatRgb:v,toString:v}),(0,r.Z)(k,M,(0,r.l)(i,{brighter:function(t){return t=null==t?o:Math.pow(o,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:C,toString:C})),(0,r.Z)(V,(function(t,e,n,r){return 1===arguments.length?N(t):new V(t,e,n,null==r?1:r)}),(0,r.l)(i,{brighter:function(t){return t=null==t?o:Math.pow(o,t),new V(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new V(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new k(D(t>=240?t-240:t+120,i,r),D(t,i,r),D(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},8004:(t,e,n)=>{"use strict";function r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}n.d(e,{Z:()=>r,l:()=>i})},8086:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r={value:()=>{}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new a(r)}function a(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function l(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function c(t,e,n){for(var i=0,a=t.length;i<a;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=i.prototype={constructor:a,on:function(t,e){var n,r=this._,i=o(t+"",r),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=i[a]).type)r[n]=c(r[n],t.name,e);else if(null==e)for(n in r)r[n]=c(r[n],t.name,null);return this}for(;++a<s;)if((n=(t=i[a]).type)&&(n=l(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const s=i},2669:(t,e,n)=>{"use strict";n.r(e),n.d(e,{dispatch:()=>r.Z});var r=n(8086)},2376:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a,D:()=>o});var r=n(8063),i=n(6555);function a(t){var e=t.document.documentElement,n=(0,r.Z)(t).on("dragstart.drag",i.ZP,i.Dd);"onselectstart"in e?n.on("selectstart.drag",i.ZP,i.Dd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function o(t,e){var n=t.document.documentElement,a=(0,r.Z)(t).on("dragstart.drag",null);e&&(a.on("click.drag",i.ZP,i.Dd),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},6555:(t,e,n)=>{"use strict";n.d(e,{Q7:()=>r,Dd:()=>i,rG:()=>a,ZP:()=>o});const r={passive:!1},i={capture:!0,passive:!1};function a(t){t.stopImmediatePropagation()}function o(t){t.preventDefault(),t.stopImmediatePropagation()}},2979:(t,e,n)=>{"use strict";function r(t){return--t*t*t+1}function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(e,{_e:()=>r,tw:()=>i})},7859:(t,e,n)=>{"use strict";function r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function i(t,e){return fetch(t,e).then(r)}function a(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function o(t,e){return fetch(t,e).then(a)}n.r(e),n.d(e,{blob:()=>i,buffer:()=>o,csv:()=>w,dsv:()=>y,html:()=>T,image:()=>S,json:()=>k,svg:()=>E,text:()=>m,tsv:()=>x,xml:()=>C});var l={},c={};function s(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function u(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function f(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function d(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,u=a<=0,f=!1;function d(){if(u)return c;if(f)return f=!1,l;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=a?u=!0:10===(r=t.charCodeAt(o++))?f=!0:13===r&&(f=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=t.charCodeAt(e=o++)))f=!0;else if(13===r)f=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(r=d())!==c;){for(var h=[];r!==l&&r!==c;)h.push(r),r=d();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?(i=(n=t).getUTCHours(),a=n.getUTCMinutes(),o=n.getUTCSeconds(),l=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+f(-r,6):r>9999?"+"+f(r,6):f(r,4))+"-"+f(n.getUTCMonth()+1,2)+"-"+f(n.getUTCDate(),2)+(l?"T"+f(i,2)+":"+f(a,2)+":"+f(o,2)+"."+f(l,3)+"Z":o?"T"+f(i,2)+":"+f(a,2)+":"+f(o,2)+"Z":a||i?"T"+f(i,2)+":"+f(a,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,r,i,a,o,l}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=s(t);return function(r,i){return e(n(r),i,t)}}(t,e):s(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=u(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=u(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}}var h=d(","),g=h.parse,p=(h.parseRows,h.format,h.formatBody,h.formatRows,h.formatRow,h.formatValue,d("\t")),_=p.parse;function b(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function m(t,e){return fetch(t,e).then(b)}function v(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),m(e,n).then((function(e){return t(e,r)}))}}function y(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=d(t);return m(e,n).then((function(t){return i.parse(t,r)}))}p.parseRows,p.format,p.formatBody,p.formatRows,p.formatRow,p.formatValue;var w=v(g),x=v(_);function S(t,e){return new Promise((function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function M(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function k(t,e){return fetch(t,e).then(M)}function A(t){return(e,n)=>m(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const C=A("application/xml");var T=A("text/html"),E=A("image/svg+xml")},933:(t,e,n)=>{"use strict";n.d(e,{wx:()=>a,yi:()=>o,ZP:()=>l});var r=n(1829);function i(t,e){return function(n){return t+n*e}}function a(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(t)?e:t)}function o(t){return 1==(t=+t)?l:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):(0,r.Z)(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?i(t,n):(0,r.Z)(isNaN(t)?e:t)}},1829:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=t=>()=>t},4072:(t,e,n)=>{"use strict";function r(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}n.d(e,{Z:()=>r})},7277:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>o,hD:()=>c});var r=n(2117);function i(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}var a=n(933);const o=function t(e){var n=(0,a.yi)(e);function i(t,e){var i=n((t=(0,r.B8)(t)).r,(e=(0,r.B8)(e)).r),o=n(t.g,e.g),l=n(t.b,e.b),c=(0,a.ZP)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=l(e),t.opacity=c(e),t+""}}return i.gamma=t,i}(1);function l(t){return function(e){var n,i,a=e.length,o=new Array(a),l=new Array(a),c=new Array(a);for(n=0;n<a;++n)i=(0,r.B8)(e[n]),o[n]=i.r||0,l[n]=i.g||0,c[n]=i.b||0;return o=t(o),l=t(l),c=t(c),i.opacity=1,function(t){return i.r=o(t),i.g=l(t),i.b=c(t),i+""}}}var c=l((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],o=t[r+1],l=r>0?t[r-1]:2*a-o,c=r<e-1?t[r+2]:2*o-a;return i((n-r/e)*e,l,a,o,c)}}));l((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],o=t[r%e],l=t[(r+1)%e],c=t[(r+2)%e];return i((n-r/e)*e,a,o,l,c)}}))},9771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(4072),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");function o(t,e){var n,o,l,c=i.lastIndex=a.lastIndex=0,s=-1,u=[],f=[];for(t+="",e+="";(n=i.exec(t))&&(o=a.exec(e));)(l=o.index)>c&&(l=e.slice(c,l),u[s]?u[s]+=l:u[++s]=l),(n=n[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,f.push({i:s,x:(0,r.Z)(n,o)})),c=a.lastIndex;return c<e.length&&(l=e.slice(c),u[s]?u[s]+=l:u[++s]=l),u.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)u[(n=f[r]).i]=n.x(t);return u.join("")})}},3251:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r=n(2117),i=n(7277);function a(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=d(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function o(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}var l=n(4072);function c(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=d(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var s=n(9771),u=n(1829);function f(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function d(t,e){var n,d,h=typeof e;return null==e||"boolean"===h?(0,u.Z)(e):("number"===h?l.Z:"string"===h?(n=(0,r.ZP)(e))?(e=n,i.ZP):s.Z:e instanceof r.ZP?i.ZP:e instanceof Date?o:(d=e,!ArrayBuffer.isView(d)||d instanceof DataView?Array.isArray(e)?a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?c:l.Z:f))(t,e)}},9233:(t,e,n)=>{"use strict";n.r(e),n.d(e,{path:()=>r.Z});var r=n(1064)},1064:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const r=Math.PI,i=2*r,a=1e-6,o=i-a;function l(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function c(){return new l}l.prototype=c.prototype={constructor:l,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var l=this._x1,c=this._y1,s=n-t,u=i-e,f=l-t,d=c-e,h=f*f+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>a)if(Math.abs(d*s-u*f)>a&&o){var g=n-l,p=i-c,_=s*s+u*u,b=g*g+p*p,m=Math.sqrt(_),v=Math.sqrt(h),y=o*Math.tan((r-Math.acos((_+h-b)/(2*m*v)))/2),w=y/v,x=y/m;Math.abs(w-1)>a&&(this._+="L"+(t+w*f)+","+(e+w*d)),this._+="A"+o+","+o+",0,0,"+ +(d*g>f*p)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,l,c,s){t=+t,e=+e,s=!!s;var u=(n=+n)*Math.cos(l),f=n*Math.sin(l),d=t+u,h=e+f,g=1^s,p=s?l-c:c-l;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>a||Math.abs(this._y1-h)>a)&&(this._+="L"+d+","+h),n&&(p<0&&(p=p%i+i),p>o?this._+="A"+n+","+n+",0,1,"+g+","+(t-u)+","+(e-f)+"A"+n+","+n+",0,1,"+g+","+(this._x1=d)+","+(this._y1=h):p>a&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+g+","+(this._x1=t+n*Math.cos(c))+","+(this._y1=e+n*Math.sin(c))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const s=c},678:(t,e,n)=>{"use strict";n.r(e),n.d(e,{randomBates:()=>s,randomBernoulli:()=>d,randomBeta:()=>p,randomBinomial:()=>_,randomCauchy:()=>m,randomExponential:()=>u,randomGamma:()=>g,randomGeometric:()=>h,randomInt:()=>a,randomIrwinHall:()=>c,randomLcg:()=>x,randomLogNormal:()=>l,randomLogistic:()=>v,randomNormal:()=>o,randomPareto:()=>f,randomPoisson:()=>y,randomUniform:()=>i,randomWeibull:()=>b});const r=Math.random,i=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(r),a=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(r),o=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(r),l=function t(e){var n=o.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(r),c=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(r),s=function t(e){var n=c.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(r),u=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(r),f=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(r),d=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(r),h=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(r),g=function t(e){var n=o.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var i=(t<1?t+1:t)-1/3,a=1/(3*Math.sqrt(i)),o=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),l=1+a*t}while(l<=0);l*=l*l;var c=1-e()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-l+Math.log(l)));return i*l*o()*r}}return r.source=t,r}(r),p=function t(e){var n=g.source(e);function r(t,e){var r=n(t),i=n(e);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(r),_=function t(e){var n=h.source(e),r=p.source(e);function i(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var i=0,a=t,o=e;a*o>16&&a*(1-o)>16;){var l=Math.floor((a+1)*o),c=r(l,a-l+1)();c<=o?(i+=l,a-=l,o=(o-c)/(1-c)):(a=l-1,o/=c)}for(var s=o<.5,u=n(s?o:1-o),f=u(),d=0;f<=a;++d)f+=u();return i+(s?d:a-d)}}return i.source=t,i}(r),b=function t(e){function n(t,n,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-e()))}}return n.source=t,n}(r),m=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(r),v=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(r),y=function t(e){var n=g.source(e),r=_.source(e);function i(t){return function(){for(var i=0,a=t;a>16;){var o=Math.floor(.875*a),l=n(o)();if(l>a)return i+r(o-1,a/l)();i+=o,a-=l}for(var c=-Math.log1p(-e()),s=0;c<=a;++s)c-=Math.log1p(-e());return i+s}}return i.source=t,i}(r),w=1/4294967296;function x(t=Math.random()){let e=0|(0<=t&&t<1?t/w:Math.abs(t));return()=>(e=1664525*e+1013904223|0,w*(e>>>0))}},4453:(t,e,n)=>{"use strict";function r(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}n.r(e),n.d(e,{interpolateBlues:()=>at,interpolateBrBG:()=>b,interpolateBuGn:()=>O,interpolateBuPu:()=>I,interpolateCividis:()=>_t,interpolateCool:()=>It,interpolateCubehelixDefault:()=>Ot,interpolateGnBu:()=>R,interpolateGreens:()=>lt,interpolateGreys:()=>st,interpolateInferno:()=>$t,interpolateMagma:()=>qt,interpolateOrRd:()=>j,interpolateOranges:()=>pt,interpolatePRGn:()=>v,interpolatePiYG:()=>w,interpolatePlasma:()=>Gt,interpolatePuBu:()=>U,interpolatePuBuGn:()=>Z,interpolatePuOr:()=>S,interpolatePuRd:()=>q,interpolatePurples:()=>ft,interpolateRainbow:()=>Rt,interpolateRdBu:()=>k,interpolateRdGy:()=>C,interpolateRdPu:()=>G,interpolateRdYlBu:()=>E,interpolateRdYlGn:()=>V,interpolateReds:()=>ht,interpolateSinebow:()=>Zt,interpolateSpectral:()=>P,interpolateTurbo:()=>Ht,interpolateViridis:()=>Wt,interpolateWarm:()=>Lt,interpolateYlGn:()=>J,interpolateYlGnBu:()=>Q,interpolateYlOrBr:()=>et,interpolateYlOrRd:()=>rt,schemeAccent:()=>a,schemeBlues:()=>it,schemeBrBG:()=>_,schemeBuGn:()=>z,schemeBuPu:()=>L,schemeCategory10:()=>i,schemeDark2:()=>o,schemeGnBu:()=>B,schemeGreens:()=>ot,schemeGreys:()=>ct,schemeOrRd:()=>Y,schemeOranges:()=>gt,schemePRGn:()=>m,schemePaired:()=>l,schemePastel1:()=>c,schemePastel2:()=>s,schemePiYG:()=>y,schemePuBu:()=>H,schemePuBuGn:()=>F,schemePuOr:()=>x,schemePuRd:()=>W,schemePurples:()=>ut,schemeRdBu:()=>M,schemeRdGy:()=>A,schemeRdPu:()=>$,schemeRdYlBu:()=>T,schemeRdYlGn:()=>N,schemeReds:()=>dt,schemeSet1:()=>u,schemeSet2:()=>f,schemeSet3:()=>d,schemeSpectral:()=>D,schemeTableau10:()=>h,schemeYlGn:()=>K,schemeYlGnBu:()=>X,schemeYlOrBr:()=>tt,schemeYlOrRd:()=>nt});const i=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),a=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),l=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),c=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),s=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),f=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),d=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),h=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var g=n(7277);const p=t=>(0,g.hD)(t[t.length-1]);var _=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r);const b=p(_);var m=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r);const v=p(m);var y=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r);const w=p(y);var x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r);const S=p(x);var M=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r);const k=p(M);var A=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r);const C=p(A);var T=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r);const E=p(T);var N=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r);const V=p(N);var D=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r);const P=p(D);var z=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r);const O=p(z);var L=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r);const I=p(L);var B=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r);const R=p(B);var Y=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r);const j=p(Y);var F=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r);const Z=p(F);var H=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r);const U=p(H);var W=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r);const q=p(W);var $=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r);const G=p($);var X=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r);const Q=p(X);var K=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r);const J=p(K);var tt=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r);const et=p(tt);var nt=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r);const rt=p(nt);var it=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r);const at=p(it);var ot=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r);const lt=p(ot);var ct=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r);const st=p(ct);var ut=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r);const ft=p(ut);var dt=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r);const ht=p(dt);var gt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r);const pt=p(gt);function _t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var bt=n(8004),mt=n(2117);const vt=Math.PI/180,yt=180/Math.PI;var wt=-.14861,xt=1.78277,St=-.29227,Mt=-.90649,kt=1.97294,At=kt*Mt,Ct=kt*xt,Tt=xt*St-Mt*wt;function Et(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);t instanceof mt.Ss||(t=(0,mt.SU)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Tt*r+At*e-Ct*n)/(Tt+At-Ct),a=r-i,o=(kt*(n-i)-St*a)/Mt,l=Math.sqrt(o*o+a*a)/(kt*i*(1-i)),c=l?Math.atan2(o,a)*yt-120:NaN;return new Vt(c<0?c+360:c,l,i,t.opacity)}function Nt(t,e,n,r){return 1===arguments.length?Et(t):new Vt(t,e,n,null==r?1:r)}function Vt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}(0,bt.Z)(Vt,Nt,(0,bt.l)(mt.Il,{brighter:function(t){return t=null==t?mt.J5:Math.pow(mt.J5,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?mt.xV:Math.pow(mt.xV,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*vt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new mt.Ss(255*(e+n*(wt*r+xt*i)),255*(e+n*(St*r+Mt*i)),255*(e+n*(kt*r)),this.opacity)}}));var Dt=n(933);function Pt(t){return function e(n){function r(e,r){var i=t((e=Nt(e)).h,(r=Nt(r)).h),a=(0,Dt.ZP)(e.s,r.s),o=(0,Dt.ZP)(e.l,r.l),l=(0,Dt.ZP)(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}Pt(Dt.wx);var zt=Pt(Dt.ZP);const Ot=zt(Nt(300,.5,0),Nt(-240,.5,1));var Lt=zt(Nt(-100,.75,.35),Nt(80,1.5,.8)),It=zt(Nt(260,.75,.35),Nt(80,1.5,.8)),Bt=Nt();function Rt(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Bt.h=360*t-100,Bt.s=1.5-1.5*e,Bt.l=.8-.9*e,Bt+""}var Yt=(0,mt.B8)(),jt=Math.PI/3,Ft=2*Math.PI/3;function Zt(t){var e;return t=(.5-t)*Math.PI,Yt.r=255*(e=Math.sin(t))*e,Yt.g=255*(e=Math.sin(t+jt))*e,Yt.b=255*(e=Math.sin(t+Ft))*e,Yt+""}function Ht(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Ut(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Wt=Ut(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var qt=Ut(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$t=Ut(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Gt=Ut(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},1381:(t,e,n)=>{"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}n.r(e),n.d(e,{interpolateCool:()=>ti,interpolateCubehelixDefault:()=>Kr,interpolateInferno:()=>oi,interpolateMagma:()=>ai,interpolatePlasma:()=>li,interpolateRainbow:()=>ni,interpolateViridis:()=>ii,interpolateWarm:()=>Jr,scaleBand:()=>C,scaleIdentity:()=>qt,scaleImplicit:()=>k,scaleLinear:()=>Wt,scaleLog:()=>ee,scaleOrdinal:()=>A,scalePoint:()=>E,scalePow:()=>re,scaleQuantile:()=>ae,scaleQuantize:()=>oe,scaleSequential:()=>ci,scaleSqrt:()=>ie,scaleThreshold:()=>le,scaleTime:()=>Mr,scaleUtc:()=>Vr,schemeCategory10:()=>Pr,schemeCategory20:()=>Lr,schemeCategory20b:()=>zr,schemeCategory20c:()=>Or});var a=i(r),o=a.right;a.left;const l=o;var c=Array.prototype,s=(c.slice,c.map,Math.sqrt(50)),u=Math.sqrt(10),f=Math.sqrt(2);function d(t,e,n){var r,i,a,o,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=function(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=s?10:a>=u?5:a>=f?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=s?10:a>=u?5:a>=f?2:1)}(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++l<i;)a[l]=(t+l)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++l<i;)a[l]=(t-l)/o;return r&&a.reverse(),a}function h(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=s?i*=10:a>=u?i*=5:a>=f&&(i*=2),e<t?-i:i}function g(t){return null===t?NaN:+t}function p(t,e,n){if(null==n&&(n=g),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}var _="$";function b(){}function m(t,e){var n=new b;if(t instanceof b)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}b.prototype=m.prototype={constructor:b,has:function(t){return _+t in this},get:function(t){return this[_+t]},set:function(t,e){return this[_+t]=e,this},remove:function(t){var e=_+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===_&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===_&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===_&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===_&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===_&&++t;return t},empty:function(){for(var t in this)if(t[0]===_)return!1;return!0},each:function(t){for(var e in this)e[0]===_&&t(this[e],e.slice(1),this)}};const v=m;function y(){}var w=v.prototype;y.prototype=function(t,e){var n=new y;if(t instanceof y)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:y,has:w.has,add:function(t){return this[_+(t+="")]=t,this},remove:w.remove,clear:w.clear,values:w.keys,size:w.size,empty:w.empty,each:w.each};var x=Array.prototype,S=x.map,M=x.slice,k={name:"implicit"};function A(t){var e=v(),n=[],r=k;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==k)return r;e.set(a,o=n.push(i))}return t[(o-1)%t.length]}return t=null==t?[]:M.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=v();for(var r,a,o=-1,l=t.length;++o<l;)e.has(a=(r=t[o])+"")||e.set(a,n.push(r));return i},i.range=function(e){return arguments.length?(t=M.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return A().domain(n).range(t).unknown(r)},i}function C(){var t,e,n=A().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,l=0,c=0,s=.5;function u(){var n=r().length,u=a[1]<a[0],f=a[u-0],d=a[1-u];t=(d-f)/Math.max(1,n-l+2*c),o&&(t=Math.floor(t)),f+=(d-f-t*(n-l))*s,e=t*(1-l),o&&(f=Math.round(f),e=Math.round(e));var h=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(n).map((function(e){return f+t*e}));return i(u?h.reverse():h)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],u()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,u()):o},n.padding=function(t){return arguments.length?(l=c=Math.max(0,Math.min(1,t)),u()):l},n.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},n.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u()):s},n.copy=function(){return C().domain(r()).range(a).round(o).paddingInner(l).paddingOuter(c).align(s)},u()}function T(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return T(e())},t}function E(){return T(C().paddingInner(1))}function N(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function V(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function D(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function P(){}var z=.7,O=1/z,L="\\s*([+-]?\\d+)\\s*",I="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",B="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R=/^#([0-9a-f]{3,8})$/,Y=new RegExp("^rgb\\("+[L,L,L]+"\\)$"),j=new RegExp("^rgb\\("+[B,B,B]+"\\)$"),F=new RegExp("^rgba\\("+[L,L,L,I]+"\\)$"),Z=new RegExp("^rgba\\("+[B,B,B,I]+"\\)$"),H=new RegExp("^hsl\\("+[I,B,B]+"\\)$"),U=new RegExp("^hsla\\("+[I,B,B,I]+"\\)$"),W={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function q(){return this.rgb().formatHex()}function $(){return this.rgb().formatRgb()}function G(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=R.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?X(e):3===n?new tt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Q(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Q(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Y.exec(t))?new tt(e[1],e[2],e[3],1):(e=j.exec(t))?new tt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=F.exec(t))?Q(e[1],e[2],e[3],e[4]):(e=Z.exec(t))?Q(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=H.exec(t))?it(e[1],e[2]/100,e[3]/100,1):(e=U.exec(t))?it(e[1],e[2]/100,e[3]/100,e[4]):W.hasOwnProperty(t)?X(W[t]):"transparent"===t?new tt(NaN,NaN,NaN,0):null}function X(t){return new tt(t>>16&255,t>>8&255,255&t,1)}function Q(t,e,n,r){return r<=0&&(t=e=n=NaN),new tt(t,e,n,r)}function K(t){return t instanceof P||(t=G(t)),t?new tt((t=t.rgb()).r,t.g,t.b,t.opacity):new tt}function J(t,e,n,r){return 1===arguments.length?K(t):new tt(t,e,n,null==r?1:r)}function tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function et(){return"#"+rt(this.r)+rt(this.g)+rt(this.b)}function nt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function rt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function it(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ot(t,e,n,r)}function at(t){if(t instanceof ot)return new ot(t.h,t.s,t.l,t.opacity);if(t instanceof P||(t=G(t)),!t)return new ot;if(t instanceof ot)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new ot(o,l,c,t.opacity)}function ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function lt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ct(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function st(t){return function(){return t}}function ut(t,e){return function(n){return t+n*e}}function ft(t,e){var n=e-t;return n?ut(t,n):st(isNaN(t)?e:t)}V(P,G,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:q,formatHex:q,formatHsl:function(){return at(this).formatHsl()},formatRgb:$,toString:$}),V(tt,J,D(P,{brighter:function(t){return t=null==t?O:Math.pow(O,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?z:Math.pow(z,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:et,formatHex:et,formatRgb:nt,toString:nt})),V(ot,(function(t,e,n,r){return 1===arguments.length?at(t):new ot(t,e,n,null==r?1:r)}),D(P,{brighter:function(t){return t=null==t?O:Math.pow(O,t),new ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?z:Math.pow(z,t),new ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tt(lt(t>=240?t-240:t+120,i,r),lt(t,i,r),lt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const dt=function t(e){var n=function(t){return 1==(t=+t)?ft:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):st(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=J(t)).r,(e=J(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=ft(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function ht(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=J(e[n]),a[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return a=t(a),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=l(t),r+""}}}function gt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=wt(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function pt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _t(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=wt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}ht((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<e-1?t[r+2]:2*a-i;return ct((n-r/e)*e,o,i,a,l)}})),ht((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return ct((n-r/e)*e,i,a,o,l)}}));var bt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mt=new RegExp(bt.source,"g");function vt(t,e){var n,r,i,a=bt.lastIndex=mt.lastIndex=0,o=-1,l=[],c=[];for(t+="",e+="";(n=bt.exec(t))&&(r=mt.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:N(n,r)})),a=mt.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)l[(n=c[r]).i]=n.x(t);return l.join("")})}function yt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function wt(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?st(e):("number"===i?N:"string"===i?(n=G(e))?(e=n,dt):vt:e instanceof G?dt:e instanceof Date?pt:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?gt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_t:N:yt))(t,e)}function xt(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function St(t){return function(){return t}}function Mt(t){return+t}var kt=[0,1];function At(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:St(e)}function Ct(t,e,n,r){var i=t[0],a=t[1],o=e[0],l=e[1];return a<i?(i=n(a,i),o=r(l,o)):(i=n(i,a),o=r(o,l)),function(t){return o(i(t))}}function Tt(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),c=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<i;)a[c]=n(t[c],t[c+1]),o[c]=r(e[c],e[c+1]);return function(e){var n=l(t,e,1,i)-1;return o[n](a[n](e))}}function Et(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Nt(t,e){var n,r,i,a=kt,o=kt,l=wt,c=!1;function s(){return n=Math.min(a.length,o.length)>2?Tt:Ct,r=i=null,u}function u(e){return(r||(r=n(a,o,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,l)))(+e)}return u.invert=function(t){return(i||(i=n(o,a,At,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},u.domain=function(t){return arguments.length?(a=S.call(t,Mt),s()):a.slice()},u.range=function(t){return arguments.length?(o=M.call(t),s()):o.slice()},u.rangeRound=function(t){return o=M.call(t),l=xt,s()},u.clamp=function(t){return arguments.length?(c=!!t,s()):c},u.interpolate=function(t){return arguments.length?(l=t,s()):l},s()}var Vt,Dt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pt(t){if(!(e=Dt.exec(t)))throw new Error("invalid format: "+t);var e;return new zt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function zt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ot(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Lt(t){return(t=Ot(Math.abs(t)))?t[1]:NaN}function It(t,e){var n=Ot(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Pt.prototype=zt.prototype,zt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Bt={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return It(100*t,e)},r:It,s:function(t,e){var n=Ot(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Vt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ot(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Rt(t){return t}var Yt,jt,Ft,Zt=Array.prototype.map,Ht=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ut(t){var e=t.domain;return t.ticks=function(t){var n=e();return d(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return function(t,e,n){var r,i=t[0],a=t[t.length-1],o=h(i,a,null==e?10:e);switch((n=Pt(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Lt(e)/3)))-Lt(Math.abs(t)))}(o,l))||(n.precision=r),Ft(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lt(e)-Lt(t))+1}(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-Lt(Math.abs(t)))}(o))||(n.precision=r-2*("%"===n.type))}return jt(n)}(e(),t,n)},t.nice=function(n){var r=e(),i=r.length-1,a=null==n?10:n,o=r[0],l=r[i],c=h(o,l,a);return c&&(c=h(Math.floor(o/c)*c,Math.ceil(l/c)*c,a),r[0]=Math.floor(o/c)*c,r[i]=Math.ceil(l/c)*c,e(r)),t},t}function Wt(){var t=Nt(At,N);return t.copy=function(){return Et(t,Wt())},Ut(t)}function qt(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=S.call(n,Mt),e):t.slice()},e.copy=function(){return qt().domain(t)},Ut(e)}function $t(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Gt(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:St(e)}function Xt(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Qt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kt(t){return 10===t?Qt:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Jt(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function te(t){return function(e){return-t(-e)}}function ee(){var t=Nt(Gt,Xt).domain([1,10]),e=t.domain,n=10,r=Jt(10),i=Kt(10);function a(){return r=Jt(n),i=Kt(n),e()[0]<0&&(r=te(r),i=te(i)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,o=e(),l=o[0],c=o[o.length-1];(a=c<l)&&(h=l,l=c,c=h);var s,u,f,h=r(l),g=r(c),p=null==t?10:+t,_=[];if(!(n%1)&&g-h<p){if(h=Math.round(h)-1,g=Math.round(g)+1,l>0){for(;h<g;++h)for(u=1,s=i(h);u<n;++u)if(!((f=s*u)<l)){if(f>c)break;_.push(f)}}else for(;h<g;++h)for(u=n-1,s=i(h);u>=1;--u)if(!((f=s*u)<l)){if(f>c)break;_.push(f)}}else _=d(h,g,Math.min(g-h,p)).map(i);return a?_.reverse():_},t.tickFormat=function(e,a){if(null==a&&(a=10===n?".0e":","),"function"!=typeof a&&(a=jt(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/i(Math.round(r(t)));return e*n<n-.5&&(e*=n),e<=o?a(t):""}},t.nice=function(){return e($t(e(),{floor:function(t){return i(Math.floor(r(t)))},ceil:function(t){return i(Math.ceil(r(t)))}}))},t.copy=function(){return Et(t,ee().base(n))},t}function ne(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function re(){var t=1,e=Nt((function(e,n){return(n=ne(n,t)-(e=ne(e,t)))?function(r){return(ne(r,t)-e)/n}:St(n)}),(function(e,n){return n=ne(n,t)-(e=ne(e,t)),function(r){return ne(e+n*r,1/t)}})),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return Et(e,re().exponent(t))},Ut(e)}function ie(){return re().exponent(.5)}function ae(){var t=[],e=[],n=[];function i(){var r=0,i=Math.max(1,e.length);for(n=new Array(i-1);++r<i;)n[r-1]=p(t,r/i);return a}function a(t){if(!isNaN(t=+t))return e[l(n,t)]}return a.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,a=0,o=e.length;a<o;++a)null==(n=e[a])||isNaN(n=+n)||t.push(n);return t.sort(r),i()},a.range=function(t){return arguments.length?(e=M.call(t),i()):e.slice()},a.quantiles=function(){return n.slice()},a.copy=function(){return ae().domain(t).range(e)},a}function oe(){var t=0,e=1,n=1,r=[.5],i=[0,1];function a(t){if(t<=t)return i[l(r,t,0,n)]}function o(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*e-(i-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],o()):[t,e]},a.range=function(t){return arguments.length?(n=(i=M.call(t)).length-1,o()):i.slice()},a.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=n?[r[n-1],e]:[r[o-1],r[o]]},a.copy=function(){return oe().domain([t,e]).range(i)},Ut(a)}function le(){var t=[.5],e=[0,1],n=1;function r(r){if(r<=r)return e[l(t,r,0,n)]}return r.domain=function(i){return arguments.length?(t=M.call(i),n=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(i){return arguments.length?(e=M.call(i),n=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},r.copy=function(){return le().domain(t).range(e)},r}Yt=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Rt:(e=Zt.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(t.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Rt:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Zt.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Pt(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,g=t.width,p=t.comma,_=t.precision,b=t.trim,m=t.type;"n"===m?(p=!0,m="g"):Bt[m]||(void 0===_&&(_=12),b=!0,m="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===d?a:/[%p]/.test(m)?c:"",w=Bt[m],x=/[defgprs%]/.test(m);function S(t){var i,a,c,d=v,S=y;if("c"===m)S=w(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),_),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),d=(M?"("===f?f:s:"-"===f||"("===f?"":f)+d,S=("s"===m?Ht[8+Vt/3]:"")+S+(M&&"("===f?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){S=(46===c?o+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}p&&!h&&(t=r(t,1/0));var k=d.length+t.length+S.length,A=k<g?new Array(g-k+1).join(e):"";switch(p&&h&&(t=r(A+t,A.length?g-S.length:1/0),A=""),n){case"<":t=d+t+S+A;break;case"=":t=d+A+t+S;break;case"^":t=A.slice(0,k=A.length>>1)+d+t+S+A.slice(k);break;default:t=A+d+t+S}return l(t)}return _=void 0===_?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),S.toString=function(){return t+""},S}return{format:f,formatPrefix:function(t,e){var n=f(((t=Pt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Lt(e)/3))),i=Math.pow(10,-r),a=Ht[8+r/3];return function(t){return n(i*t)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),jt=Yt.format,Ft=Yt.formatPrefix;var ce=new Date,se=new Date;function ue(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,l=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return l;do{l.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return l},i.filter=function(n){return ue((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return ce.setTime(+e),se.setTime(+r),t(ce),t(se),Math.floor(n(ce,se))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var fe=ue((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));fe.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ue((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const de=fe;fe.range;var he=ue((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const ge=he;he.range;var pe=1e3,_e=6e4,be=36e5,me=864e5,ve=6048e5;function ye(t){return ue((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_e)/ve}))}var we=ye(0),xe=ye(1),Se=ye(2),Me=ye(3),ke=ye(4),Ae=ye(5),Ce=ye(6),Te=(we.range,xe.range,Se.range,Me.range,ke.range,Ae.range,Ce.range,ue((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_e)/me}),(function(t){return t.getDate()-1})));const Ee=Te;Te.range;var Ne=ue((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pe-t.getMinutes()*_e)}),(function(t,e){t.setTime(+t+e*be)}),(function(t,e){return(e-t)/be}),(function(t){return t.getHours()}));const Ve=Ne;Ne.range;var De=ue((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pe)}),(function(t,e){t.setTime(+t+e*_e)}),(function(t,e){return(e-t)/_e}),(function(t){return t.getMinutes()}));const Pe=De;De.range;var ze=ue((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*pe)}),(function(t,e){return(e-t)/pe}),(function(t){return t.getUTCSeconds()}));const Oe=ze;ze.range;var Le=ue((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Le.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ue((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Le:null};const Ie=Le;function Be(t){return ue((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/ve}))}Le.range;var Re=Be(0),Ye=Be(1),je=Be(2),Fe=Be(3),Ze=Be(4),He=Be(5),Ue=Be(6),We=(Re.range,Ye.range,je.range,Fe.range,Ze.range,He.range,Ue.range,ue((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/me}),(function(t){return t.getUTCDate()-1})));const qe=We;We.range;var $e=ue((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));$e.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ue((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Ge=$e;function Xe(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qe(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ke(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}$e.range;var Je,tn,en,nn={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,an=/^%/,on=/[\\^$*+?|[\]().{}]/g;function ln(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function cn(t){return t.replace(on,"\\$&")}function sn(t){return new RegExp("^(?:"+t.map(cn).join("|")+")","i")}function un(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function fn(t,e,n){var r=rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dn(t,e,n){var r=rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _n(t,e,n){var r=rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vn(t,e,n){var r=rn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function yn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xn(t,e,n){var r=rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Sn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kn(t,e,n){var r=rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function An(t,e,n){var r=rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cn(t,e,n){var r=rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tn(t,e,n){var r=an.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function En(t,e,n){var r=rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nn(t,e,n){var r=rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Vn(t,e){return ln(t.getDate(),e,2)}function Dn(t,e){return ln(t.getHours(),e,2)}function Pn(t,e){return ln(t.getHours()%12||12,e,2)}function zn(t,e){return ln(1+Ee.count(de(t),t),e,3)}function On(t,e){return ln(t.getMilliseconds(),e,3)}function Ln(t,e){return On(t,e)+"000"}function In(t,e){return ln(t.getMonth()+1,e,2)}function Bn(t,e){return ln(t.getMinutes(),e,2)}function Rn(t,e){return ln(t.getSeconds(),e,2)}function Yn(t){var e=t.getDay();return 0===e?7:e}function jn(t,e){return ln(we.count(de(t)-1,t),e,2)}function Fn(t){var e=t.getDay();return e>=4||0===e?ke(t):ke.ceil(t)}function Zn(t,e){return t=Fn(t),ln(ke.count(de(t),t)+(4===de(t).getDay()),e,2)}function Hn(t){return t.getDay()}function Un(t,e){return ln(xe.count(de(t)-1,t),e,2)}function Wn(t,e){return ln(t.getFullYear()%100,e,2)}function qn(t,e){return ln((t=Fn(t)).getFullYear()%100,e,2)}function $n(t,e){return ln(t.getFullYear()%1e4,e,4)}function Gn(t,e){var n=t.getDay();return ln((t=n>=4||0===n?ke(t):ke.ceil(t)).getFullYear()%1e4,e,4)}function Xn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ln(e/60|0,"0",2)+ln(e%60,"0",2)}function Qn(t,e){return ln(t.getUTCDate(),e,2)}function Kn(t,e){return ln(t.getUTCHours(),e,2)}function Jn(t,e){return ln(t.getUTCHours()%12||12,e,2)}function tr(t,e){return ln(1+qe.count(Ge(t),t),e,3)}function er(t,e){return ln(t.getUTCMilliseconds(),e,3)}function nr(t,e){return er(t,e)+"000"}function rr(t,e){return ln(t.getUTCMonth()+1,e,2)}function ir(t,e){return ln(t.getUTCMinutes(),e,2)}function ar(t,e){return ln(t.getUTCSeconds(),e,2)}function or(t){var e=t.getUTCDay();return 0===e?7:e}function lr(t,e){return ln(Re.count(Ge(t)-1,t),e,2)}function cr(t){var e=t.getUTCDay();return e>=4||0===e?Ze(t):Ze.ceil(t)}function sr(t,e){return t=cr(t),ln(Ze.count(Ge(t),t)+(4===Ge(t).getUTCDay()),e,2)}function ur(t){return t.getUTCDay()}function fr(t,e){return ln(Ye.count(Ge(t)-1,t),e,2)}function dr(t,e){return ln(t.getUTCFullYear()%100,e,2)}function hr(t,e){return ln((t=cr(t)).getUTCFullYear()%100,e,2)}function gr(t,e){return ln(t.getUTCFullYear()%1e4,e,4)}function pr(t,e){var n=t.getUTCDay();return ln((t=n>=4||0===n?Ze(t):Ze.ceil(t)).getUTCFullYear()%1e4,e,4)}function _r(){return"+0000"}function br(){return"%"}function mr(t){return+t}function vr(t){return Math.floor(+t/1e3)}Je=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,s=sn(i),u=un(i),f=sn(a),d=un(a),h=sn(o),g=un(o),p=sn(l),_=un(l),b=sn(c),m=un(c),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:Vn,e:Vn,f:Ln,g:qn,G:Gn,H:Dn,I:Pn,j:zn,L:On,m:In,M:Bn,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:mr,s:vr,S:Rn,u:Yn,U:jn,V:Zn,w:Hn,W:Un,x:null,X:null,y:Wn,Y:$n,Z:Xn,"%":br},y={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Qn,e:Qn,f:nr,g:hr,G:pr,H:Kn,I:Jn,j:tr,L:er,m:rr,M:ir,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:mr,s:vr,S:ar,u:or,U:lr,V:sr,w:ur,W:fr,x:null,X:null,y:dr,Y:gr,Z:_r,"%":br},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:wn,e:wn,f:Cn,g:bn,G:_n,H:Sn,I:Sn,j:xn,L:An,m:yn,M:Mn,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:vn,Q:En,s:Nn,S:kn,u:dn,U:hn,V:gn,w:fn,W:pn,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:bn,Y:_n,Z:mn,"%":Tn};function x(t,e){return function(n){var r,i,a,o=[],l=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===t.charCodeAt(l)&&(o.push(t.slice(c,l)),null!=(i=nn[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),c=l+1);return o.push(t.slice(c,l)),o.join("")}}function S(t,e){return function(n){var r,i,a=Ke(1900,void 0,1);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Qe(Ke(a.y,0,1))).getUTCDay(),r=i>4||0===i?Ye.ceil(r):Ye(r),r=qe.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Xe(Ke(a.y,0,1))).getDay(),r=i>4||0===i?xe.ceil(r):xe(r),r=Ee.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Qe(Ke(a.y,0,1)).getUTCDay():Xe(Ke(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Qe(a)):Xe(a)}}function M(t,e,n,r){for(var i,a,o=0,l=e.length,c=n.length;o<l;){if(r>=c)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=w[i in nn?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),tn=Je.format,Je.parse,en=Je.utcFormat,Je.utcParse;var yr=31536e6;function wr(t){return new Date(t)}function xr(t){return t instanceof Date?+t:+new Date(+t)}function Sr(t,e,n,r,a,o,l,c,s){var u=Nt(At,N),f=u.invert,d=u.domain,g=s(".%L"),p=s(":%S"),_=s("%I:%M"),b=s("%I %p"),m=s("%a %d"),v=s("%b %d"),y=s("%B"),w=s("%Y"),x=[[l,1,1e3],[l,5,5e3],[l,15,15e3],[l,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,yr]];function M(i){return(l(i)<i?g:o(i)<i?p:a(i)<i?_:r(i)<i?b:e(i)<i?n(i)<i?m:v:t(i)<i?y:w)(i)}function k(e,n,r,a){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,l=i((function(t){return t[2]})).right(x,o);l===x.length?(a=h(n/yr,r/yr,e),e=t):l?(a=(l=x[o/x[l-1][2]<x[l][2]/o?l-1:l])[1],e=l[0]):(a=h(n,r,e),e=c)}return null==a?e:e.every(a)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?d(S.call(t,xr)):d().map(wr)},u.ticks=function(t,e){var n,r=d(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=k(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},u.tickFormat=function(t,e){return null==e?M:s(e)},u.nice=function(t,e){var n=d();return(t=k(t,n[0],n[n.length-1],e))?d($t(n,t)):u},u.copy=function(){return Et(u,Sr(t,e,n,r,a,o,l,c,s))},u}function Mr(){return Sr(de,ge,we,Ee,Ve,Pe,Oe,Ie,tn).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}var kr=ue((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Ar=kr;kr.range;var Cr=ue((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*be)}),(function(t,e){return(e-t)/be}),(function(t){return t.getUTCHours()}));const Tr=Cr;Cr.range;var Er=ue((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*_e)}),(function(t,e){return(e-t)/_e}),(function(t){return t.getUTCMinutes()}));const Nr=Er;function Vr(){return Sr(Ge,Ar,Re,qe,Tr,Nr,Oe,Ie,en).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function Dr(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}Er.range;const Pr=Dr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zr=Dr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Or=Dr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Lr=Dr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Ir=Math.PI/180,Br=180/Math.PI,Rr=-.14861,Yr=1.78277,jr=-.29227,Fr=-.90649,Zr=1.97294,Hr=Zr*Fr,Ur=Zr*Yr,Wr=Yr*jr-Fr*Rr;function qr(t){if(t instanceof Gr)return new Gr(t.h,t.s,t.l,t.opacity);t instanceof tt||(t=K(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Wr*r+Hr*e-Ur*n)/(Wr+Hr-Ur),a=r-i,o=(Zr*(n-i)-jr*a)/Fr,l=Math.sqrt(o*o+a*a)/(Zr*i*(1-i)),c=l?Math.atan2(o,a)*Br-120:NaN;return new Gr(c<0?c+360:c,l,i,t.opacity)}function $r(t,e,n,r){return 1===arguments.length?qr(t):new Gr(t,e,n,null==r?1:r)}function Gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Xr(t){return function e(n){function r(e,r){var i=t((e=$r(e)).h,(r=$r(r)).h),a=ft(e.s,r.s),o=ft(e.l,r.l),l=ft(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}V(Gr,$r,D(P,{brighter:function(t){return t=null==t?O:Math.pow(O,t),new Gr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?z:Math.pow(z,t),new Gr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ir,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new tt(255*(e+n*(Rr*r+Yr*i)),255*(e+n*(jr*r+Fr*i)),255*(e+n*(Zr*r)),this.opacity)}})),Xr((function(t,e){var n=e-t;return n?ut(t,n>180||n<-180?n-360*Math.round(n/360):n):st(isNaN(t)?e:t)}));var Qr=Xr(ft);const Kr=Qr($r(300,.5,0),$r(-240,.5,1));var Jr=Qr($r(-100,.75,.35),$r(80,1.5,.8)),ti=Qr($r(260,.75,.35),$r(80,1.5,.8)),ei=$r();function ni(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ei.h=360*t-100,ei.s=1.5-1.5*e,ei.l=.8-.9*e,ei+""}function ri(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const ii=ri(Dr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ai=ri(Dr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),oi=ri(Dr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),li=ri(Dr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ci(t){var e=0,n=1,r=!1;function i(i){var a=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,a)):a)}return i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return ci(t).domain([e,n]).clamp(r)},Ut(i)}},3414:(t,e,n)=>{"use strict";function r(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}n.d(e,{Z:()=>r})},6737:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(7519),i=n(556);function a(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.P&&e.documentElement.namespaceURI===i.P?e.createElement(t):e.createElementNS(n,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function l(t){var e=(0,r.Z)(t);return(e.local?o:a)(e)}},8040:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>a,creator:()=>r.Z,local:()=>l,matcher:()=>s.Z,namespace:()=>u.Z,namespaces:()=>f.Z,pointer:()=>d.Z,pointers:()=>g,select:()=>i.Z,selectAll:()=>b,selection:()=>_.ZP,selector:()=>m.Z,selectorAll:()=>v.Z,style:()=>y.S,window:()=>w.Z});var r=n(6737),i=n(8063);function a(t){return(0,i.Z)((0,r.Z)(t).call(document.documentElement))}var o=0;function l(){return new c}function c(){this._="@"+(++o).toString(36)}c.prototype=l.prototype={constructor:c,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var s=n(5548),u=n(7519),f=n(556),d=n(7227),h=n(6147);function g(t,e){return t.target&&(t=(0,h.Z)(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>(0,d.Z)(t,e)))}var p=n(3414),_=n(4847);function b(t){return"string"==typeof t?new _.Y1([document.querySelectorAll(t)],[document.documentElement]):new _.Y1([(0,p.Z)(t)],_.Jz)}var m=n(6222),v=n(2200),y=n(5683),w=n(330)},5548:(t,e,n)=>{"use strict";function r(t){return function(){return this.matches(t)}}function i(t){return function(e){return e.matches(t)}}n.d(e,{Z:()=>r,P:()=>i})},7519:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(556);function i(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.Z.hasOwnProperty(e)?{space:r.Z[e],local:t}:t}},556:(t,e,n)=>{"use strict";n.d(e,{P:()=>r,Z:()=>i});var r="http://www.w3.org/1999/xhtml";const i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},7227:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(6147);function i(t,e){if(t=(0,r.Z)(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}},8063:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(4847);function i(t){return"string"==typeof t?new r.Y1([[document.querySelector(t)]],[document.documentElement]):new r.Y1([[t]],r.Jz)}},4847:(t,e,n)=>{"use strict";n.d(e,{Y1:()=>at,ZP:()=>lt,Jz:()=>it});var r=n(6222),i=n(3414),a=n(2200),o=n(5548),l=Array.prototype.find;function c(){return this.firstElementChild}var s=Array.prototype.filter;function u(){return Array.from(this.children)}function f(t){return new Array(t.length)}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function h(t){return function(){return t}}function g(t,e,n,r,i,a){for(var o,l=0,c=e.length,s=a.length;l<s;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new d(t,a[l]);for(;l<c;++l)(o=e[l])&&(i[l]=o)}function p(t,e,n,r,i,a,o){var l,c,s,u=new Map,f=e.length,h=a.length,g=new Array(f);for(l=0;l<f;++l)(c=e[l])&&(g[l]=s=o.call(c,c.__data__,l,e)+"",u.has(s)?i[l]=c:u.set(s,c));for(l=0;l<h;++l)s=o.call(t,a[l],l,a)+"",(c=u.get(s))?(r[l]=c,c.__data__=a[l],u.delete(s)):n[l]=new d(t,a[l]);for(l=0;l<f;++l)(c=e[l])&&u.get(g[l])===c&&(i[l]=c)}function _(t){return t.__data__}function b(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v=n(7519);function y(t){return function(){this.removeAttribute(t)}}function w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function x(t,e){return function(){this.setAttribute(t,e)}}function S(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function M(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var A=n(5683);function C(t){return function(){delete this[t]}}function T(t,e){return function(){this[t]=e}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function N(t){return t.trim().split(/^|\s+/)}function V(t){return t.classList||new D(t)}function D(t){this._node=t,this._names=N(t.getAttribute("class")||"")}function P(t,e){for(var n=V(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function z(t,e){for(var n=V(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function O(t){return function(){P(this,t)}}function L(t){return function(){z(this,t)}}function I(t,e){return function(){(e.apply(this,arguments)?P:z)(this,t)}}function B(){this.textContent=""}function R(t){return function(){this.textContent=t}}function Y(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function j(){this.innerHTML=""}function F(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function H(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}D.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var W=n(6737);function q(){return null}function $(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function X(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Q(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function K(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function J(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}var tt=n(330);function et(t,e,n){var r=(0,tt.Z)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nt(t,e){return function(){return et(this,t,e)}}function rt(t,e){return function(){return et(this,t,e.apply(this,arguments))}}var it=[null];function at(t,e){this._groups=t,this._parents=e}function ot(){return new at([[document.documentElement]],it)}at.prototype=ot.prototype={constructor:at,select:function(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var o,l,c=e[a],s=c.length,u=i[a]=new Array(s),f=0;f<s;++f)(o=c[f])&&(l=t.call(o,o.__data__,f,c))&&("__data__"in o&&(l.__data__=o.__data__),u[f]=l);return new at(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return(0,i.Z)(t.apply(this,arguments))}}(t):(0,a.Z)(t);for(var e=this._groups,n=e.length,r=[],o=[],l=0;l<n;++l)for(var c,s=e[l],u=s.length,f=0;f<u;++f)(c=s[f])&&(r.push(t.call(c,c.__data__,f,s)),o.push(c));return new at(r,o)},selectChild:function(t){return this.select(null==t?c:function(t){return function(){return l.call(this.children,t)}}("function"==typeof t?t:(0,o.P)(t)))},selectChildren:function(t){return this.selectAll(null==t?u:function(t){return function(){return s.call(this.children,t)}}("function"==typeof t?t:(0,o.P)(t)))},filter:function(t){"function"!=typeof t&&(t=(0,o.Z)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,l=e[i],c=l.length,s=r[i]=[],u=0;u<c;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&s.push(a);return new at(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,_);var n=e?p:g,r=this._parents,i=this._groups;"function"!=typeof t&&(t=h(t));for(var a=i.length,o=new Array(a),l=new Array(a),c=new Array(a),s=0;s<a;++s){var u=r[s],f=i[s],d=f.length,m=b(t.call(u,u&&u.__data__,s,r)),v=m.length,y=l[s]=new Array(v),w=o[s]=new Array(v),x=c[s]=new Array(d);n(u,f,y,w,x,m,e);for(var S,M,k=0,A=0;k<v;++k)if(S=y[k]){for(k>=A&&(A=k+1);!(M=w[A])&&++A<v;);S._next=M||null}}return(o=new at(o,r))._enter=l,o._exit=c,o},enter:function(){return new at(this._enter||this._groups.map(f),this._parents)},exit:function(){return new at(this._exit||this._groups.map(f),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),c=0;c<o;++c)for(var s,u=n[c],f=r[c],d=u.length,h=l[c]=new Array(d),g=0;g<d;++g)(s=u[g]||f[g])&&(h[g]=s);for(;c<i;++c)l[c]=n[c];return new at(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=m);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],c=l.length,s=i[a]=new Array(c),u=0;u<c;++u)(o=l[u])&&(s[u]=o);s.sort(e)}return new at(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=(0,v.Z)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?w:y:"function"==typeof e?n.local?k:M:n.local?S:x)(n,e))},style:A.Z,property:function(t,e){return arguments.length>1?this.each((null==e?C:"function"==typeof e?E:T)(t,e)):this.node()[t]},classed:function(t,e){var n=N(t+"");if(arguments.length<2){for(var r=V(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?I:e?O:L)(n,e))},text:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?Y:R)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?Z:F)(t)):this.node().innerHTML},raise:function(){return this.each(H)},lower:function(){return this.each(U)},append:function(t){var e="function"==typeof t?t:(0,W.Z)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:(0,W.Z)(t),i=null==e?q:"function"==typeof e?e:(0,r.Z)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each($)},clone:function(t){return this.select(t?X:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=Q(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?J:K,r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var c,s=0,u=l.length;s<u;++s)for(r=0,c=l[s];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?rt:nt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const lt=ot},5683:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l,S:()=>c});var r=n(330);function i(t){return function(){this.style.removeProperty(t)}}function a(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function l(t,e,n){return arguments.length>1?this.each((null==e?i:"function"==typeof e?o:a)(t,e,null==n?"":n)):c(this.node(),t)}function c(t,e){return t.style.getPropertyValue(e)||(0,r.Z)(t).getComputedStyle(t,null).getPropertyValue(e)}},6222:(t,e,n)=>{"use strict";function r(){}function i(t){return null==t?r:function(){return this.querySelector(t)}}n.d(e,{Z:()=>i})},2200:(t,e,n)=>{"use strict";function r(){return[]}function i(t){return null==t?r:function(){return this.querySelectorAll(t)}}n.d(e,{Z:()=>i})},6147:(t,e,n)=>{"use strict";function r(t){let e;for(;e=t.sourceEvent;)t=e;return t}n.d(e,{Z:()=>r})},330:(t,e,n)=>{"use strict";function r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}n.d(e,{Z:()=>r})},2317:(t,e,n)=>{"use strict";n.r(e),n.d(e,{arc:()=>k,area:()=>P,areaRadial:()=>F,curveBasis:()=>wt,curveBasisClosed:()=>St,curveBasisOpen:()=>kt,curveBumpX:()=>Ct,curveBumpY:()=>Tt,curveBundle:()=>Nt,curveCardinal:()=>Pt,curveCardinalClosed:()=>Ot,curveCardinalOpen:()=>It,curveCatmullRom:()=>Yt,curveCatmullRomClosed:()=>Ft,curveCatmullRomOpen:()=>Ht,curveLinear:()=>E,curveLinearClosed:()=>Wt,curveMonotoneX:()=>te,curveMonotoneY:()=>ee,curveNatural:()=>ie,curveStep:()=>oe,curveStepAfter:()=>ce,curveStepBefore:()=>le,line:()=>D,lineRadial:()=>j,linkHorizontal:()=>X,linkRadial:()=>K,linkVertical:()=>Q,pie:()=>L,pointRadial:()=>Z,radialArea:()=>F,radialLine:()=>j,stack:()=>he,stackOffsetDiverging:()=>pe,stackOffsetExpand:()=>ge,stackOffsetNone:()=>se,stackOffsetSilhouette:()=>_e,stackOffsetWiggle:()=>be,stackOrderAppearance:()=>me,stackOrderAscending:()=>ye,stackOrderDescending:()=>xe,stackOrderInsideOut:()=>Se,stackOrderNone:()=>ue,stackOrderReverse:()=>Me,symbol:()=>bt,symbolCircle:()=>J,symbolCross:()=>tt,symbolDiamond:()=>rt,symbolSquare:()=>ct,symbolStar:()=>lt,symbolTriangle:()=>ut,symbolWye:()=>pt,symbols:()=>_t});var r=n(1064);function i(t){return function(){return t}}var a=Math.abs,o=Math.atan2,l=Math.cos,c=Math.max,s=Math.min,u=Math.sin,f=Math.sqrt,d=1e-12,h=Math.PI,g=h/2,p=2*h;function _(t){return t>1?0:t<-1?h:Math.acos(t)}function b(t){return t>=1?g:t<=-1?-g:Math.asin(t)}function m(t){return t.innerRadius}function v(t){return t.outerRadius}function y(t){return t.startAngle}function w(t){return t.endAngle}function x(t){return t&&t.padAngle}function S(t,e,n,r,i,a,o,l){var c=n-t,s=r-e,u=o-i,f=l-a,h=f*c-u*s;if(!(h*h<d))return[t+(h=(u*(e-a)-f*(t-i))/h)*c,e+h*s]}function M(t,e,n,r,i,a,o){var l=t-n,s=e-r,u=(o?a:-a)/f(l*l+s*s),d=u*s,h=-u*l,g=t+d,p=e+h,_=n+d,b=r+h,m=(g+_)/2,v=(p+b)/2,y=_-g,w=b-p,x=y*y+w*w,S=i-a,M=g*b-_*p,k=(w<0?-1:1)*f(c(0,S*S*x-M*M)),A=(M*w-y*k)/x,C=(-M*y-w*k)/x,T=(M*w+y*k)/x,E=(-M*y+w*k)/x,N=A-m,V=C-v,D=T-m,P=E-v;return N*N+V*V>D*D+P*P&&(A=T,C=E),{cx:A,cy:C,x01:-d,y01:-h,x11:A*(i/S-1),y11:C*(i/S-1)}}function k(){var t=m,e=v,n=i(0),c=null,k=y,A=w,C=x,T=null;function E(){var i,m,v=+t.apply(this,arguments),y=+e.apply(this,arguments),w=k.apply(this,arguments)-g,x=A.apply(this,arguments)-g,E=a(x-w),N=x>w;if(T||(T=i=(0,r.Z)()),y<v&&(m=y,y=v,v=m),y>d)if(E>p-d)T.moveTo(y*l(w),y*u(w)),T.arc(0,0,y,w,x,!N),v>d&&(T.moveTo(v*l(x),v*u(x)),T.arc(0,0,v,x,w,N));else{var V,D,P=w,z=x,O=w,L=x,I=E,B=E,R=C.apply(this,arguments)/2,Y=R>d&&(c?+c.apply(this,arguments):f(v*v+y*y)),j=s(a(y-v)/2,+n.apply(this,arguments)),F=j,Z=j;if(Y>d){var H=b(Y/v*u(R)),U=b(Y/y*u(R));(I-=2*H)>d?(O+=H*=N?1:-1,L-=H):(I=0,O=L=(w+x)/2),(B-=2*U)>d?(P+=U*=N?1:-1,z-=U):(B=0,P=z=(w+x)/2)}var W=y*l(P),q=y*u(P),$=v*l(L),G=v*u(L);if(j>d){var X,Q=y*l(z),K=y*u(z),J=v*l(O),tt=v*u(O);if(E<h&&(X=S(W,q,J,tt,Q,K,$,G))){var et=W-X[0],nt=q-X[1],rt=Q-X[0],it=K-X[1],at=1/u(_((et*rt+nt*it)/(f(et*et+nt*nt)*f(rt*rt+it*it)))/2),ot=f(X[0]*X[0]+X[1]*X[1]);F=s(j,(v-ot)/(at-1)),Z=s(j,(y-ot)/(at+1))}}B>d?Z>d?(V=M(J,tt,W,q,y,Z,N),D=M(Q,K,$,G,y,Z,N),T.moveTo(V.cx+V.x01,V.cy+V.y01),Z<j?T.arc(V.cx,V.cy,Z,o(V.y01,V.x01),o(D.y01,D.x01),!N):(T.arc(V.cx,V.cy,Z,o(V.y01,V.x01),o(V.y11,V.x11),!N),T.arc(0,0,y,o(V.cy+V.y11,V.cx+V.x11),o(D.cy+D.y11,D.cx+D.x11),!N),T.arc(D.cx,D.cy,Z,o(D.y11,D.x11),o(D.y01,D.x01),!N))):(T.moveTo(W,q),T.arc(0,0,y,P,z,!N)):T.moveTo(W,q),v>d&&I>d?F>d?(V=M($,G,Q,K,v,-F,N),D=M(W,q,J,tt,v,-F,N),T.lineTo(V.cx+V.x01,V.cy+V.y01),F<j?T.arc(V.cx,V.cy,F,o(V.y01,V.x01),o(D.y01,D.x01),!N):(T.arc(V.cx,V.cy,F,o(V.y01,V.x01),o(V.y11,V.x11),!N),T.arc(0,0,v,o(V.cy+V.y11,V.cx+V.x11),o(D.cy+D.y11,D.cx+D.x11),N),T.arc(D.cx,D.cy,F,o(D.y11,D.x11),o(D.y01,D.x01),!N))):T.arc(0,0,v,L,O,N):T.lineTo($,G)}else T.moveTo(0,0);if(T.closePath(),i)return T=null,i+""||null}return E.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+k.apply(this,arguments)+ +A.apply(this,arguments))/2-h/2;return[l(r)*n,u(r)*n]},E.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),E):t},E.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),E):e},E.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),E):n},E.padRadius=function(t){return arguments.length?(c=null==t?null:"function"==typeof t?t:i(+t),E):c},E.startAngle=function(t){return arguments.length?(k="function"==typeof t?t:i(+t),E):k},E.endAngle=function(t){return arguments.length?(A="function"==typeof t?t:i(+t),E):A},E.padAngle=function(t){return arguments.length?(C="function"==typeof t?t:i(+t),E):C},E.context=function(t){return arguments.length?(T=null==t?null:t,E):T},E}var A=Array.prototype.slice;function C(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function T(t){this._context=t}function E(t){return new T(t)}function N(t){return t[0]}function V(t){return t[1]}function D(t,e){var n=i(!0),a=null,o=E,l=null;function c(i){var c,s,u,f=(i=C(i)).length,d=!1;for(null==a&&(l=o(u=(0,r.Z)())),c=0;c<=f;++c)!(c<f&&n(s=i[c],c,i))===d&&((d=!d)?l.lineStart():l.lineEnd()),d&&l.point(+t(s,c,i),+e(s,c,i));if(u)return l=null,u+""||null}return t="function"==typeof t?t:void 0===t?N:i(t),e="function"==typeof e?e:void 0===e?V:i(e),c.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),c):e},c.defined=function(t){return arguments.length?(n="function"==typeof t?t:i(!!t),c):n},c.curve=function(t){return arguments.length?(o=t,null!=a&&(l=o(a)),c):o},c.context=function(t){return arguments.length?(null==t?a=l=null:l=o(a=t),c):a},c}function P(t,e,n){var a=null,o=i(!0),l=null,c=E,s=null;function u(i){var u,f,d,h,g,p=(i=C(i)).length,_=!1,b=new Array(p),m=new Array(p);for(null==l&&(s=c(g=(0,r.Z)())),u=0;u<=p;++u){if(!(u<p&&o(h=i[u],u,i))===_)if(_=!_)f=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=f;--d)s.point(b[d],m[d]);s.lineEnd(),s.areaEnd()}_&&(b[u]=+t(h,u,i),m[u]=+e(h,u,i),s.point(a?+a(h,u,i):b[u],n?+n(h,u,i):m[u]))}if(g)return s=null,g+""||null}function f(){return D().defined(o).curve(c).context(l)}return t="function"==typeof t?t:void 0===t?N:i(+t),e="function"==typeof e?e:i(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?V:i(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),a=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),u):t},u.x1=function(t){return arguments.length?(a=null==t?null:"function"==typeof t?t:i(+t),u):a},u.y=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:i(+t),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(a).y(e)},u.defined=function(t){return arguments.length?(o="function"==typeof t?t:i(!!t),u):o},u.curve=function(t){return arguments.length?(c=t,null!=l&&(s=c(l)),u):c},u.context=function(t){return arguments.length?(null==t?l=s=null:s=c(l=t),u):l},u}function z(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function O(t){return t}function L(){var t=O,e=z,n=null,r=i(0),a=i(p),o=i(0);function l(i){var l,c,s,u,f,d=(i=C(i)).length,h=0,g=new Array(d),_=new Array(d),b=+r.apply(this,arguments),m=Math.min(p,Math.max(-p,a.apply(this,arguments)-b)),v=Math.min(Math.abs(m)/d,o.apply(this,arguments)),y=v*(m<0?-1:1);for(l=0;l<d;++l)(f=_[g[l]=l]=+t(i[l],l,i))>0&&(h+=f);for(null!=e?g.sort((function(t,n){return e(_[t],_[n])})):null!=n&&g.sort((function(t,e){return n(i[t],i[e])})),l=0,s=h?(m-d*y)/h:0;l<d;++l,b=u)c=g[l],u=b+((f=_[c])>0?f*s:0)+y,_[c]={data:i[c],index:l,value:f,startAngle:b,endAngle:u,padAngle:v};return _}return l.value=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),l):t},l.sortValues=function(t){return arguments.length?(e=t,n=null,l):e},l.sort=function(t){return arguments.length?(n=t,e=null,l):n},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),l):r},l.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),l):a},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),l):o},l}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var I=R(E);function B(t){this._curve=t}function R(t){function e(e){return new B(t(e))}return e._curve=t,e}function Y(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(R(t)):e()._curve},t}function j(){return Y(D().curve(I))}function F(){var t=P().curve(I),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Y(n())},delete t.lineX0,t.lineEndAngle=function(){return Y(r())},delete t.lineX1,t.lineInnerRadius=function(){return Y(i())},delete t.lineY0,t.lineOuterRadius=function(){return Y(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(R(t)):e()._curve},t}function Z(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function H(t){return t.source}function U(t){return t.target}function W(t){var e=H,n=U,a=N,o=V,l=null;function c(){var i,c=A.call(arguments),s=e.apply(this,c),u=n.apply(this,c);if(l||(l=i=(0,r.Z)()),t(l,+a.apply(this,(c[0]=s,c)),+o.apply(this,c),+a.apply(this,(c[0]=u,c)),+o.apply(this,c)),i)return l=null,i+""||null}return c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.x=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),c):a},c.y=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),c):o},c.context=function(t){return arguments.length?(l=null==t?null:t,c):l},c}function q(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function $(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function G(t,e,n,r,i){var a=Z(e,n),o=Z(e,n=(n+i)/2),l=Z(r,n),c=Z(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}function X(){return W(q)}function Q(){return W($)}function K(){var t=W(G);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}B.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};const J={draw:function(t,e){var n=Math.sqrt(e/h);t.moveTo(n,0),t.arc(0,0,n,0,p)}},tt={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var et=Math.sqrt(1/3),nt=2*et;const rt={draw:function(t,e){var n=Math.sqrt(e/nt),r=n*et;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var it=Math.sin(h/10)/Math.sin(7*h/10),at=Math.sin(p/10)*it,ot=-Math.cos(p/10)*it;const lt={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=at*n,i=ot*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=p*a/5,l=Math.cos(o),c=Math.sin(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},ct={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var st=Math.sqrt(3);const ut={draw:function(t,e){var n=-Math.sqrt(e/(3*st));t.moveTo(0,2*n),t.lineTo(-st*n,-n),t.lineTo(st*n,-n),t.closePath()}};var ft=-.5,dt=Math.sqrt(3)/2,ht=1/Math.sqrt(12),gt=3*(ht/2+1);const pt={draw:function(t,e){var n=Math.sqrt(e/gt),r=n/2,i=n*ht,a=r,o=n*ht+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(ft*r-dt*i,dt*r+ft*i),t.lineTo(ft*a-dt*o,dt*a+ft*o),t.lineTo(ft*l-dt*c,dt*l+ft*c),t.lineTo(ft*r+dt*i,ft*i-dt*r),t.lineTo(ft*a+dt*o,ft*o-dt*a),t.lineTo(ft*l+dt*c,ft*c-dt*l),t.closePath()}};var _t=[J,tt,rt,ct,lt,ut,pt];function bt(t,e){var n=null;function a(){var i;if(n||(n=i=(0,r.Z)()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:i(t||J),e="function"==typeof e?e:i(void 0===e?64:+e),a.type=function(e){return arguments.length?(t="function"==typeof e?e:i(e),a):t},a.size=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),a):e},a.context=function(t){return arguments.length?(n=null==t?null:t,a):n},a}function mt(){}function vt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yt(t){this._context=t}function wt(t){return new yt(t)}function xt(t){this._context=t}function St(t){return new xt(t)}function Mt(t){this._context=t}function kt(t){return new Mt(t)}yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},xt.prototype={areaStart:mt,areaEnd:mt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class At{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function Ct(t){return new At(t,!0)}function Tt(t){return new At(t,!1)}function Et(t,e){this._basis=new yt(t),this._beta=e}Et.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,l=e[n]-a,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*o),this._beta*e[c]+(1-this._beta)*(a+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Nt=function t(e){function n(t){return 1===e?new yt(t):new Et(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Vt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Dt(t,e){this._context=t,this._k=(1-e)/6}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Vt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Pt=function t(e){function n(t){return new Dt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function zt(t,e){this._context=t,this._k=(1-e)/6}zt.prototype={areaStart:mt,areaEnd:mt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Vt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ot=function t(e){function n(t){return new zt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Lt(t,e){this._context=t,this._k=(1-e)/6}Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const It=function t(e){function n(t){return new Lt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Bt(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>d){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>d){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*s+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Rt(t,e){this._context=t,this._alpha=e}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Yt=function t(e){function n(t){return e?new Rt(t,e):new Dt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function jt(t,e){this._context=t,this._alpha=e}jt.prototype={areaStart:mt,areaEnd:mt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ft=function t(e){function n(t){return e?new jt(t,e):new zt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Zt(t,e){this._context=t,this._alpha=e}Zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ht=function t(e){function n(t){return e?new Zt(t,e):new Lt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ut(t){this._context=t}function Wt(t){return new Ut(t)}function qt(t){return t<0?-1:1}function $t(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(qt(a)+qt(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Gt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Xt(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function Qt(t){this._context=t}function Kt(t){this._context=new Jt(t)}function Jt(t){this._context=t}function te(t){return new Qt(t)}function ee(t){return new Kt(t)}function ne(t){this._context=t}function re(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ie(t){return new ne(t)}function ae(t,e){this._context=t,this._t=e}function oe(t){return new ae(t,.5)}function le(t){return new ae(t,0)}function ce(t){return new ae(t,1)}function se(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],l=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ue(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function fe(t,e){return t[e]}function de(t){const e=[];return e.key=t,e}function he(){var t=i([]),e=ue,n=se,r=fe;function a(i){var a,o,l=Array.from(t.apply(this,arguments),de),c=l.length,s=-1;for(const t of i)for(a=0,++s;a<c;++a)(l[a][s]=[0,+r(t,l[a].key,s,i)]).data=t;for(a=0,o=C(e(l));a<c;++a)l[o[a]].index=a;return n(l,o),l}return a.keys=function(e){return arguments.length?(t="function"==typeof e?e:i(Array.from(e)),a):t},a.value=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),a):r},a.order=function(t){return arguments.length?(e=null==t?ue:"function"==typeof t?t:i(Array.from(t)),a):e},a.offset=function(t){return arguments.length?(n=null==t?se:t,a):n},a}function ge(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}se(t,e)}}function pe(t,e){if((l=t.length)>0)for(var n,r,i,a,o,l,c=0,s=t[e[0]].length;c<s;++c)for(a=o=0,n=0;n<l;++n)(i=(r=t[e[n]][c])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function _e(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,l=0;o<n;++o)l+=t[o][r][1]||0;i[r][1]+=i[r][0]=-l/2}se(t,e)}}function be(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var l=0,c=0,s=0;l<i;++l){for(var u=t[e[l]],f=u[o][1]||0,d=(f-(u[o-1][1]||0))/2,h=0;h<l;++h){var g=t[e[h]];d+=(g[o][1]||0)-(g[o-1][1]||0)}c+=f,s+=d*f}n[o-1][1]+=n[o-1][0]=a,c&&(a-=s/c)}n[o-1][1]+=n[o-1][0]=a,se(t,e)}}function me(t){var e=t.map(ve);return ue(t).sort((function(t,n){return e[t]-e[n]}))}function ve(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}function ye(t){var e=t.map(we);return ue(t).sort((function(t,n){return e[t]-e[n]}))}function we(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function xe(t){return ye(t).reverse()}function Se(t){var e,n,r=t.length,i=t.map(we),a=me(t),o=0,l=0,c=[],s=[];for(e=0;e<r;++e)n=a[e],o<l?(o+=i[n],c.push(n)):(l+=i[n],s.push(n));return s.reverse().concat(c)}function Me(t){return ue(t).reverse()}Ut.prototype={areaStart:mt,areaEnd:mt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xt(this,this._t0,Gt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xt(this,Gt(this,n=$t(this,t,e)),n);break;default:Xt(this,this._t0,n=$t(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Kt.prototype=Object.create(Qt.prototype)).point=function(t,e){Qt.prototype.point.call(this,e,t)},Jt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=re(t),i=re(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}}},823:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,a:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.yB)/i.UD),(t=>t.getDate()-1));const o=a;var l=a.range},363:(t,e,n)=>{"use strict";n.d(e,{Ym:()=>r,yB:()=>i,Y2:()=>a,UD:()=>o,iM:()=>l,jz:()=>c,qz:()=>s});const r=1e3,i=60*r,a=60*i,o=24*a,l=7*o,c=30*o,s=365*o},3361:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,i:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*i.Ym-t.getMinutes()*i.yB)}),(function(t,e){t.setTime(+t+e*i.Y2)}),(function(t,e){return(e-t)/i.Y2}),(function(t){return t.getHours()}));const o=a;var l=a.range},4134:(t,e,n)=>{"use strict";n.r(e),n.d(e,{timeInterval:()=>r.Z,timeMillisecond:()=>i.Z,timeMilliseconds:()=>i.m,utcMillisecond:()=>i.Z,utcMilliseconds:()=>i.m,timeSecond:()=>a.Z,timeSeconds:()=>a.m,utcSecond:()=>a.Z,utcSeconds:()=>a.m,timeMinute:()=>o.Z,timeMinutes:()=>o.L,timeHour:()=>l.Z,timeHours:()=>l.i,timeDay:()=>c.Z,timeDays:()=>c.a,timeWeek:()=>s.OM,timeWeeks:()=>s.vm,timeSunday:()=>s.OM,timeSundays:()=>s.vm,timeMonday:()=>s.wA,timeMondays:()=>s.bJ,timeTuesday:()=>s.sy,timeTuesdays:()=>s.aU,timeWednesday:()=>s.zg,timeWednesdays:()=>s.Ld,timeThursday:()=>s.bL,timeThursdays:()=>s.$t,timeFriday:()=>s.mC,timeFridays:()=>s.b$,timeSaturday:()=>s.EY,timeSaturdays:()=>s.Ff,timeMonth:()=>u.Z,timeMonths:()=>u.e,timeYear:()=>f.Z,timeYears:()=>f.g,utcMinute:()=>d.Z,utcMinutes:()=>d.N,utcHour:()=>h.Z,utcHours:()=>h.X,utcDay:()=>g.Z,utcDays:()=>g.y,utcWeek:()=>p.Ox,utcWeeks:()=>p.SU,utcSunday:()=>p.Ox,utcSundays:()=>p.SU,utcMonday:()=>p.l6,utcMondays:()=>p.$3,utcTuesday:()=>p.J1,utcTuesdays:()=>p.DK,utcWednesday:()=>p.b3,utcWednesdays:()=>p.uy,utcThursday:()=>p.hB,utcThursdays:()=>p.xj,utcFriday:()=>p.QQ,utcFridays:()=>p.fz,utcSaturday:()=>p.g4,utcSaturdays:()=>p.Q_,utcMonth:()=>_.Z,utcMonths:()=>_.K,utcYear:()=>b.Z,utcYears:()=>b.D,utcTicks:()=>m.WG,utcTickInterval:()=>m.jo,timeTicks:()=>m.jK,timeTickInterval:()=>m._g});var r=n(1501),i=n(1634),a=n(1960),o=n(2699),l=n(3361),c=n(823),s=n(4833),u=n(2655),f=n(5130),d=n(8244),h=n(990),g=n(3056),p=n(5635),_=n(5957),b=n(551),m=n(3942)},1501:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=new Date,i=new Date;function a(t,e,n,o){function l(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return l.floor=function(e){return t(e=new Date(+e)),e},l.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},l.round=function(t){var e=l(t),n=l.ceil(t);return t-e<n-t?e:n},l.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},l.range=function(n,r,i){var a,o=[];if(n=l.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return o},l.filter=function(n){return a((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(l.count=function(e,a){return r.setTime(+e),i.setTime(+a),t(r),t(i),Math.floor(n(r,i))},l.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?l.filter(o?function(e){return o(e)%t==0}:function(e){return l.count(0,e)%t==0}):l:null}),l}},1634:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a,m:()=>o});var r=n(1501),i=(0,r.Z)((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?(0,r.Z)((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):i:null};const a=i;var o=i.range},2699:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,L:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*i.Ym)}),(function(t,e){t.setTime(+t+e*i.yB)}),(function(t,e){return(e-t)/i.yB}),(function(t){return t.getMinutes()}));const o=a;var l=a.range},2655:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i,e:()=>a});var r=(0,n(1501).Z)((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const i=r;var a=r.range},1960:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,m:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*i.Ym)}),(function(t,e){return(e-t)/i.Ym}),(function(t){return t.getUTCSeconds()}));const o=a;var l=a.range},3942:(t,e,n)=>{"use strict";n.d(e,{WG:()=>w,jo:()=>x,jK:()=>S,_g:()=>M});var r=n(2922),i=n(6320),a=n(363),o=n(1634),l=n(1960),c=n(2699),s=n(3361),u=n(823),f=n(4833),d=n(2655),h=n(5130),g=n(8244),p=n(990),_=n(3056),b=n(5635),m=n(5957),v=n(551);function y(t,e,n,c,s,u){const f=[[l.Z,1,a.Ym],[l.Z,5,5*a.Ym],[l.Z,15,15*a.Ym],[l.Z,30,30*a.Ym],[u,1,a.yB],[u,5,5*a.yB],[u,15,15*a.yB],[u,30,30*a.yB],[s,1,a.Y2],[s,3,3*a.Y2],[s,6,6*a.Y2],[s,12,12*a.Y2],[c,1,a.UD],[c,2,2*a.UD],[n,1,a.iM],[e,1,a.jz],[e,3,3*a.jz],[t,1,a.qz]];function d(e,n,l){const c=Math.abs(n-e)/l,s=(0,r.Z)((([,,t])=>t)).right(f,c);if(s===f.length)return t.every((0,i.ly)(e/a.qz,n/a.qz,l));if(0===s)return o.Z.every(Math.max((0,i.ly)(e,n,l),1));const[u,d]=f[c/f[s-1][2]<f[s][2]/c?s-1:s];return u.every(d)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:d(t,e,n),a=i?i.range(t,+e+1):[];return r?a.reverse():a},d]}const[w,x]=y(v.Z,m.Z,b.Ox,_.Z,p.Z,g.Z),[S,M]=y(h.Z,d.Z,f.OM,u.Z,s.Z,c.Z)},3056:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,y:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/i.UD}),(function(t){return t.getUTCDate()-1}));const o=a;var l=a.range},990:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,X:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*i.Y2)}),(function(t,e){return(e-t)/i.Y2}),(function(t){return t.getUTCHours()}));const o=a;var l=a.range},8244:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,N:()=>l});var r=n(1501),i=n(363),a=(0,r.Z)((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*i.yB)}),(function(t,e){return(e-t)/i.yB}),(function(t){return t.getUTCMinutes()}));const o=a;var l=a.range},5957:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i,K:()=>a});var r=(0,n(1501).Z)((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const i=r;var a=r.range},5635:(t,e,n)=>{"use strict";n.d(e,{Ox:()=>o,l6:()=>l,J1:()=>c,b3:()=>s,hB:()=>u,QQ:()=>f,g4:()=>d,SU:()=>h,$3:()=>g,DK:()=>p,uy:()=>_,xj:()=>b,fz:()=>m,Q_:()=>v});var r=n(1501),i=n(363);function a(t){return(0,r.Z)((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/i.iM}))}var o=a(0),l=a(1),c=a(2),s=a(3),u=a(4),f=a(5),d=a(6),h=o.range,g=l.range,p=c.range,_=s.range,b=u.range,m=f.range,v=d.range},551:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a,D:()=>o});var r=n(1501),i=(0,r.Z)((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?(0,r.Z)((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const a=i;var o=i.range},4833:(t,e,n)=>{"use strict";n.d(e,{OM:()=>o,wA:()=>l,sy:()=>c,zg:()=>s,bL:()=>u,mC:()=>f,EY:()=>d,vm:()=>h,bJ:()=>g,aU:()=>p,Ld:()=>_,$t:()=>b,b$:()=>m,Ff:()=>v});var r=n(1501),i=n(363);function a(t){return(0,r.Z)((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.yB)/i.iM}))}var o=a(0),l=a(1),c=a(2),s=a(3),u=a(4),f=a(5),d=a(6),h=o.range,g=l.range,p=c.range,_=s.range,b=u.range,m=f.range,v=d.range},5130:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a,g:()=>o});var r=n(1501),i=(0,r.Z)((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?(0,r.Z)((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const a=i;var o=i.range},7190:(t,e,n)=>{"use strict";n.d(e,{e1:()=>E});var r,i,a=n(4847),o=n(8086),l=0,c=0,s=0,u=0,f=0,d=0,h="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return f||(g(_),f=h.now()+d)}function _(){f=0}function b(){this._call=this._time=this._next=null}function m(t,e,n){var r=new b;return r.restart(t,e,n),r}function v(){f=(u=h.now())+d,l=c=0;try{!function(){p(),++l;for(var t,e=r;e;)(t=f-e._time)>=0&&e._call.call(void 0,t),e=e._next;--l}()}finally{l=0,function(){for(var t,e,n=r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,w(a)}(),f=0}}function y(){var t=h.now(),e=t-u;e>1e3&&(d-=e,u=t)}function w(t){l||(c&&(c=clearTimeout(c)),t-f>24?(t<1/0&&(c=setTimeout(v,t-h.now()-d)),s&&(s=clearInterval(s))):(s||(u=h.now(),s=setInterval(y,1e3)),l=1,g(v)))}function x(t,e,n){var r=new b;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}b.prototype=m.prototype={constructor:b,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var S=(0,o.Z)("start","end","cancel","interrupt"),M=[];function k(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(c){var s,u,f,d;if(1!==n.state)return l();for(s in i)if((d=i[s]).name===n.name){if(3===d.state)return x(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[s]):+s<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[s])}if(x((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),s=0,u=-1;s<f;++s)(d=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=m((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:S,tween:M,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function A(t,e){var n=T(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function C(t,e){var n=T(t,e);if(n.state>3)throw new Error("too late; already running");return n}function T(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function E(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}var N,V=n(4072),D=180/Math.PI,P={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z(t,e,n,r,i,a){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*D,skewX:Math.atan(c)*D,scaleX:o,scaleY:l}}function O(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],c=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var c=o.push("translate(",null,e,null,n);l.push({i:c-4,x:(0,V.Z)(t,i)},{i:c-2,x:(0,V.Z)(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,V.Z)(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,l,c),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,V.Z)(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,l,c),function(t,e,n,r,a,o){if(t!==n||e!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:(0,V.Z)(t,n)},{i:l-2,x:(0,V.Z)(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,c),a=o=null,function(t){for(var e,n=-1,r=c.length;++n<r;)l[(e=c[n]).i]=e.x(t);return l.join("")}}}var L=O((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?P:z(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),I=O((function(t){return null==t?P:(N||(N=document.createElementNS("http://www.w3.org/2000/svg","g")),N.setAttribute("transform",t),(t=N.transform.baseVal.consolidate())?z((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):P)}),", ",")",")"),B=n(7519);function R(t,e){var n,r;return function(){var i=C(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Y(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=C(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=l;break}c===s&&i.push(l)}a.tween=i}}function j(t,e,n){var r=t._id;return t.each((function(){var t=C(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return T(t,r).value[e]}}var F=n(2117),Z=n(7277),H=n(9771);function U(t,e){var n;return("number"==typeof e?V.Z:e instanceof F.ZP?Z.ZP:(n=(0,F.ZP)(e))?(e=n,Z.ZP):H.Z)(t,e)}function W(t){return function(){this.removeAttribute(t)}}function q(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function G(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function X(t,e,n){var r,i,a;return function(){var o,l,c=n(this);if(null!=c)return(o=this.getAttribute(t))===(l=c+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,c));this.removeAttribute(t)}}function Q(t,e,n){var r,i,a;return function(){var o,l,c=n(this);if(null!=c)return(o=this.getAttributeNS(t.space,t.local))===(l=c+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,c));this.removeAttributeNS(t.space,t.local)}}function K(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function J(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tt(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&J(t,i)),n}return i._value=e,i}function et(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&K(t,i)),n}return i._value=e,i}function nt(t,e){return function(){A(this,t).delay=+e.apply(this,arguments)}}function rt(t,e){return e=+e,function(){A(this,t).delay=e}}function it(t,e){return function(){C(this,t).duration=+e.apply(this,arguments)}}function at(t,e){return e=+e,function(){C(this,t).duration=e}}function ot(t,e){if("function"!=typeof e)throw new Error;return function(){C(this,t).ease=e}}var lt=n(5548);function ct(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?A:C;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}var st=n(6222),ut=n(2200),ft=a.ZP.prototype.constructor,dt=n(5683);function ht(t){return function(){this.style.removeProperty(t)}}function gt(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function pt(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&gt(t,a,n)),r}return a._value=e,a}function _t(t){return function(e){this.textContent=t.call(this,e)}}function bt(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&_t(r)),e}return r._value=t,r}var mt=0;function vt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function yt(){return++mt}var wt=a.ZP.prototype;vt.prototype=function(t){return(0,a.ZP)().transition(t)}.prototype={constructor:vt,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,st.Z)(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,c,s=r[o],u=s.length,f=a[o]=new Array(u),d=0;d<u;++d)(l=s[d])&&(c=t.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),f[d]=c,k(f[d],e,n,d,f,T(l,n)));return new vt(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,ut.Z)(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var c,s=r[l],u=s.length,f=0;f<u;++f)if(c=s[f]){for(var d,h=t.call(c,c.__data__,f,s),g=T(c,n),p=0,_=h.length;p<_;++p)(d=h[p])&&k(d,e,n,p,h,g);a.push(h),o.push(c)}return new vt(a,o,e,n)},selectChild:wt.selectChild,selectChildren:wt.selectChildren,filter:function(t){"function"!=typeof t&&(t=(0,lt.Z)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,c=r[i]=[],s=0;s<l;++s)(a=o[s])&&t.call(a,a.__data__,s,o)&&c.push(a);return new vt(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var c,s=e[l],u=n[l],f=s.length,d=o[l]=new Array(f),h=0;h<f;++h)(c=s[h]||u[h])&&(d[h]=c);for(;l<r;++l)o[l]=e[l];return new vt(o,this._parents,this._name,this._id)},selection:function(){return new ft(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=yt(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],c=l.length,s=0;s<c;++s)if(o=l[s]){var u=T(o,e);k(o,t,n,s,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new vt(r,this._parents,t,n)},call:wt.call,nodes:wt.nodes,node:wt.node,size:wt.size,empty:wt.empty,each:wt.each,on:function(t,e){var n=this._id;return arguments.length<2?T(this.node(),n).on.on(t):this.each(ct(n,t,e))},attr:function(t,e){var n=(0,B.Z)(t),r="transform"===n?I:U;return this.attrTween(t,"function"==typeof e?(n.local?Q:X)(n,r,j(this,"attr."+t,e)):null==e?(n.local?q:W)(n):(n.local?G:$)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=(0,B.Z)(t);return this.tween(n,(r.local?tt:et)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?L:U;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=(0,dt.S)(this,t),o=(this.style.removeProperty(t),(0,dt.S)(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,ht(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=(0,dt.S)(this,t),l=n(this),c=l+"";return null==l&&(this.style.removeProperty(t),c=l=(0,dt.S)(this,t)),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,l))}}(t,r,j(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var c=C(this,t),s=c.on,u=null==c.value[o]?a||(a=ht(e)):void 0;s===n&&i===u||(r=(n=s).copy()).on(l,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=(0,dt.S)(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,pt(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(j(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,bt(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=T(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?R:Y)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?nt:rt)(e,t)):T(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?it:at)(e,t)):T(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ot(e,t)):T(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;C(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},c={value:function(){0==--i&&a()}};n.each((function(){var n=C(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),n.on=e})),0===i&&a()}))},[Symbol.iterator]:wt[Symbol.iterator]};var xt={time:null,delay:0,duration:250,ease:n(2979).tw};function St(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}a.ZP.prototype.interrupt=function(t){return this.each((function(){E(this,t)}))},a.ZP.prototype.transition=function(t){var e,n;t instanceof vt?(e=t._id,t=t._name):(e=yt(),(n=xt).time=p(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],c=l.length,s=0;s<c;++s)(o=l[s])&&k(o,t,e,s,l,n||St(o,e));return new vt(r,this._parents,t,e)}},8273:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ZoomTransform:()=>d,zoom:()=>S,zoomIdentity:()=>h,zoomTransform:()=>g});var r=n(8086),i=n(2376);function a(t){return((t=Math.exp(t))+1/t)/2}const o=function t(e,n,r){function i(t,i){var o,l,c=t[0],s=t[1],u=t[2],f=i[0],d=i[1],h=i[2],g=f-c,p=d-s,_=g*g+p*p;if(_<1e-12)l=Math.log(h/u)/e,o=function(t){return[c+t*g,s+t*p,u*Math.exp(e*t*l)]};else{var b=Math.sqrt(_),m=(h*h-u*u+r*_)/(2*u*n*b),v=(h*h-u*u-r*_)/(2*h*n*b),y=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(v*v+1)-v);l=(w-y)/e,o=function(t){var r,i=t*l,o=a(y),f=u/(n*b)*(o*(r=e*i+y,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[c+f*g,s+f*p,u*o/a(e*i+y)]}}return o.duration=1e3*l*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);var l=n(8063),c=n(7227),s=n(7190);const u=t=>()=>t;function f(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function d(t,e,n){this.k=t,this.x=e,this.y=n}d.prototype={constructor:d,scale:function(t){return 1===t?this:new d(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new d(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new d(1,0,0);function g(t){for(;!t.__zoom;)if(!(t=t.parentNode))return h;return t.__zoom}function p(t){t.stopImmediatePropagation()}function _(t){t.preventDefault(),t.stopImmediatePropagation()}function b(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function m(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function v(){return this.__zoom||h}function y(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function w(){return navigator.maxTouchPoints||"ontouchstart"in this}function x(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function S(){var t,e,n,a=b,g=m,S=x,M=y,k=w,A=[0,1/0],C=[[-1/0,-1/0],[1/0,1/0]],T=250,E=o,N=(0,r.Z)("start","zoom","end"),V=500,D=0,P=10;function z(t){t.property("__zoom",v).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",Z).filter(k).on("touchstart.zoom",H).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function O(t,e){return(e=Math.max(A[0],Math.min(A[1],e)))===t.k?t:new d(e,t.x,t.y)}function L(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new d(t.k,r,i)}function I(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function B(t,e,n,r){t.on("start.zoom",(function(){R(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){R(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,i=arguments,a=R(t,i).event(r),o=g.apply(t,i),l=null==n?I(o):"function"==typeof n?n.apply(t,i):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=t.__zoom,u="function"==typeof e?e.apply(t,i):e,f=E(s.invert(l).concat(c/s.k),u.invert(l).concat(c/u.k));return function(t){if(1===t)t=u;else{var e=f(t),n=c/e[2];t=new d(n,l[0]-e[0]*n,l[1]-e[1]*n)}a.zoom(null,t)}}))}function R(t,e,n){return!n&&t.__zooming||new Y(t,e)}function Y(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=g.apply(t,e),this.taps=0}function j(t,...e){if(a.apply(this,arguments)){var n=R(this,e).event(t),r=this.__zoom,i=Math.max(A[0],Math.min(A[1],r.k*Math.pow(2,M.apply(this,arguments)))),o=(0,c.Z)(t);if(n.wheel)n.mouse[0][0]===o[0]&&n.mouse[0][1]===o[1]||(n.mouse[1]=r.invert(n.mouse[0]=o)),clearTimeout(n.wheel);else{if(r.k===i)return;n.mouse=[o,r.invert(o)],(0,s.e1)(this),n.start()}_(t),n.wheel=setTimeout(l,150),n.zoom("mouse",S(L(O(r,i),n.mouse[0],n.mouse[1]),n.extent,C))}function l(){n.wheel=null,n.end()}}function F(t,...e){if(!n&&a.apply(this,arguments)){var r=t.currentTarget,o=R(this,e,!0).event(t),u=(0,l.Z)(t.view).on("mousemove.zoom",g,!0).on("mouseup.zoom",b,!0),f=(0,c.Z)(t,r),d=t.clientX,h=t.clientY;(0,i.Z)(t.view),p(t),o.mouse=[f,this.__zoom.invert(f)],(0,s.e1)(this),o.start()}function g(t){if(_(t),!o.moved){var e=t.clientX-d,n=t.clientY-h;o.moved=e*e+n*n>D}o.event(t).zoom("mouse",S(L(o.that.__zoom,o.mouse[0]=(0,c.Z)(t,r),o.mouse[1]),o.extent,C))}function b(t){u.on("mousemove.zoom mouseup.zoom",null),(0,i.D)(t.view,o.moved),_(t),o.event(t).end()}}function Z(t,...e){if(a.apply(this,arguments)){var n=this.__zoom,r=(0,c.Z)(t.changedTouches?t.changedTouches[0]:t,this),i=n.invert(r),o=n.k*(t.shiftKey?.5:2),s=S(L(O(n,o),r,i),g.apply(this,e),C);_(t),T>0?(0,l.Z)(this).transition().duration(T).call(B,s,r,t):(0,l.Z)(this).call(z.transform,s,r,t)}}function H(n,...r){if(a.apply(this,arguments)){var i,o,l,u,f=n.touches,d=f.length,h=R(this,r,n.changedTouches.length===d).event(n);for(p(n),o=0;o<d;++o)l=f[o],u=[u=(0,c.Z)(l,this),this.__zoom.invert(u),l.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,i=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(h.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),V)),(0,s.e1)(this),h.start())}}function U(t,...e){if(this.__zooming){var n,r,i,a,o=R(this,e).event(t),l=t.changedTouches,s=l.length;for(_(t),n=0;n<s;++n)r=l[n],i=(0,c.Z)(r,this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=i);if(r=o.that.__zoom,o.touch1){var u=o.touch0[0],f=o.touch0[1],d=o.touch1[0],h=o.touch1[1],g=(g=d[0]-u[0])*g+(g=d[1]-u[1])*g,p=(p=h[0]-f[0])*p+(p=h[1]-f[1])*p;r=O(r,Math.sqrt(g/p)),i=[(u[0]+d[0])/2,(u[1]+d[1])/2],a=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],a=o.touch0[1]}o.zoom("touch",S(L(r,i,a),o.extent,C))}}function W(t,...r){if(this.__zooming){var i,a,o=R(this,r).event(t),s=t.changedTouches,u=s.length;for(p(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),V),i=0;i<u;++i)a=s[i],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=(0,c.Z)(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<P)){var f=(0,l.Z)(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return z.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",v),t!==i?B(t,e,n,r):i.interrupt().each((function(){R(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},z.scaleBy=function(t,e,n,r){z.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},z.scaleTo=function(t,e,n,r){z.transform(t,(function(){var t=g.apply(this,arguments),r=this.__zoom,i=null==n?I(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(i),o="function"==typeof e?e.apply(this,arguments):e;return S(L(O(r,o),i,a),t,C)}),n,r)},z.translateBy=function(t,e,n,r){z.transform(t,(function(){return S(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),g.apply(this,arguments),C)}),null,r)},z.translateTo=function(t,e,n,r,i){z.transform(t,(function(){var t=g.apply(this,arguments),i=this.__zoom,a=null==r?I(t):"function"==typeof r?r.apply(this,arguments):r;return S(h.translate(a[0],a[1]).scale(i.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,C)}),r,i)},Y.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=(0,l.Z)(this.that).datum();N.call(t,this.that,new f(t,{sourceEvent:this.sourceEvent,target:z,type:t,transform:this.that.__zoom,dispatch:N}),e)}},z.wheelDelta=function(t){return arguments.length?(M="function"==typeof t?t:u(+t),z):M},z.filter=function(t){return arguments.length?(a="function"==typeof t?t:u(!!t),z):a},z.touchable=function(t){return arguments.length?(k="function"==typeof t?t:u(!!t),z):k},z.extent=function(t){return arguments.length?(g="function"==typeof t?t:u([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),z):g},z.scaleExtent=function(t){return arguments.length?(A[0]=+t[0],A[1]=+t[1],z):[A[0],A[1]]},z.translateExtent=function(t){return arguments.length?(C[0][0]=+t[0][0],C[1][0]=+t[1][0],C[0][1]=+t[0][1],C[1][1]=+t[1][1],z):[[C[0][0],C[0][1]],[C[1][0],C[1][1]]]},z.constrain=function(t){return arguments.length?(S=t,z):S},z.duration=function(t){return arguments.length?(T=+t,z):T},z.interpolate=function(t){return arguments.length?(E=t,z):E},z.on=function(){var t=N.on.apply(N,arguments);return t===N?z:t},z.clickDistance=function(t){return arguments.length?(D=(t=+t)*t,z):Math.sqrt(D)},z.tapDistance=function(t){return arguments.length?(P=+t,z):P},z}g.prototype=d.prototype},7202:function(t,e,n){!function(t,e,n,r,i,a,o,l,c,s,u,f,d){"use strict";var h=function(t,e,n){var r=e[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=r.apply(e,i);return o===e?t:o}},g=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var a=0,o=r;a<o.length;a++){var l=o[a];t[l]=h(t,e,l)}return t},p=function(t){return function(e){return t.reduce((function(t,e){return t&&e(t)}),e)}},_=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var a=p(r),o=0,l=Object.keys(e);o<l.length;o++){var c=l[o],s=a(c);s&&(t[s]=h(t,e,c))}return t},b=function(t){return t.map((function(t){return"string"==typeof t?new RegExp("^".concat(t,"$")):t}))},m=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=b(e),function(t){return e.every((function(e){return!e.test(t)}))&&t}},v=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=b(e),function(t){return e.some((function(e){return e.test(t)}))&&t}},y=function(t){return function(e){return t[e]}},w=function(t){return function(e){return t+((n=e)[0].toUpperCase()+n.slice(1));var n}};function x(t){return t}function S(t){}function M(t){return"function"==typeof t?t:function(){return t}}function k(t){return"number"==typeof t&&isNaN(t)?void 0:t}function A(){var t=function(){return 10},e=S,n=x,r=function(t){return null!=t},i=function(i){var a=t.apply(this,arguments),o=i.slice(0,a).map(n);return i.map((function(t,i){return i>=a&&(o.shift(),o.push(n(t,i))),i<a-1||o.some((function(t){return!r(t)}))?e(void 0,i):e(o,i)}))};return i.period=function(){return arguments.length?(t=M(arguments.length<=0?void 0:arguments[0]),i):t},i.accumulator=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i}function C(){var t=x,n=function(){return 9},r=function(t){var n=[];return function(r){var i;return n.length<t&&(null!=r?n.push(r):n=[]),n.length>=t&&(i=e.mean(n)),i}},i=function(e){var i,a=n.apply(this,arguments),o=2/(a+1),l=r(a);return e.map((function(e,n){var r=t(e,n);return k(i=void 0===i?l(r):r*o+(1-o)*i)}))};return i.period=function(){return arguments.length?(n=M(arguments.length<=0?void 0:arguments[0]),i):n},i.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e,n){return e&&N(t.prototype,e),n&&N(t,n),t}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function L(t,e,n){return(L=O()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&z(i,n.prototype),i}).apply(null,arguments)}function I(t){var e="function"==typeof Map?new Map:void 0;return(I=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return L(t,arguments,P(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),z(r,t)})(t)}function B(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){var e=O();return function(){var n,r=P(t);if(e){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}function Y(t,e){return F(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}}(t,e)||H(t,e)||W()}function j(t){return function(t){if(Array.isArray(t))return U(t)}(t)||Z(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t){if(Array.isArray(t))return t}function Z(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function H(t,e){if(t){if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(){var t=A().accumulator((function(t){return t&&e.mean(t)})),n=function(e){return t(e)};return g(n,t,"period","value"),n}function $(){var t={distance:function(t,e){return e-t},offset:function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e},clampUp:function(t){return t},clampDown:function(t){return t},copy:function(){return t}};return t}function G(t,e){var n=t.map(e.clampUp);return n.length!==new Set(n.map((function(t){return null==t?void 0:t.valueOf()}))).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),n}var X=function(t,e,n,r){var i=0,a=1,o=6,l=432e6,c={},s=function(e){return 0===t(e)||6===t(e)};return c.clampDown=function(n){if(n&&s(n)){var r=e.ceil(n);return t(r)===i?e.offset(r,-1):t(r)===a?e.offset(r,-2):r}return n},c.clampUp=function(n){if(n&&s(n)){var r=e.floor(n);return t(r)===o?e.offset(r,2):t(r)===i?e.offset(r,1):r}return n},c.distance=function(t,e){t=c.clampUp(t),e=c.clampDown(e);var r=n.ceil(t);if(e<r)return e.getTime()-t.getTime();var i=r.getTime()-t.getTime(),a=n.ceil(e),o=a.getTime()-e.getTime();return Math.round((a.getTime()-r.getTime())/6048e5)*l+i-o},c.offset=function(t,i){var a=s(t)?c.clampUp(t):t;if(0===i)return a;var o=i<0,u=i>0,f=i,d=o?r.floor(a):n.ceil(a);if(f-=d.getTime()-a.getTime(),o&&f>0||u&&f<0)return new Date(a.getTime()+i);a=o?d:e.offset(d,2);var h=Math.floor(f/l);return a=e.offset(a,7*h),f-=h*l,new Date(a.getTime()+f)},c.copy=function(){return c},c};function Q(){var t=[function(t){return t}],n=[0,0],r="percent",i=null,a=[],o=function(o){var l,c=new Array(o.length),s=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=H(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(s.s();!(l=s.n()).done;)for(var u=l.value,f=0;f<o.length;f++){var d=u(o[f],f);Array.isArray(d)?c.push.apply(c,j(d)):c.push(d)}}catch(t){s.e(t)}finally{s.f()}var h=[e.min(c),e.max(c)];if(h[0]=null==h[0]?e.min(a):e.min([h[0]].concat(j(a))),h[1]=null==h[1]?e.max(a):e.max([h[1]].concat(j(a))),null!=i){var g=Math.max(Math.abs(h[1]-i),Math.abs(h[0]-i));h[0]=i-g,h[1]=i+g}switch(r){case"domain":h[0]-=n[0],h[1]+=n[1];break;case"percent":var p=h[1]-h[0];h[0]-=n[0]*p,h[1]+=n[1]*p;break;default:throw new Error("Unknown padUnit: ".concat(r))}return h};return o.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.include=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.symmetricalAbout=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}function K(){var t=[],e=[0,0],n="percent",r=null,i=[],a=Q(),o=function(t){return null!=t?t.valueOf():null},l=function(l){var c=t.map((function(t){return function(){var e=t.apply(void 0,arguments);return Array.isArray(e)?e.map(o):o(e)}}));return a.accessors(c).pad(e).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(i.map((function(t){return t.valueOf()}))),a(l).map((function(t){return new Date(t)}))};return l.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l}function J(){var t=1,e=20,n=.1,r=.1,a=i.randomNormal(),o=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=t/e,l=[],c=0;c<e+1;c++){l.push(i);var s=a()*Math.sqrt(o)*r+(n-r*r/2)*o;i*=Math.exp(s)}return l};return o.period=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.steps=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.random=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function tt(t){return"function"==typeof t?t:function(){return t}}function et(){var t=10,n=function(n){return t<=1?n.map((function(t){return[t]})):e.range(0,Math.ceil(n.length/t)).map((function(e){return n.slice(e*t,(e+1)*t)}))};return n.bucketSize=function(e){return arguments.length?(t=e,n):t},n}var nt=function(t){return"function"==typeof t?t:function(){return t}},rt=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},i=function(t){return t.low},a=function(t){return t.close},l="vertical",c=nt(3),s=function(s){var u=t||o.path();return s.forEach((function(t,o){var s=e(t,o),f=n(t,o),d=r(t,o),h=i(t,o),g=a(t,o),p=c(t,o)/2;"vertical"===l?(u.moveTo(s,h),u.lineTo(s,d),u.moveTo(s,f),u.lineTo(s-p,f),u.moveTo(s,g),u.lineTo(s+p,g)):(u.moveTo(h,s),u.lineTo(d,s),u.moveTo(f,s),u.lineTo(f,s+p),u.moveTo(g,s),u.lineTo(g,s-p))})),t?null:u.toString()};return s.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.x=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),s):e},s.open=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),s):n},s.high=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),s):r},s.low=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),s):i},s.close=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),s):a},s.width=function(){return arguments.length?(c=nt(arguments.length<=0?void 0:arguments[0]),s):c},s.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},it=function(){var t=null,e=function(t){return t.x},n=function(t){return t.y},r="center",i="center",a=function(t){return t.height},l=nt(3),c=function(c,s){var u=t||o.path();return c.forEach((function(t,o){var c,f,d=e.call(this,t,s||o),h=n.call(this,t,s||o),g=a.call(this,t,s||o),p=l.call(this,t,s||o);switch(r){case"left":c=p;break;case"right":c=0;break;case"center":c=p/2;break;default:throw new Error("Invalid horizontal alignment "+r)}switch(i){case"bottom":f=-g;break;case"top":f=0;break;case"center":f=g/2;break;default:throw new Error("Invalid vertical alignment "+i)}u.rect(d-c,h-f,p,g)}),this),t?null:u.toString()};return c.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.x=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),c):e},c.y=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),c):n},c.width=function(){return arguments.length?(l=nt(arguments.length<=0?void 0:arguments[0]),c):l},c.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.height=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),c):a},c.verticalAlign=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c},at=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},i=function(t){return t.low},a=function(t){return t.close},l=nt(3),c=function(c){var s=t||o.path();return c.forEach((function(t,o){var c=e(t,o),u=n(t,o),f=r(t,o),d=i(t,o),h=a(t,o),g=l(t,o),p=g/2;s.rect(c-p,u,g,h-u),s.moveTo(c,Math.min(h,u)),s.lineTo(c,f),s.moveTo(c,Math.max(h,u)),s.lineTo(c,d)})),t?null:s.toString()};return c.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.x=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),c):e},c.open=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),c):i},c.close=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),c):a},c.width=function(){return arguments.length?(l=nt(arguments.length<=0?void 0:arguments[0]),c):l},c},ot=function(){var t=null,e=function(t){return t.value},n=function(t){return t.median},r=function(t){return t.upperQuartile},i=function(t){return t.lowerQuartile},a=function(t){return t.high},l=function(t){return t.low},c="vertical",s=nt(5),u=nt(.5),f=function(f){var d=t||o.path();return f.forEach((function(t,o){var f=e(t,o),h=s(t,o),g=h/2,p=h*u(t,o)/2,_=a(t,o),b=r(t,o),m=n(t,o),v=i(t,o),y=l(t,o),w=v-b;"vertical"===c?(d.moveTo(f-p,_),d.lineTo(f+p,_),d.moveTo(f,_),d.lineTo(f,b),d.rect(f-g,b,h,w),d.moveTo(f-g,m),d.lineTo(f+g,m),d.moveTo(f,v),d.lineTo(f,y),d.moveTo(f-p,y),d.lineTo(f+p,y)):(d.moveTo(y,f-p),d.lineTo(y,f+p),d.moveTo(y,f),d.lineTo(v,f),d.rect(v,f-g,-w,h),d.moveTo(m,f-g),d.lineTo(m,f+g),d.moveTo(b,f),d.lineTo(_,f),d.moveTo(_,f-p),d.lineTo(_,f+p))})),t?null:d.toString()};return f.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.value=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),f):e},f.median=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),f):n},f.upperQuartile=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),f):r},f.lowerQuartile=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),f):i},f.high=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),f):a},f.low=function(){return arguments.length?(l=nt(arguments.length<=0?void 0:arguments[0]),f):l},f.width=function(){return arguments.length?(s=nt(arguments.length<=0?void 0:arguments[0]),f):s},f.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.cap=function(){return arguments.length?(u=nt(arguments.length<=0?void 0:arguments[0]),f):u},f},lt=function(){var t=null,e=function(t){return t.x},n=function(t){return t.high},r=function(t){return t.low},i="vertical",a=nt(5),l=function(l){var c=t||o.path();return l.forEach((function(t,o){var l=e(t,o),s=a(t,o)/2,u=n(t,o),f=r(t,o);"vertical"===i?(c.moveTo(l-s,u),c.lineTo(l+s,u),c.moveTo(l,u),c.lineTo(l,f),c.moveTo(l-s,f),c.lineTo(l+s,f)):(c.moveTo(f,l-s),c.lineTo(f,l+s),c.moveTo(f,l),c.lineTo(u,l),c.moveTo(u,l-s),c.lineTo(u,l+s))})),t?null:c.toString()};return l.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.value=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),l):e},l.high=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),l):n},l.low=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),l):r},l.width=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),l):a},l.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l},ct=function(t){return"function"==typeof t?t:function(){return t}},st=1e-6,ut=function(t){return t.selection()!==t},ft=function(t,e){t=t||"g";var n=function(t,e){return e},r=null,i=function(i,a){a=a||function(t){return t};var o=i.selection(),l=ut(i)?i:null,c=o.selectChildren(null==e?t:"".concat(t,".").concat(e)).data(a,n),s=c.enter().append(t).attr("class",e),u=c.exit();c=c.merge(s);var f=l||r;return f&&(c=c.transition(f).style("opacity",1),s.style("opacity",st),u=u.transition(f).style("opacity",st)),u.remove(),c.enter=function(){return s},c.exit=function(){return u},c};return i.element=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.className=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},dt=function(t,e){if(function(t,e){return!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)}(t,e)){var n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),i=Math.max(t.y,e.y);return(r-n)*(Math.min(t.y+t.height,e.y+e.height)-i)}return 0},ht=function(t,n){return e.sum(t.map((function(e,r){return n===r?0:dt(t[n],e)})))},gt=function(t,e,n,r,i){return{x:t,y:e,width:n,height:r,location:i}},pt=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return[gt(e,n,r,i,"bottom-right"),gt(e-r,n,r,i,"bottom-left"),gt(e-r,n-i,r,i,"top-left"),gt(e,n-i,r,i,"top-right"),gt(e,n-i/2,r,i,"middle-right"),gt(e-r/2,n,r,i,"bottom-center"),gt(e-r,n-i/2,r,i,"middle-left"),gt(e-r/2,n-i,r,i,"top-center")]},_t=function(t,e,n){return[].concat(j(t.slice(0,e)),[n],j(t.slice(e+1)))},bt=function(t,e){return t<e},mt=function t(){var n,r=null,i=bt,a=function(){return 0},o=function o(l,c){r||(r=e.sum(n.map((function(t,e){return a(t,e,n)}))));var s=function(t,e){return r-a(n[e],e,n)+a(t,e,_t(n,e,t))}(l,c);return i(s,r)?t().locationScore(a).winningScore(i).score(s).rectangles(_t(n,c,l)):o};return o.rectangles=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.score=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.winningScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.locationScore=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o},vt=function(t){return Math.floor(Math.random()*t.length)},yt=function(t){return"function"==typeof t?t:function(){return t}};function wt(){var t=arguments;return function(e,n){for(var r=0,i=t.length;r<i;r++)if(null==t[r](e,n))return!1;return!0}}var xt=function(t,e){switch(t){case"left":return e/2;case"right":return-e/2;default:return 0}},St=function(t){var e=Object.assign({},t),n=function(){};return Object.keys(e).forEach((function(t){n[t]=function(){return arguments.length?(e[t]=arguments.length<=0?void 0:arguments[0],n):e[t]}})),n},Mt=function(){var t=function(){return 0},e=function(t){return t.x},r=function(t){return t.y},i="center",a=function(){return 5},o="vertical",l=St({decorate:function(){},defined:function(n,i){return wt(t,e,r)(n,i)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,c){var s=a(n,c),u=xt(i,s),f=l.xScale(),d=l.yScale();if("vertical"===o){var h=d(r(n,c),c),g=d(t(n,c),c),p=f(e(n,c),c)+u;return{d:n,x:p,y:h,y0:g,width:s,height:h-g,origin:[p,h],baseOrigin:[p,g],transposedX:p,transposedY:h}}var _=f(r(n,c),c),b=f(t(n,c),c),m=d(e(n,c),c)+u;return{d:n,x:m,y:_,y0:b,width:s,height:_-b,origin:[_,m],baseOrigin:[b,m],transposedX:_,transposedY:m}},l.xValues=function(){return"vertical"===o?[e]:[t,r]},l.yValues=function(){return"vertical"!==o?[e]:[t,r]},l.baseValue=function(){return arguments.length?(t=yt(arguments.length<=0?void 0:arguments[0]),l):t},l.crossValue=function(){return arguments.length?(e=yt(arguments.length<=0?void 0:arguments[0]),l):e},l.mainValue=function(){return arguments.length?(r=yt(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(a=yt(arguments.length<=0?void 0:arguments[0]),l):a},l.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l},kt="#c60",At="#6c0",Ct="#000",Tt="#ddd",Et="#999",Nt=function(){var t=Mt(),e=c.line().x((function(e,n){return t.values(e,n).transposedX})).y((function(e,n){return t.values(e,n).transposedY})),n=ft("path","line"),r=function(r){ut(r)&&n.transition(r),e.defined(t.defined()),r.each((function(r,i,a){var o=n(l.select(a[i]),[r]);o.enter().attr("fill","none").attr("stroke",Ct),o.attr("d",e),t.decorate()(o,r,i)}))};return _(r,t,m("baseValue","bandwidth","align")),g(r,n,"key"),g(r,e,"curve"),r},Vt=function(){var t=Mt(),e=c.line().x((function(e,n){return t.values(e,n).transposedX})).y((function(e,n){return t.values(e,n).transposedY})),n=function(n){var r=e.context();r.beginPath(),r.strokeStyle=Ct,r.fillStyle="transparent",t.decorate()(r,n),e.defined(t.defined())(n),r.fill(),r.stroke(),r.closePath()};return _(n,t,m("baseValue","bandwidth","align")),g(n,e,"curve","context"),n},Dt=function(){var t=[0,1],e=[-1,1],n=function(){};return n.domain=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.range=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},Pt=function(){var t={},e={},n=null,r=function(r,i){var a=r.context();Object.keys(t).forEach((function(e){var n=t[e];if("function"!=typeof n)throw new Error("Expected an attribute for ".concat(e,", found ").concat(n));var o=a.getAttribLocation(i,e);n.location(o)(r)})),Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error("Expected a uniform for ".concat(t,", found ").concat(n));var o=a.getUniformLocation(i,t);n.location(o)(r)})),null!==n&&n(r)};return r.flush=function(){Object.values(t).forEach((function(t){return t.clear()})),Object.values(e).forEach((function(t){return t.clear()})),null!==n&&n.clear()},r.attribute=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 1===n.length?t[n[0]]:(t[n[0]]=n[1],r)},r.uniform=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 1===n.length?e[n[0]]:(e[n[0]]=n[1],r)},r.elementIndices=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},zt=function(t){var e=-1,n=t,r=!0,i=function(t){if(r){var i=t.context();if(Array.isArray(n))switch(n.length){case 1:i.uniform1fv(e,n);break;case 2:i.uniform2fv(e,n);break;case 3:i.uniform3fv(e,n);break;case 4:i.uniform4fv(e,n);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(n.length," provided."))}else i.uniform1f(e,n);r=!1}};return i.clear=function(){r=!0},i.location=function(){return arguments.length?(e!==(arguments.length<=0?void 0:arguments[0])&&(e=arguments.length<=0?void 0:arguments[0],r=!0),i):e},i.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,i):n},i},Ot=0,Lt=4,It=function(){var t=null,e=null,n=null,r=null,i=null,a=null,o=Lt,l=0,c=Pt(),s=!1,u=null,f=!0,d=1,h=function h(p){if(null!=t){var _=n(),b=r();if(function(t,e,n){return!(t&&!f)||e!==i||n!==a}(e,_,b)&&(e=function(e,n){var r=g(e,t.VERTEX_SHADER),i=g(n,t.FRAGMENT_SHADER),a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,i),t.linkProgram(a),s&&!t.getProgramParameter(a,t.LINK_STATUS)){var o=t.getProgramInfoLog(a);throw t.deleteProgram(a),new Error("Failed to link program : ".concat(o,"\n            Vertex Shader : ").concat(e,"\n            Fragment Shader : ").concat(n))}return a}(_,b),i=_,a=b,f=!1),t.useProgram(e),c.uniform("uScreen",zt([t.canvas.width/d,t.canvas.height/d])),c(h,e),0===l)null==c.elementIndices()?t.drawArrays(o,0,p):t.drawElements(o,p,t.UNSIGNED_SHORT,0);else if(null==c.elementIndices())u.drawArraysInstancedANGLE(o,0,l,p);else{var m=c.elementIndices().data().length;if(l!==m)throw new Error("Expected elementIndices length ".concat(m)+" to match subInstanceCount ".concat(l,"."));u.drawElementsInstancedANGLE(o,l,t.UNSIGNED_SHORT,0,p)}}};return h.extInstancedArrays=function(){return u},h.context=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.length?(null!=n[0]&&n[0]===t||(c.flush(),f=!0),null!=n[0]&&n[0]!==t&&(u=n[0].getExtension("ANGLE_instanced_arrays")),t=n[0],h):t},h.buffers=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.vertexShader=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],h):n},h.fragmentShader=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],h):r},h.mode=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],h):o},h.subInstanceCount=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},h.debug=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],h):s},h.pixelRatio=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h;function g(e,n){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),s&&!t.getShaderParameter(r,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("Failed to compile shader : ".concat(i,"\n            Shader : ").concat(e))}return r}},Bt=function(t){var e=[],n=[],r=function(){return t(e.join("\n"),n.join("\n"))};function i(t,e){t.push(e)}function a(t,e,n){var r=t.indexOf(n);t.splice(r>=0?r:t.length,0,e)}function o(t,e){-1===t.indexOf(e)&&t.push(e)}return r.appendHeader=function(t){return i(e,t),r},r.insertHeader=function(t,n){return a(e,t,n),r},r.appendHeaderIfNotExists=function(t){return o(e,t),r},r.appendBody=function(t){return i(n,t),r},r.insertBody=function(t,e){return a(n,t,e),r},r.appendBodyIfNotExists=function(t){return o(n,t),r},r},Rt=function(t,e){return"\nprecision mediump float;\nfloat inf = 1.0 / 0.0;\n".concat(t,"\nvoid main() {\n    ").concat(e,"\n}")},Yt=function(t,e){return"\nprecision mediump float;\n".concat(t,"\nvoid main() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    ").concat(e,"\n}")},jt="attribute vec4 aFillColor;\n             varying vec4 vFillColor;",Ft="vFillColor = aFillColor;",Zt="attribute vec4 aStrokeColor;\n             varying vec4 vStrokeColor;",Ht="vStrokeColor = aStrokeColor;",Ut="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Wt="\n        vDefined = aDefined;\n        vSize = 2.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",qt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",$t="\n        vDefined = aDefined;\n        vSize = 4.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Gt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Xt="\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Qt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",Kt="\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",Jt="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",te="\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",ee="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",ne="\n        vDefined = aDefined;\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",re="\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",ie="\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 5.0);\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);",ae="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",oe="\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n         (isPositiveY * isExtremeY * aLowValue) +\n         (isPositiveY * isNotExtremeY * aCloseValue) +\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\n         (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\n        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;\n\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",le="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",ce="\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n            (isPositiveY * isExtremeY * aLowValue) +\n            (isPositiveY * isNotExtremeY * aCloseValue) +\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\n            (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = isExtremeY * aCorner.z;\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\n\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",se="\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aMainValue;\n        attribute float aBaseValue;\n        attribute vec2 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",ue="\n        vDefined = aDefined;\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\n\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);",fe="\n        attribute vec3 aCorner;\n        attribute float aCrossNextNextValue;\n        attribute float aMainNextNextValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossPrevValue;\n        attribute float aMainPrevValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        uniform float uStrokeWidth;\n        uniform vec2 uScreen;\n\n        varying float vDefined;",de="\n        vDefined = aDefined * aDefinedNext;\n        vec4 prev = vec4(aCrossPrevValue, aMainPrevValue, 0, 0);\n        vec4 curr = vec4(aCrossValue, aMainValue, 0, 0);\n        gl_Position = vec4(aCrossNextValue, aMainNextValue, 0, 1);\n        vec4 nextNext = vec4(aCrossNextNextValue, aMainNextNextValue, 0, 0);",he="\n        vec4 currVertexPosition = gl_Position;\n        vec4 nextVertexPosition = gl_Position;\n\n        if (all(equal(curr.xy, prev.xy))) {\n            prev.xy = curr.xy + normalize(curr.xy - currVertexPosition.xy);\n        }\n        if (all(equal(curr.xy, currVertexPosition.xy))) {\n            currVertexPosition.xy = curr.xy + normalize(curr.xy - prev.xy);\n        }\n        vec2 A = normalize(normalize(curr.xy - prev.xy) * uScreen);\n        vec2 B = normalize(normalize(currVertexPosition.xy - curr.xy) * uScreen);\n        vec2 tangent = normalize(A + B);\n        vec2 miter = vec2(-tangent.y, tangent.x);\n        vec2 normalA = vec2(-A.y, A.x);\n        float miterLength = 1.0 / dot(miter, normalA);\n        vec2 point = normalize(A - B);\n        if (miterLength > 10.0 && sign(aCorner.x * dot(miter, point)) > 0.0) {\n            currVertexPosition.xy = curr.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalA) / uScreen.xy;\n        } else {\n            currVertexPosition.xy = curr.xy + (aCorner.x * miter * uStrokeWidth * miterLength) / uScreen.xy;\n        }\n\n        if (all(equal(nextVertexPosition.xy, curr.xy))) {\n            curr.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - nextNext.xy);\n        }\n        if (all(equal(nextVertexPosition.xy, nextNext.xy))) {\n            nextNext.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - curr.xy);\n        }\n        vec2 C = normalize(normalize(nextVertexPosition.xy - curr.xy) * uScreen);\n        vec2 D = normalize(normalize(nextNext.xy - nextVertexPosition.xy) * uScreen);\n        vec2 tangentCD = normalize(C + D);\n        vec2 miterCD = vec2(-tangentCD.y, tangentCD.x);\n        vec2 normalC = vec2(-C.y, C.x);\n        float miterCDLength = 1.0 / dot(miterCD, normalC);\n        vec2 pointCD = normalize(C - D);\n        if (miterCDLength > 10.0 && sign(aCorner.x * dot(miterCD, pointCD)) > 0.0) {\n            nextVertexPosition.xy = nextVertexPosition.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalC) / uScreen.xy;\n        } else {\n            nextVertexPosition.xy = nextVertexPosition.xy + (aCorner.x * miterCD * uStrokeWidth * miterCDLength) / uScreen.xy;\n        }\n\n        gl_Position.xy = ((1.0 - aCorner.z) * currVertexPosition.xy) + (aCorner.z * nextVertexPosition.xy);",ge="\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",pe="\n        vDefined = aDefined;\n        float isLow = (aCorner.y + 1.0) / 2.0;\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\n\n        float isEdgeCorner = abs(aCorner.x);\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\n        float yModifier = (uStrokeWidth * lineWidthYDirection);",_e="\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aBaseValue;\n        attribute float aBaseNextValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        varying float vDefined;\n\n        float when_lt(float a, float b) {\n            return max(sign(b - a), 0.0);\n        }\n\n        float and(float a, float b) {\n            return a * b;\n        }",be="\n        vDefined = aDefined * aDefinedNext;\n        gl_Position = vec4(0, 0, 0, 1);\n\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\n        float useIntercept = and(aCorner.z, hasIntercepted);\n\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\n\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\n\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\n        float interceptXValue = (y0Constant - yConstant) / denominator;\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\n\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\n\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));",me="\n        attribute vec4 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aCapWidth;\n        attribute float aHighValue;\n        attribute float aUpperQuartileValue;\n        attribute float aMedianValue;\n        attribute float aLowerQuartileValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;\n    ",ve="\n        vDefined = aDefined;\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n\n        float isNonZeroY = abs(sign(aCorner.y));\n        float isZeroY = 1.0 - isNonZeroY;\n\n        float isQuartileY = isNotExtremeY * isNonZeroY;\n\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\n        float isNegativeY = 1.0 - isPositiveY;\n\n        float yValue =\n          (isExtremeY * isNegativeY) * aHighValue +\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\n          isZeroY * aMedianValue +\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\n          (isExtremeY * isPositiveY) * aLowValue;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float isHorizontal = aCorner.w;\n        float isVertical = 1.0 - isHorizontal;\n\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\n\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;",ye="\n        varying float vSize;\n        varying float vDefined;",we="\n        float canFill = 1.0;\n        float distance = length(2.0 * gl_PointCoord - 1.0);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",xe="\n        varying float vSize;\n        varying float vDefined;\n\n        // anterior, exterior angles\n        float an = 0.628319;\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\n        float en = 0.952000;\n        vec2 ecs = vec2(0.580055, 0.814577);\n    ",Se="\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        p -= acs;\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\n        float d = length(p) * sign(p.x);\n\n        float distance = 1.0 + d;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Me="\n        varying float vSize;\n        varying float vDefined;\n    ",ke="\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float an = 3.141593 / 3.0;\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        // box\n        vec2 d = abs(p) - vec2(0.9, 0.35);\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n\n        float distance = 1.0 + sdf;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }",Ae="\n        varying float vSize;\n        varying float vDefined;",Ce="\n        float canFill = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);",Te="\n        varying float vSize;\n        varying float vDefined;\n        float a = 0.6;\n        float b = 1.0;\n    ",Ee="\n        if (vDefined < 0.5) {\n            discard;\n        }\n\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n\n        float x = abs(pointCoordTransform.x);\n        float y = abs(pointCoordTransform.y);\n\n        float X = (a * b * x) / (a * y + b * x);\n        float Y = (a * b * y) / (a * y + b * x);\n\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\n\n        if (distance > 1.0) {\n            discard;\n        }\n    ",Ne="\n        varying float vSize;\n        varying float vDefined;",Ve="\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }",De="\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",Pe="\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float distance = max(innerCornerDistance, outerEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }",ze="\n        varying float vColorIndicator;\n        varying float vDefined;",Oe="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }",Le="\n        varying float vColorIndicator;\n        varying float vDefined;",Ie="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }",Be="\n        varying float vDefined;",Re="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);",Ye="\n        varying float vDefined;\n    ",je="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n\n        if (vDefined < 0.5) {\n            discard;\n        }",Fe="varying float vDefined;",Ze="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }",He="varying float vDefined;",Ue="\n        float canFill = 1.0;\n        float canStroke = 0.0;\n\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\n\n        if (vDefined < 0.5) {\n            discard;\n        }",We="varying vec4 vFillColor;",qe="gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);",$e="varying vec4 vStrokeColor;",Ge="gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);",Xe="varying float vDefined;",Qe="\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }",Ke=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(_e).appendBody(be),e.appendHeader(Be).appendBody(Re),{vertex:function(){return t},fragment:function(){return e}}},Je={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function tn(t){switch(t){case Je.BYTE:case Je.UNSIGNED_BYTE:return 1;case Je.SHORT:case Je.UNSIGNED_SHORT:return 2;case Je.FLOAT:return 4;default:throw new Error("Unknown type ".concat(t))}}function en(t){switch(t){case Je.BYTE:return Int8Array;case Je.UNSIGNED_BYTE:return Uint8Array;case Je.SHORT:return Int16Array;case Je.UNSIGNED_SHORT:return Uint16Array;case Je.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(t))}}var nn=function(){var t=-1,e=null,n=1,r=Je.FLOAT,i=!1,a=0,o=0,l=null,c=function(c){var s=c.context();null==e&&(e=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,e),s.vertexAttribPointer(t,n,r,i,a,o),s.enableVertexAttribArray(t),c.extInstancedArrays().vertexAttribDivisorANGLE(t,null!=l?l:c.subInstanceCount()>0?1:0)};return c.location=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.buffer=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.size=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.normalized=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.stride=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.offset=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.divisor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c},rn=function(){var t=!0,e=1,n=Je.FLOAT,r=function(){var t=Je.FLOAT,e=new Float32Array(0),n=function(n){var r=en(t);return e.length>n?e=new r(e.buffer,0,n):e.length!==n&&(e=new r(n)),e};return n.type=function(){if(!arguments.length)return t;if(t!==(arguments.length<=0?void 0:arguments[0])){var r=en(t=arguments.length<=0?void 0:arguments[0]);e=new r(0)}return n},n}(),i=function(t,e){return t},a=null,o=function(){var o=a.length,l=r.type(n)(o*e);if(e>1)for(var c=0;c<o;c++){var s=i(a[c],c);if(s.length!==e)throw new Error("Expected components array of size ".concat(e,", recieved array with length ").concat(s.length,"."));for(var u=0;u<e;u++)l[c*e+u]=s[u]}else for(var f=0;f<o;f++){var d=i(a[f],f);if(Array.isArray(d))throw new Error("Expected a single component value, recieved array with length ".concat(d.length,"."));l[f]=d}return t=!1,l};return o.dirty=function(){return t},o.clear=function(){t=!0},o.size=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t=!0,o):e},o.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],t=!0,o):n},o.arrayViewFactory=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],t=!0,o):r},o.value=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],t=!0,o):i},o.data=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],t=!0,o):a},o},an=function(){var t=nn(),e=rn(),n=function n(r){if(t.size(n.size()).type(n.type()),t(r),e.dirty()){var i=e(),a=r.context();a.bindBuffer(a.ARRAY_BUFFER,t.buffer()),a.bufferData(a.ARRAY_BUFFER,i,a.DYNAMIC_DRAW)}};return n.clear=function(){t.buffer(null),e.clear()},g(n,t,"normalized","location","divisor"),g(n,e,"data","value","size","type"),n},on=function(t,e,n,r){for(var i=arguments.length,a=new Array(i>4?i-4:0),o=4;o<i;o++)a[o-4]=arguments[o];t[e]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var l=n[r].apply(n,a.concat(i));return l===n?t:l}},ln=function(){var t=It().mode(Lt).subInstanceCount(6),e=Dt(),n=Dt(),r=function(){},i=an().divisor(0).size(3).type(Je.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);t.buffers().attribute("aCorner",i);var a=function(i){var a=Ke();t.vertexShader(a.vertex()).fragmentShader(a.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t(i-1)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},g(a,t,"context","pixelRatio"),on(a,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(a,"crossNextValueAttribute",t.buffers(),"attribute","aCrossNextValue"),on(a,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),on(a,"mainNextValueAttribute",t.buffers(),"attribute","aMainNextValue"),on(a,"baseValueAttribute",t.buffers(),"attribute","aBaseValue"),on(a,"baseNextValueAttribute",t.buffers(),"attribute","aBaseNextValue"),on(a,"definedAttribute",t.buffers(),"attribute","aDefined"),on(a,"definedNextAttribute",t.buffers(),"attribute","aDefinedNext"),a},cn=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(Ut).appendBody(Wt),e.appendHeader(ye).appendBody(we),{vertex:function(){return t},fragment:function(){return e}}},sn=function(){var t=It().mode(Ot),e=Dt(),n=Dt(),r=cn(),i=function(){},a=function(a){t.vertexShader(r.vertex()).fragmentShader(r.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),i(t),t(a)};return a.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},g(a,t,"context","pixelRatio"),on(a,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(a,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),on(a,"sizeAttribute",t.buffers(),"attribute","aSize"),on(a,"definedAttribute",t.buffers(),"attribute","aDefined"),a},un=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(fe).appendBody(de),e.appendHeader(Xe).appendBody(Qe),{vertex:function(){return t},fragment:function(){return e}}},fn=function(){var t=1,e=function(e){e.buffers().uniform("uStrokeWidth",zt(t))};return e.lineWidth=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},dn=function(t){var e=null,n=t,r=!0,i=function(t){var i=t.context();null==e&&(e=i.createBuffer()),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e),r&&(i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),i.STATIC_DRAW),r=!1)};return i.clear=function(){e=null,r=!0},i.data=function(){return arguments.length?(r=!0,n=arguments.length<=0?void 0:arguments[0],i):n},i},hn=function(){var t=It().mode(Lt).subInstanceCount(12),e=Dt(),n=Dt(),r=function(){},i=fn(),a=an().divisor(0).size(3).type(Je.BYTE).data([[-1,0,0],[1,1,0],[1,-1,1],[-1,0,1],[1,1,1]]);t.buffers().elementIndices(dn([0,1,2,1,2,3,0,2,3,2,3,4])).attribute("aCorner",a);var o=function(a){var o=un();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"prev",0),n(t,"prev",1),e(t,"curr",0),n(t,"curr",1),e(t,"gl_Position",0),n(t,"gl_Position",1),e(t,"nextNext",0),n(t,"nextNext",1),t.vertexShader().appendBody(he),i(t),r(t),t(a-1)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,i,"lineWidth"),on(o,"crossPreviousValueAttribute",t.buffers(),"attribute","aCrossPrevValue"),on(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(o,"crossNextValueAttribute",t.buffers(),"attribute","aCrossNextValue"),on(o,"crossNextNextValueAttribute",t.buffers(),"attribute","aCrossNextNextValue"),on(o,"mainPreviousValueAttribute",t.buffers(),"attribute","aMainPrevValue"),on(o,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),on(o,"mainNextValueAttribute",t.buffers(),"attribute","aMainNextValue"),on(o,"mainNextNextValueAttribute",t.buffers(),"attribute","aMainNextNextValue"),on(o,"definedAttribute",t.buffers(),"attribute","aDefined"),on(o,"definedNextAttribute",t.buffers(),"attribute","aDefinedNext"),o},gn=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(le).appendBody(ce),e.appendHeader(Le).appendBody(Ie),{vertex:function(){return t},fragment:function(){return e}}},pn=function(){var t=It().mode(Lt).subInstanceCount(18),e=Dt(),n=Dt(),r=fn(),i=function(){},a=an().divisor(0).size(3).type(Je.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);t.buffers().elementIndices(dn([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",a);var o=function(a){var o=gn();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),i(t),t(a)};return o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,r,"lineWidth"),on(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(o,"openValueAttribute",t.buffers(),"attribute","aOpenValue"),on(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),on(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),on(o,"closeValueAttribute",t.buffers(),"attribute","aCloseValue"),on(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),on(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},_n=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(se).appendBody(ue),e.appendHeader(He).appendBody(Ue),{vertex:function(){return t},fragment:function(){return e}}},bn=function(){var t=It().mode(Lt).subInstanceCount(6),e=Dt(),n=Dt(),r=function(){},i=an().divisor(0).size(2).type(Je.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);t.buffers().elementIndices(dn([0,1,2,0,1,3])).attribute("aCorner",i);var a=function(i){var a=_n();t.vertexShader(a.vertex()).fragmentShader(a.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),t.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n        "),r(t),t(i)};return a.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},g(a,t,"context","pixelRatio"),on(a,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(a,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),on(a,"baseValueAttribute",t.buffers(),"attribute","aBaseValue"),on(a,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),on(a,"definedAttribute",t.buffers(),"attribute","aDefined"),a},mn=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(ge).appendBody(pe),e.appendHeader(Fe).appendBody(Ze),{vertex:function(){return t},fragment:function(){return e}}},vn=function(){var t=It().mode(Lt).subInstanceCount(18),e=Dt(),n=Dt(),r=function(){},i=fn(),a=an().divisor(0).size(3).type(Je.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);t.buffers().elementIndices(dn([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",a);var o=function(a){var o=mn();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),i(t),t.vertexShader().appendBody("\n                gl_Position.x += xModifier / uScreen.x * 2.0;\n                gl_Position.y += yModifier / uScreen.y * 2.0;\n            "),r(t),t(a)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,i,"lineWidth"),on(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),on(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),on(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),on(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},yn=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(ae).appendBody(oe),e.appendHeader(ze).appendBody(Oe),{vertex:function(){return t},fragment:function(){return e}}},wn=function(){var t=It().mode(Lt).subInstanceCount(12),e=Dt(),n=Dt(),r=fn(),i=function(){},a=an().divisor(0).size(3).type(Je.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);t.buffers().elementIndices(dn([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",a);var o=function(a){var o=yn();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),i(t),t(a)};return o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,r,"lineWidth"),on(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(o,"openValueAttribute",t.buffers(),"attribute","aOpenValue"),on(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),on(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),on(o,"closeValueAttribute",t.buffers(),"attribute","aCloseValue"),on(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),on(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},xn=function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(me).appendBody(ve),e.appendHeader(Ye).appendBody(je),{vertex:function(){return t},fragment:function(){return e}}},Sn=function(){var t=It().mode(Lt).subInstanceCount(54),e=Dt(),n=Dt(),r=function(){},i=fn(),a=an().divisor(0).size(4).type(Je.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);t.buffers().elementIndices(dn([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",a);var o=function(a){var o=xn();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),i(t),t.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n            gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),r(t),t(a)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,i,"lineWidth"),on(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),on(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),on(o,"upperQuartileValueAttribute",t.buffers(),"attribute","aUpperQuartileValue"),on(o,"medianValueAttribute",t.buffers(),"attribute","aMedianValue"),on(o,"lowerQuartileValueAttribute",t.buffers(),"attribute","aLowerQuartileValue"),on(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),on(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),on(o,"capAttribute",t.buffers(),"attribute","aCapWidth"),on(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},Mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t>0||e<0)throw new Error("Offset values (".concat(t," & ").concat(e,") must straddle 0 "));var n=nn(),r=rn(),i=function i(a){var o=i.size()*tn(i.type()),l=Math.abs(t)*o;if(n.offset(l).size(i.size()).type(i.type()),n(a),r.dirty()){var c=r(),s=e*o,u=l+c.length*tn(i.type())+s,f=a.context();f.bindBuffer(f.ARRAY_BUFFER,n.buffer()),f.bufferData(f.ARRAY_BUFFER,u,f.DYNAMIC_DRAW),f.bufferSubData(f.ARRAY_BUFFER,l,c)}};return i.offset=function(r){if(t>r||r>e)throw new Error("Requested offset ".concat(r," exceeds bounds (").concat(t," & ").concat(e,") "));var a=function(e){n.offset((r-t)*i.size()*tn(i.type())),n(e)};return g(a,i,"clear","location"),a},i.clear=function(){n.buffer(null),r.clear()},g(i,n,"normalized","location","divisor"),g(i,r,"data","value","size","type"),i},kn=function(){var t=Dt(),e=function(t){return"linear".concat(t)},n=function(n,r,i){n.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(e(i),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(e(i),"Scale;")).appendBody("".concat(r," = ").concat(r," + ").concat(e(i),"Offset;")).appendBody("".concat(r," = ").concat(r," * ").concat(e(i),"Scale;"));var a=t.domain()[1]-t.domain()[0],o=t.range()[1]-t.range()[0],l=t.range()[0]*(a/o)-t.domain()[0],c=o/a,s=[0,0,0,0],u=[1,1,1,1];s[i]=l,u[i]=c,n.buffers().uniform("".concat(e(i),"Offset"),zt(s)).uniform("".concat(e(i),"Scale"),zt(u))};return _(n,t),n},An=function(){var t=Dt(),e=10;function n(t,e){return Math.log10(t)/Math.log10(e)}var r=function(t){return"log".concat(t)},i=function(i,a,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * clamp(log(").concat(a,") / log(").concat(r(o),"Base), -inf, inf))");i.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Base;")).appendBody("".concat(a," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(a,");"));var c=n(t.domain()[1],e)-n(t.domain()[0],e),s=(t.range()[1]-t.range()[0])/c,u=t.range()[0]-s*n(t.domain()[0],e),f=[0,0,0,0],d=[0,0,0,0],h=[0,0,0,0];f[o]=u,d[o]=s,h[o]=1,i.buffers().uniform("".concat(r(o),"Offset"),zt(f)).uniform("".concat(r(o),"Scale"),zt(d)).uniform("".concat(r(o),"Include"),zt(h)).uniform("".concat(r(o),"Base"),zt(e))};return i.base=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},_(i,t),i},Cn=function(){var t=Dt(),e=1;function n(t,e){return Math.sign(t)*Math.pow(Math.abs(t),e)}var r=function(t){return"pow".concat(t)},i=function(i,a,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * sign(").concat(a,") * pow(abs(").concat(a,"), vec4(").concat(r(o),"Exp)))");i.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Exp;")).appendBody("".concat(a," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(a,");"));var c=n(t.domain()[1],e)-n(t.domain()[0],e),s=(t.range()[1]-t.range()[0])/c,u=t.range()[0]-s*n(t.domain()[0],e),f=[0,0,0,0],d=[0,0,0,0],h=[0,0,0,0];f[o]=u,d[o]=s,h[o]=1,i.buffers().uniform("".concat(r(o),"Offset"),zt(f)).uniform("".concat(r(o),"Scale"),zt(d)).uniform("".concat(r(o),"Include"),zt(h)).uniform("".concat(r(o),"Exp"),zt(e))};return i.exponent=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},_(i,t),i},Tn=n.scaleLinear().copy.toString(),En=n.scaleLog().copy.toString(),Nn=n.scalePow().copy.toString(),Vn=n.scaleTime().copy.toString(),Dn=n.scaleIdentity(),Pn=Date.now(),zn=function(t){return t-Pn},On=function(t){switch(t.copy.toString()){case Tn:return{scale:Dn,webglScale:kn().domain(t.domain())};case Vn:return{scale:zn,webglScale:kn().domain(t.domain().map(zn))};case En:return{scale:Dn,webglScale:An().domain(t.domain()).base(t.base())};case Nn:return{scale:Dn,webglScale:Cn().domain(t.domain()).exponent(t.exponent())};default:return{scale:t.copy(),webglScale:kn().domain(t.range())}}},Ln=function(t){switch(t){case c.symbolCircle:return cn();case c.symbolSquare:return e=Bt(Rt),n=Bt(Yt),e.appendHeader(Qt).appendBody(Kt),n.appendHeader(Ae).appendBody(Ce),{vertex:function(){return e},fragment:function(){return n}};case c.symbolTriangle:return function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(ee).appendBody(ne),e.appendHeader(Ne).appendBody(Ve),{vertex:function(){return t},fragment:function(){return e}}}();case c.symbolCross:return function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(re).appendBody(ie),e.appendHeader(De).appendBody(Pe),{vertex:function(){return t},fragment:function(){return e}}}();case c.symbolDiamond:return function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(Jt).appendBody(te),e.appendHeader(Te).appendBody(Ee),{vertex:function(){return t},fragment:function(){return e}}}();case c.symbolStar:return function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(qt).appendBody($t),e.appendHeader(xe).appendBody(Se),{vertex:function(){return t},fragment:function(){return e}}}();case c.symbolWye:return function(){var t=Bt(Rt),e=Bt(Yt);return t.appendHeader(Gt).appendBody(Xt),e.appendHeader(Me).appendBody(ke),{vertex:function(){return t},fragment:function(){return e}}}();default:throw new Error("Unrecognised symbol: ".concat(t))}var e,n},In=function(t){var e=nn().divisor(1),n=t,r=!0,i=function(t){if(e(t),r){if(!Array.isArray(n))throw new Error("Expected an array, received: ".concat(n));if(n.length!==e.size())throw new Error("Expected array of length: ".concat(e.size(),", recieved array of length: ").concat(n.length));var i=t.context();i["vertexAttrib".concat(n.length,"fv")](e.location(),n),i.disableVertexAttribArray(e.location()),r=!1}};return i.clear=function(){r=!0},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,i):n},g(i,e,"normalized","size","location"),i},Bn=function(){var t=Mt(),e=Mn(-1,2),n=e.offset(-1),r=e.offset(1),i=e.offset(2),a=Mn(-1,2),o=a.offset(-1),l=a.offset(1),c=a.offset(2),s=Mn(0,1).type(Je.UNSIGNED_BYTE),u=s.offset(1),f=hn().crossPreviousValueAttribute(n).crossValueAttribute(e).crossNextValueAttribute(r).crossNextNextValueAttribute(i).mainPreviousValueAttribute(o).mainValueAttribute(a).mainNextValueAttribute(l).mainNextNextValueAttribute(c).definedAttribute(s).definedNextAttribute(u),d=function(t,e){return!1},h=On,p=[],b=null,v=null,y=function(n){var r=h(t.xScale()),i=h(t.yScale()),o=!d(p,n);o&&(p=n,s.value((function(e,n){return t.defined()(e,n)})).data(n)),(o||r.scale!==b)&&(b=r.scale,"vertical"===t.orient()?e.value((function(e,n){return r.scale(t.crossValue()(e,n))})).data(n):e.value((function(e,n){return r.scale(t.mainValue()(e,n))})).data(n)),(o||i.scale!==v)&&(v=i.scale,"vertical"===t.orient()?a.value((function(e,n){return i.scale(t.mainValue()(e,n))})).data(n):a.value((function(e,n){return i.scale(t.crossValue()(e,n))})).data(n)),f.xScale(r.webglScale).yScale(i.webglScale).decorate((function(e){return t.decorate()(e,n,0)})),f(n.length)};return y.equals=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.scaleMapper=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},_(y,t,m("baseValue","bandwidth","align")),g(y,f,"context","lineWidth","pixelRatio"),y},Rn=function(){var t=c.symbol(),e=Mt(),n=ft("g","point"),r=function(t){return"translate("+t[0]+", "+t[1]+")"},i=function(i){ut(i)&&n.transition(i),i.each((function(i,a,o){var c=i.filter(e.defined()),s=n(l.select(o[a]),c);s.enter().attr("transform",(function(t,n){return r(e.values(t,n).origin)})).attr("fill",Tt).attr("stroke",Ct).append("path"),s.attr("transform",(function(t,n){return r(e.values(t,n).origin)})).select("path").attr("d",t),e.decorate()(s,i,a)}))};return _(i,e,m("baseValue","bandwidth","align")),g(i,n,"key"),g(i,t,"type","size"),i},Yn=function(){var t=c.symbol(),e=Mt(),n=function(n){var r=n.filter(e.defined()),i=t.context();r.forEach((function(n,r){i.save();var a=e.values(n,r);i.translate(a.origin[0],a.origin[1]),i.beginPath(),i.strokeStyle=Ct,i.fillStyle=Tt,e.decorate()(i,n,r),t(n,r),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return _(n,e,m("baseValue","bandwidth","align")),g(n,t,"size","type","context"),n},jn=function(){var t=function(t){return t.high},e=function(t){return t.low},r=function(t){return t.cross},i="vertical",a="center",o=function(){return 5},l=St({decorate:function(){},defined:function(n,i){return wt(e,t,r)(n,i)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,c){var s=o(n,c),u=xt(a,s),f=l.xScale(),d=l.yScale();if("vertical"===i){var h=d(t(n,c));return{origin:[f(r(n,c))+u,h],high:0,low:d(e(n,c))-h,width:s}}var g=f(e(n,c));return{origin:[g,d(r(n,c))+u],high:f(t(n,c))-g,low:0,width:s}},l.xValues=function(){return"vertical"===i?[r]:[t,e]},l.yValues=function(){return"vertical"!==i?[r]:[t,e]},l.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.lowValue=function(){return arguments.length?(e=yt(arguments.length<=0?void 0:arguments[0]),l):e},l.highValue=function(){return arguments.length?(t=yt(arguments.length<=0?void 0:arguments[0]),l):t},l.crossValue=function(){return arguments.length?(r=yt(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(o=yt(arguments.length<=0?void 0:arguments[0]),l):o},l.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l},Fn=function(){var t,e=function(t){return t.date},r=function(t){return t.open},i=function(t){return t.high},a=function(t){return t.low},o=function(t){return t.close},l=function(){return 5},c="center",s=function(n,r){return t.xScale()(e(n,r))};return(t=St({decorate:function(){},defined:function(t,n){return wt(e,r,a,i,o)(t,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()})).values=function(e,n){var u=o(e,n),f=r(e,n),d=l(e,n),h=xt(c,d),g="";return u>f?g="up":u<f&&(g="down"),{cross:s(e,n)+h,open:t.yScale()(f),high:t.yScale()(i(e,n)),low:t.yScale()(a(e,n)),close:t.yScale()(u),width:d,direction:g}},t.xValues=function(){return[e]},t.yValues=function(){return[r,i,a,o]},t.crossValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],t):r},t.highValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],t):i},t.lowValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],t):a},t.yValue=t.closeValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],t):o},t.bandwidth=function(){return arguments.length?(l=yt(arguments.length<=0?void 0:arguments[0]),t):l},t.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],t):c},t},Zn=function(t,e){var n=Fn(),r=ft("g",e),i=function(t){return"translate("+t.cross+", "+t.high+")"},a=function(a){ut(a)&&r.transition(a);var o,c=(o=a,function(t){return ut(o)?t.transition(o):t});a.each((function(a,o,s){var u=a.filter(n.defined()),f=r(l.select(s[o]),u);f.enter().attr("transform",(function(t,e){return i(n.values(t,e))+" scale(1e-6, 1)"})).append("path"),f.each((function(r,a,o){var s=n.values(r,a),u="up"===s.direction?At:kt,f=c(l.select(o[a])).attr("class",e+" "+s.direction).attr("stroke",u).attr("fill",u).attr("transform",(function(){return i(s)+" scale(1)"}));t.x(0).width(s.width).open((function(){return s.open-s.high})).high(0).low((function(){return s.low-s.high})).close((function(){return s.close-s.high})),f.select("path").attr("d",t([r]))})),n.decorate()(f,a,o)}))};return g(a,r,"key"),_(a,n),a},Hn=function(t){var e=Fn(),n=function(n){var r=n.filter(e.defined()),i=t.context();r.forEach((function(n,r){i.save();var a=e.values(n,r);i.translate(a.cross,a.high),i.beginPath(),t.x(0).open((function(){return a.open-a.high})).width(a.width).high(0).low((function(){return a.low-a.high})).close((function(){return a.close-a.high}))([n]);var o="up"===a.direction?At:kt;i.strokeStyle=o,i.fillStyle=o,e.decorate()(i,n,r),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return g(n,t,"context"),_(n,e),n},Un=function(t){var e=Fn(),n=an(),r=an(),i=an(),a=an(),o=an(),l=an().type(Je.UNSIGNED_SHORT),c=an().type(Je.UNSIGNED_BYTE);t.crossValueAttribute(n).openValueAttribute(r).highValueAttribute(i).lowValueAttribute(a).closeValueAttribute(o).bandwidthAttribute(l).definedAttribute(c);var s=function(t,e){return!1},u=On,f=[],d=null,h=null,p=function(g){var p=u(e.xScale()),_=u(e.yScale()),b=!s(f,g);b&&(f=g,l.value((function(t,n){return e.bandwidth()(t,n)})).data(g),c.value((function(t,n){return e.defined()(t,n)})).data(g)),(b||p.scale!==d)&&(d=p.scale,n.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(g)),(b||_.scale!==h)&&(h=_.scale,r.value((function(t,n){return _.scale(e.openValue()(t,n))})).data(g),i.value((function(t,n){return _.scale(e.highValue()(t,n))})).data(g),a.value((function(t,n){return _.scale(e.lowValue()(t,n))})).data(g),o.value((function(t,n){return _.scale(e.closeValue()(t,n))})).data(g)),t.xScale(p.webglScale).yScale(_.webglScale).decorate((function(t){return e.decorate()(t,g,0)})),t(g.length)};return p.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},_(p,e,m("align")),g(p,t,"context","lineWidth","pixelRatio"),p},Wn=function(){var t=function(t){return t.upperQuartile},e=function(t){return t.lowerQuartile},r=function(t){return t.high},i=function(t){return t.low},a=function(t){return t.value},o=function(t){return t.median},l="vertical",c="center",s=function(){return 5},u=St({decorate:function(){},defined:function(n,l){return wt(i,r,e,t,a,o)(n,l)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.values=function(n,f){var d=s(n,f),h=xt(c,d),g=u.xScale(),p=u.yScale();if("vertical"===l){var _=p(r(n,f));return{origin:[g(a(n,f))+h,_],high:0,upperQuartile:p(t(n,f))-_,median:p(o(n,f))-_,lowerQuartile:p(e(n,f))-_,low:p(i(n,f))-_,width:d}}var b=g(i(n,f));return{origin:[b,p(a(n,f))+h],high:g(r(n,f))-b,upperQuartile:g(t(n,f))-b,median:g(o(n,f))-b,lowerQuartile:g(e(n,f))-b,low:0,width:d}},u.xValues=function(){return"vertical"===l?[a]:[t,e,r,i,o]},u.yValues=function(){return"vertical"!==l?[a]:[t,e,r,i,o]},u.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u.lowerQuartileValue=function(){return arguments.length?(e=yt(arguments.length<=0?void 0:arguments[0]),u):e},u.upperQuartileValue=function(){return arguments.length?(t=yt(arguments.length<=0?void 0:arguments[0]),u):t},u.lowValue=function(){return arguments.length?(i=yt(arguments.length<=0?void 0:arguments[0]),u):i},u.highValue=function(){return arguments.length?(r=yt(arguments.length<=0?void 0:arguments[0]),u):r},u.crossValue=function(){return arguments.length?(a=yt(arguments.length<=0?void 0:arguments[0]),u):a},u.medianValue=function(){return arguments.length?(o=yt(arguments.length<=0?void 0:arguments[0]),u):o},u.bandwidth=function(){return arguments.length?(s=yt(arguments.length<=0?void 0:arguments[0]),u):s},u.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u},qn=function(){var t=[],e=function(t){return t},r=function(t,e){return e},i=St({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return i.xValues=function(){return t.map((function(t){return t.xValues()})).reduce((function(t,e){return t.concat(e)}))},i.yValues=function(){return t.map((function(t){return t.yValues()})).reduce((function(t,e){return t.concat(e)}))},i.mapping=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i},$n=function(){var t=qn(),e=ft("g"),n=ft("g","multi"),r=function(r){ut(r)&&(n.transition(r),e.transition(r));var i=t.mapping(),a=t.series(),o=t.xScale(),c=t.yScale();r.each((function(r,s,u){var f=n(l.select(u[s]),a);f.each((function(t,n,s){t.xScale(o).yScale(c);var u=i(r,n,a);e(l.select(s[n]),[u]).call(t)})),f.selection().order(),t.decorate()(f,r,s)}))};return _(r,t),g(r,n,"key"),r},Gn=function(){var t=null,e=qn(),n=function(n){var r=e.mapping(),i=e.series(),a=e.xScale(),o=e.yScale();i.forEach((function(l,c){var s,u=r(n,c,i);l.context(t).xScale(a).yScale(o),l.decorate?(s=l.decorate(),l.decorate((function(t,r,i){e.decorate()(t,n,c),s(t,r,i)}))):e.decorate()(t,n,c),l(u),s&&l.decorate(s)}))};return n.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},_(n,e),n},Xn=function(){var t=null,e=1,n=qn(),r=function(r){var i=n.mapping(),a=n.series(),o=n.xScale(),l=n.yScale();a.forEach((function(c,s){var u,f=i(r,s,a);c.context(t).pixelRatio(e).xScale(o).yScale(l),c.decorate?(u=c.decorate(),c.decorate((function(t,e,i){n.decorate()(t,r,s),u(t,e,i)}))):n.decorate()(t,r,s),c(f),u&&c.decorate(u)}))};return r.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.pixelRatio=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},_(r,n),r},Qn=function(t){var r=function(){return 50},i="center",a=n.scaleBand(),o=St({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return o.offsetScaleForDatum=function(t,n,o){var l=r(n,o),c=xt(i,l),s=l/2;return a.domain(e.range(0,t.length)).range([-s+c,s+c])},o.bandwidth=function(){return arguments.length?(r=yt(arguments.length<=0?void 0:arguments[0]),o):r},o.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},_(o,a,y({paddingInner:"paddingOuter"})),o};var Kn=function(){var t=function(t){return t.x},r=function(t){return t.y},i=function(t){return t.color},a=function(){return 5},o=function(){return 5},l=s.interpolateViridis,c=St({decorate:function(){},defined:function(e,n){return wt(t,r,i)(e,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return c.pathGenerator=it().x(0).y(0),c.colorScale=function(t){var r=t.map(i);return n.scaleLinear().domain([e.min(r),e.max(r)])},c.values=function(e,n){return{x:c.xScale()(t(e,n)),y:c.yScale()(r(e,n)),colorValue:i(e,n),width:o(e,n),height:a(e,n)}},c.xValues=function(){return[t]},c.yValues=function(){return[r]},c.xValue=function(){return arguments.length?(t=yt(arguments.length<=0?void 0:arguments[0]),c):t},c.yValue=function(){return arguments.length?(r=yt(arguments.length<=0?void 0:arguments[0]),c):r},c.colorValue=function(){return arguments.length?(i=yt(arguments.length<=0?void 0:arguments[0]),c):i},c.colorInterpolate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c.xBandwidth=function(){return arguments.length?(o=yt(arguments.length<=0?void 0:arguments[0]),c):o},c.yBandwidth=function(){return arguments.length?(a=yt(arguments.length<=0?void 0:arguments[0]),c):a},_(c,c.pathGenerator,y({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),c},Jn=function(t){return"function"==typeof t?t:function(){return t}},tr=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},i=r,a=function(){},o="horizontal",c=ft("g","annotation-line"),s=function(n){if(ut(n)&&c.transition(n),"horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var s="horizontal"===o,u=s?function(t,e){return"translate(".concat(t,", ").concat(e,")")}:function(t,e){return"translate(".concat(e,", ").concat(t,")")},f=s?"x2":"y2",d=s?e:t,h=s?"left-handle":"bottom-handle",g=s?"right-handle":"top-handle",p=s?"9":"0",_=s?"0":"9",b=s?"0.32em":"0.71em",m=s?"start":"middle",v=(s?t:e).range(),y=function(){return u(v[0],d(r.apply(void 0,arguments)))},w=v[1]-v[0];n.each((function(t,e,n){var r=c(l.select(n[e]),t),s=r.enter().attr("transform",y).style("stroke","#bbb");s.append("line").attr(f,w),s.append("g").classed(h,!0).style("stroke","none"),s.append("g").classed(g,!0).style("stroke","none").attr("transform",u(w,0)).append("text").attr("text-anchor",m).attr("x",p).attr("y",_).attr("dy",b),r.attr("class","annotation-line ".concat(o)),r.attr("transform",y),r.select("line").attr(f,w),r.select("g."+g).attr("transform",u(w,0)),r.select("text").text(i),a(r,t,e)}))};return s.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.value=function(){return arguments.length?(r=Jn(arguments.length<=0?void 0:arguments[0]),s):r},s.label=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),s):i},s.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s};var er=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},i=r,a=function(){},o="horizontal",l=c.line(),s=function(n){if("horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var c="horizontal"===o,s=l.context(),u=c?t:e,f=c?e:t,d=u.domain(),h=c?9:0,g=c?0:9,p=c?"left":"center",_=c?"middle":"hanging";n.forEach((function(t,e){s.save(),s.beginPath(),s.strokeStyle="#bbb",s.fillStyle="#000",s.textAlign=p,s.textBaseline=_,a(s,t,e),l.context(s)(d.map((function(e){var n=[u(e),f(r(t))];return c?n:n.reverse()})));var n=c?u(d[1]):f(r(t)),o=c?f(r(t)):u(d[1]);s.fillText(i(t),n+h,o+g),s.fill(),s.stroke(),s.closePath(),s.restore()}))};return s.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.value=function(){return arguments.length?(r=Jn(arguments.length<=0?void 0:arguments[0]),s):r},s.label=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),s):i},s.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},g(s,l,"context"),s},nr=function(){var t=n.scaleIdentity(),e=[10],r=null,i=function(){var n;return null!=r?r:t.ticks?(n=t).ticks.apply(n,j(e)):t.domain()};return i.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.ticks=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=n,i},i.tickArguments=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},rr=function(t){return t},ir=function(t){return t},ar=function(t,e,n,r){return t[e]?t[e].apply(t,n):r},or=function(t){var e;return null!==(e=t.tickValues())&&void 0!==e?e:ar(t.scale(),"ticks",t.tickArguments(),t.scale().domain())},lr=function(t){var e;return null!==(e=t.tickFormat())&&void 0!==e?e:ar(t.scale(),"tickFormat",t.tickArguments(),ir)},cr=function(t){return t},sr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[10],i=null,a=function(){},o=null,s=6,u=6,f=3,d=c.line(),h=ft("g","tick").key(cr),g=ft("path","domain"),p=function(){return{offset:[0,u+f]}},_=function(){return{path:[[0,0],[0,u]]}},b=n.labelOffset||p,m=n.tickPath||_,v=function(t,e){var n=0;return t.bandwidth&&(n=t.bandwidth()/2,t.round()&&(n=Math.round(n))),function(r){return e(t(r)+n,0)}},y=function(t,e){return x()?"translate(".concat(e,", ").concat(t,")"):"translate(".concat(t,", ").concat(e,")")},w=function(t){return x()?t.map((function(t){return[t[1],t[0]]})):t},x=function(){return"left"===t||"right"===t},S=function n(r){ut(r)&&(h.transition(r),g.transition(r)),r.each((function(r,i,o){var c=o[i],u=l.select(c);c.__scale__||u.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===t?"start":"left"===t?"end":"middle");var f=c.__scale__||e;c.__scale__=e.copy();var p=or(n),_=lr(n),S="bottom"===t||"right"===t?1:-1,M=function(t){var e=Y(t,2),n=e[0],r=e[1];return[n,S*r]},k=e.range(),A=w([[k[0],S*s],[k[0],0],[k[1],0],[k[1],S*s]]),C=g(u,[r]);C.enter().attr("stroke","#000"),C.attr("d",d(A));var T=h(u,p),E=p.map((function(t,e){return b(t,e,p)})),N=p.map((function(t,e){return m(t,e,p)}));T.enter().attr("transform",v(f,y)).append("path").attr("stroke","#000"),T.enter().append("text").attr("transform",(function(t,e){return y.apply(void 0,j(M(E[e].offset)))})).attr("fill","#000"),T.exit().attr("transform",v(e,y)),T.select("path").attr("visibility",(function(t,e){return N[e].hidden&&"hidden"})).attr("d",(function(t,e){return d(w(N[e].path.map(M)))})),T.select("text").attr("visibility",(function(t,e){return E[e].hidden&&"hidden"})).attr("transform",(function(t,e){return y.apply(void 0,j(M(E[e].offset)))})).attr("dy",(function(){var e="0em";return x()?e="0.32em":"bottom"===t&&(e="0.71em"),e})).text(_),T.attr("transform",v(e,y)),a(T,r,i)}))};return S.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],S):o},S.tickSize=function(){return arguments.length?(u=s=Number(arguments.length<=0?void 0:arguments[0]),S):u},S.tickSizeInner=function(){return arguments.length?(u=Number(arguments.length<=0?void 0:arguments[0]),S):u},S.tickSizeOuter=function(){return arguments.length?(s=Number(arguments.length<=0?void 0:arguments[0]),S):s},S.tickPadding=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],S):f},S.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],S):a},S.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],S):e},S.ticks=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r=[].concat(e),S},S.tickArguments=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:j(arguments.length<=0?void 0:arguments[0]),S):null!==r?r.slice():null},S.tickValues=function(){return arguments.length?(i=null==(arguments.length<=0?void 0:arguments[0])?[]:j(arguments.length<=0?void 0:arguments[0]),S):null!==i?i.slice():null},S.orient=function(){return t},S},ur=function(t,e){var n=!1,r=sr(t,e,{labelOffset:function(t,i,a){var o=0,l=r.tickSizeInner()+r.tickPadding(),c=!1;if(n){var s=e(t),u=i<a.length-1?e(a[i+1]):e.range()[1];o=(u-s)/2,l=r.tickPadding(),c=i===a.length-1&&s===u}return{offset:[o,l],hidden:c}}}),i=function(t){return r(t)};return i.tickCenterLabel=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},_(i,r),i},fr=function(t){return ur("top",t)},dr=function(t){return ur("bottom",t)},hr=function(t){return ur("left",t)},gr=function(t){return ur("right",t)},pr=function(t,e){var n=null,r=function(t,n,r){if(e.step)return e.step();var i=e(t);return n<r.length-1?e(r[n+1])/i:2*(e.range()[1]-i)},i=sr(t,e,{labelOffset:function(){return{offset:[0,i.tickPadding()]}},tickPath:function(t,e,a){var o;return{path:[[o=n?n(t,e):r(t,e,a)/2,0],[o,i.tickSizeInner()]],hidden:e===a.length-1}}}),a=function(t){i(t)};return a.tickOffset=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},_(a,i),a},_r=function(t){return function(e){var n=or(t),r=lr(t),i=n.map(r),a=e.append("text"),o=i.map((function(t){return a.text(t).node().getBBox()})),l=Math.max.apply(Math,j(o.map((function(t){return t.height})))),c=Math.max.apply(Math,j(o.map((function(t){return t.width}))));return a.remove(),{maxHeight:l,maxWidth:c,labelCount:i.length}}},br="__d3fc-elements__",mr=function(t){return t[br]||{}},vr=function(t,e){t[br]=e},yr=function(t){return"D3FC-GROUP"===t.tagName?[t].concat(j(t.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[t]},wr=function(t){var e=mr(t),n=e.width,r=e.height,i=t.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,a=t.clientWidth*i,o=t.clientHeight*i,l=a!==n||o!==r,c=t.children[0];vr(t,{pixelRatio:i,width:a,height:o,resized:l,child:c})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var xr=function(t){var e=mr(t),n=new CustomEvent("measure",{detail:e});t.dispatchEvent(n)},Sr=function(t){var e=mr(t),n=new CustomEvent("draw",{detail:e});t.dispatchEvent(n)},Mr=function(t){return mr(t.ownerDocument).queue||[]},kr=function(t,e){var n=mr(t.ownerDocument).requestId;null==n&&(n=requestAnimationFrame((function(){var e,n=Mr(t);(e=n.map(yr).reduce((function(t,e){return t.concat(e)}))).forEach(wr),e.forEach(xr),e.forEach(Sr),Ar(t)}))),vr(t.ownerDocument,{queue:e,requestId:n})},Ar=function(t){return function(t){return delete t[br]}(t.ownerDocument)},Cr=function(t,e){var n=t;do{if(n.parentNode===e)return!0}while(n=n.parentNode);return!1},Tr=function(t){var e=Mr(t);if(!(e.indexOf(t)>-1||e.some((function(e){return Cr(t,e)})))){var n=e.filter((function(e){return!Cr(e,t)}));n.push(t),kr(t,n)}};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Er=function(t,e){return function(n){D(i,n);var r=R(i);function i(){return E(this,i),r.apply(this,arguments)}return V(i,[{key:"attributeChangedCallback",value:function(t){switch(t){case"use-device-pixel-ratio":this.requestRedraw()}}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(t()),function(t){null==t.__measureListener__&&(t.__measureListener__=function(e){return t.setMeasurements(e.detail)},t.addEventListener("measure",t.__measureListener__))}(this)}},{key:"disconnectedCallback",value:function(){!function(t){null!=t.__measureListener__&&(t.removeEventListener("measure",t.__measureListener__),t.__measureListener__=null)}(this)}},{key:"setMeasurements",value:function(t){var n,r=t.width,i=t.height,a=F(n=this.childNodes)||Z(n)||H(n)||W(),o=a[0];if(a.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");e(this,o,{width:r,height:i})}},{key:"requestRedraw",value:function(){Tr(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(t){t&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!t&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),i}(I(HTMLElement))},Nr=function(t){D(n,t);var e=R(n);function n(){return E(this,n),e.apply(this,arguments)}return V(n,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")},set:function(t){t&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!t&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),n}(Er((function(){return document.createElement("canvas")}),(function(t,e,n){var r=n.width,i=n.height;e.setAttribute("width",r),e.setAttribute("height",i),t.setWebglViewport&&e.getContext("webgl").viewport(0,0,r,i)}))),Vr=function(t){t.autoResize?Dr(t):Pr(t)},Dr=function(t){null==t.__autoResizeListener__&&(t.__autoResizeListener__=function(){return Tr(t)},addEventListener("resize",t.__autoResizeListener__))},Pr=function(t){null!=t.__autoResizeListener__&&(removeEventListener("resize",t.__autoResizeListener__),t.__autoResizeListener__=null)},zr=function(t){D(n,t);var e=R(n);function n(){return E(this,n),e.apply(this,arguments)}return V(n,[{key:"connectedCallback",value:function(){Vr(this)}},{key:"disconnectedCallback",value:function(){Pr(this)}},{key:"requestRedraw",value:function(){Tr(this)}},{key:"attributeChangedCallback",value:function(t){switch(t){case"auto-resize":Vr(this)}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),Vr(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),n}(I(HTMLElement)),Or=Er((function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),(function(t,e,n){var r=n.width,i=n.height;e.setAttribute("viewBox","0 0 ".concat(r," ").concat(i))})),Lr="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Ir=document.createElement("style");if(Ir.setAttribute("type","text/css"),document.querySelector("head").appendChild(Ir),Ir.styleSheet?Ir.styleSheet.cssText+=Lr:Ir.textContent+=Lr,"object"!==("undefined"==typeof customElements?"undefined":T(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Br=[],Rr=function(t,e){customElements.get(t)?Br.push(t):customElements.define(t,e)};Rr("d3fc-canvas",Nr),Rr("d3fc-group",zr),Rr("d3fc-svg",Or),Br.length>0&&console.warn('The d3fc components "'.concat(Br.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var Yr=function(){for(var t={},e=function(e){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e[i].apply(null,t[i])}return e},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=function(){var n=l[o];e[n]=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length?(t[n]=i,e):t[n]}},o=0,l=r;o<l.length;o++)a();return e},jr="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",Fr=document.createElement("style");Fr.setAttribute("type","text/css"),document.querySelector("head").appendChild(Fr),Fr.styleSheet?Fr.styleSheet.cssText+=jr:Fr.textContent+=jr;var Zr=function(t){return"function"==typeof t?t:function(){return t}},Hr=function(){var t=Ur.apply(void 0,arguments),e=t.xScale,n=t.yScale,r=t.xAxis,i=t.yAxis,a=Zr(""),o=Zr(""),c=Zr(""),s=Zr(null),u=Zr(null),f=Zr("right"),d=Zr("bottom"),h=null,g=null,p=null,b=!1,v=!0,y=Yr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),x=function(){},S=Yr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),M=function(){},k=function(){},A=ft("d3fc-group","cartesian-chart"),C=ft("d3fc-canvas","webgl-plot-area"),T=ft("d3fc-canvas","canvas-plot-area"),E=ft("d3fc-svg","svg-plot-area"),N=ft("d3fc-svg","x-axis").key((function(t){return t})),V=ft("d3fc-svg","y-axis").key((function(t){return t})),D=ft("div","chart-label"),P=ft("div","x-label").key((function(t){return t})),z=ft("div","y-label").key((function(t){return t})),O=function(t){return function(e){return ut(t)?e.transition(t):e}},L=function(t){var _=O(t);t.each((function(t,m,w){var O=A(l.select(w[m]),[t]);O.enter().attr("auto-resize",""),D(O,[d(t)]).attr("class",(function(t){return"top"===t?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(t){return"top"===t?0:"1em"})).style("margin-top",(function(t){return"top"===t?"1em":0})).text(a(t)),P(O,[d(t)]).attr("class",(function(t){return"x-label ".concat(t,"-label")})).text(o(t)),z(O,[f(t)]).attr("class",(function(t){return"y-label ".concat(t,"-label")})).text(c(t)),C(O,h?[t]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",v).on("draw",(function(t,r){var i=t.detail,a=i.child,o=i.pixelRatio;h.context(b?null:a.getContext("webgl")).pixelRatio(o).xScale(e).yScale(n),h(r)})),O.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(t){console.warn("WebGLRenderingContext lost"),t.preventDefault(),b=!0,O.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),b=!1,O.node().requestRedraw()})),T(O,g?[t]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",v).on("draw",(function(t,r){var i=t.detail,a=i.child,o=i.pixelRatio,l=a.getContext("2d");l.save(),v&&l.scale(o,o),g.context(l).xScale(e).yScale(n),g(r),l.restore()})),E(O,p?[t]:[]).classed("plot-area",!0).on("draw",(function(t,r){var i=t.detail.child;p.xScale(e).yScale(n),_(l.select(i).datum(r)).call(p)})),N(O,[d(t)]).attr("class",(function(t){return"x-axis ".concat(t,"-axis")})).style("height",s(t)).on("measure",(function(t,n){var r=t.detail,i=r.width,a=r.height,o=r.child;"top"===n&&l.select(o).attr("viewBox","0 ".concat(-a," ").concat(i," ").concat(a)),e.range([0,i])})).on("draw",(function(t,n){var i=t.detail.child,a="top"===n?r.top(e):r.bottom(e);a.decorate(x),_(l.select(i).datum(n)).call(y(a))})),V(O,[f(t)]).attr("class",(function(t){return"y-axis ".concat(t,"-axis")})).style("width",u(t)).on("measure",(function(t,e){var r=t.detail,i=r.width,a=r.height,o=r.child;"left"===e&&l.select(o).attr("viewBox","".concat(-i," 0 ").concat(i," ").concat(a)),n.range([a,0])})).on("draw",(function(t,e){var r=t.detail.child,a="left"===e?i.left(n):i.right(n);a.decorate(M),_(l.select(r).datum(e)).call(S(a))})),O.each((function(t,e,n){return n[e].requestRedraw()})),k(O,t,m)}))},I=m(/range\w*/,/tickFormat/);return _(L,e,I,w("x")),_(L,n,I,w("y")),_(L,y,w("x")),_(L,S,w("y")),L.xOrient=function(){return arguments.length?(d=Zr(arguments.length<=0?void 0:arguments[0]),L):d},L.yOrient=function(){return arguments.length?(f=Zr(arguments.length<=0?void 0:arguments[0]),L):f},L.xDecorate=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],L):x},L.yDecorate=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],L):M},L.chartLabel=function(){return arguments.length?(a=Zr(arguments.length<=0?void 0:arguments[0]),L):a},L.xLabel=function(){return arguments.length?(o=Zr(arguments.length<=0?void 0:arguments[0]),L):o},L.yLabel=function(){return arguments.length?(c=Zr(arguments.length<=0?void 0:arguments[0]),L):c},L.xAxisHeight=function(){return arguments.length?(s=Zr(arguments.length<=0?void 0:arguments[0]),L):s},L.yAxisWidth=function(){return arguments.length?(u=Zr(arguments.length<=0?void 0:arguments[0]),L):u},L.webglPlotArea=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],L):h},L.canvasPlotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],L):g},L.svgPlotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],L):p},L.decorate=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],L):k},L.useDevicePixelRatio=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],L):v},L},Ur=function(){for(var t={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:dr,top:fr},yAxis:{right:gr,left:hr}},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return 1!==r.length||r[0].domain||r[0].range?Object.assign(t,{xScale:r[0]||t.xScale,yScale:r[1]||t.yScale}):Object.assign(t,r[0])},Wr=function(t){return"function"==typeof t?t:function(){return t}},qr=function(t,e){return function(){var n=Wr(""),r=e,i=function(){},a=Hr.apply(void 0,arguments),o=function(e){t(a,r),a.decorate((function(t,e,r){t.enter().select(".x-label").style("height","1em").style("line-height","1em");var o=a.yOrient()(e);t.enter().append("div").attr("class","y-label-container").style("grid-column","left"===o?1:5).style("-ms-grid-column","left"===o?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),t.select(".y-label-container>.y-label").text(n),i(t,e,r)})),e.call(a)};return _(o,a,v(/^x/,/^y/,"chartLabel")),o.yLabel=function(){return arguments.length?(n=Wr(arguments.length<=0?void 0:arguments[0]),o):n},o.plotArea=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}},$r=qr((function(t,e){return t.svgPlotArea(e)}),Nt),Gr=qr((function(t,e){return t.canvasPlotArea(e)}),Vt),Xr=function(t){return[t[1],t[0]]},Qr=function(t){var e=function(t){switch(t){case"x":return f.brushX();case"y":return f.brushY();case"xy":return f.brush()}}(t),r=u.dispatch("brush","start","end"),i=n.scaleIdentity(),a=n.scaleIdentity(),o=ft("g","brush"),c=function(e,n,r){switch(t){case"x":return e.map(n);case"y":return e.map(r);case"xy":return[[n(e[0][0]),r(e[0][1])],[n(e[1][0]),r(e[1][1])]]}},s=function(e){var r=n.scaleLinear().domain(i.domain());return"x"===t?e.map(r.invert):"xy"===t?[r.invert(e[0][0]),r.invert(e[1][0])]:void 0},d=function(e){var r=n.scaleLinear().domain(Xr(a.domain()));return"y"===t?[e[1],e[0]].map(r.invert):"xy"===t?[r.invert(e[1][1]),r.invert(e[0][1])]:void 0},h=function(t){if(!t.sourceEvent||"draw"!==t.sourceEvent.type)if(t.selection){var e=(o=t.selection,c(o,n.scaleLinear().domain(i.range()),n.scaleLinear().domain(Xr(a.range()))));r.call(t.type,{},{selection:e,xDomain:s(e),yDomain:d(e)})}else r.call(t.type,{},{});var o},p=function(t){t.each((function(t,r,s){e.extent([[i.range()[0],a.range()[1]],[i.range()[1],a.range()[0]]]),e.on("end",(function(t){return h(t)})).on("brush",(function(t){return h(t)})).on("start",(function(t){return h(t)})),o(l.select(s[r]),[t]).call(e).call(e.move,t?c(t,n.scaleLinear().domain(i.range()).invert,n.scaleLinear().domain(Xr(a.range())).invert):null)}))};return p.xScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},p.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],p):a},g(p,r,"on"),g(p,e,"filter","handleSize"),p},Kr=function(t,e){if(null==t&&null==e)return!0;var n=t.domain(),r=e.domain();return n.length===r.length&&n.every((function(t,e){var n;return(null==t?void 0:t.valueOf())===(null===(n=r[e])||void 0===n?void 0:n.valueOf())}))},Jr=Symbol("d3fc-domain-zoom");t.annotationCanvasBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",i=function(t){return t.from},a=function(t){return t.to},o=function(){},l=it().horizontalAlign("right").verticalAlign("top"),c=function(n){if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var c=l.context(),s="horizontal"===r,u=s?e:t,f=(s?t:e).range(),d=f[1]-f[0],h=s?"x":"y",g=s?"y":"x",p=s?"height":"width",_=s?"width":"height";n.forEach((function(t,e){c.save(),c.beginPath(),c.strokeStyle="transparent",l[g](u(i(t))),l[h](f[0]),l[_](d),l[p](u(a(t))-u(i(t))),o(c,t,e),l.context(c)([t],e),c.fill(),c.stroke(),c.closePath(),c.restore()}))};return c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.fromValue=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),c):i},c.toValue=function(){return arguments.length?(a=Jn(arguments.length<=0?void 0:arguments[0]),c):a},g(c,l,"context"),c},t.annotationCanvasCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),i=n.scaleIdentity(),a=Yn(),o=er(),l=er().orient("vertical"),c=n.scaleIdentity(),s=n.scaleIdentity(),u=Gn().series([o,l,a]).xScale(c).yScale(s).mapping((function(t){return[t]})),f=function(n){n.forEach((function(n){c.range(r.range()),s.range(i.range()),a.crossValue(t).mainValue(e),o.value(e),l.value(t),u(n)}))};f.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],f):i};var d=v("label","decorate");return _(f,o,d,w("y")),_(f,l,d,w("x")),g(f,a,"decorate"),g(f,u,"context"),f},t.annotationCanvasGridline=function(){var t=function(){},e=function(){},n=nr(),r=nr(),i=c.line(),a=function(){var a=i.context(),o=n.scale(),l=r.scale();n().forEach((function(e,n){a.save(),a.beginPath(),a.strokeStyle="#bbb",a.fillStyle="transparent",t(a,e,n),i.context(a)(l.domain().map((function(t){return[o(e),l(t)]}))),a.fill(),a.stroke(),a.closePath(),a.restore()})),r().forEach((function(t,n){a.save(),a.beginPath(),a.strokeStyle="#bbb",a.fillStyle="transparent",e(a,t,n),i.context(a)(o.domain().map((function(e){return[o(e),l(t)]}))),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return a.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},_(a,n,w("x")),_(a,r,w("y")),g(a,i,"context"),a},t.annotationCanvasLine=er,t.annotationSvgBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",i=function(t){return t.from},a=function(t){return t.to},o=function(){},c=ft("g","annotation-band"),s=it().horizontalAlign("center").verticalAlign("center").x(0).y(0),u=function(n){if(ut(n)&&c.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var u="horizontal"===r,f=u?function(t,e){return"translate(".concat(t,", ").concat(e,")")}:function(t,e){return"translate(".concat(e,", ").concat(t,")")},d=u?e:t,h=(u?t:e).range(),g=h[1]-h[0],p=u?"height":"width",_=function(){return f((h[1]+h[0])/2,(d(a.apply(void 0,arguments))+d(i.apply(void 0,arguments)))/2)};s[u?"width":"height"](g),s[p]((function(){return d(a.apply(void 0,arguments))-d(i.apply(void 0,arguments))})),n.each((function(t,e,n){var i=c(l.select(n[e]),t);i.enter().attr("transform",_).append("path").classed("band",!0),i.attr("class","annotation-band ".concat(r)).attr("transform",_).select("path").attr("d",(function(t,e){return s([t],e)})),o(i,t,e)}))};return u.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u.fromValue=function(){return arguments.length?(i=Jn(arguments.length<=0?void 0:arguments[0]),u):i},u.toValue=function(){return arguments.length?(a=Jn(arguments.length<=0?void 0:arguments[0]),u):a},u},t.annotationSvgCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),i=n.scaleIdentity(),a=function(){},o=ft("g","annotation-crosshair"),c=Rn(),s=tr(),u=tr().orient("vertical"),f=n.scaleIdentity(),d=n.scaleIdentity(),h=$n().series([s,u,c]).xScale(f).yScale(d).mapping((function(t){return[t]})),g=function(n){ut(n)&&o.transition(n),n.each((function(n,g,p){var _=o(l.select(p[g]),n);_.enter().style("pointer-events","none"),f.range(r.range()),d.range(i.range()),c.crossValue(t).mainValue(e),s.value(e),u.value(t),_.call(h),a(_,n,g)}))};g.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],g):r},g.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i},g.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a};var p=v("label");return _(g,s,p,w("y")),_(g,u,p,w("x")),g},t.annotationSvgGridline=function(){var t=function(){},e=function(){},n=nr(),r=nr(),i=ft("line","gridline-y").key(rr),a=ft("line","gridline-x").key(rr),o=function(o){ut(o)&&(i.transition(o),a.transition(o)),o.each((function(o,c,s){var u=s[c],f=l.select(s[c]),d=n.scale(),h=r.scale(),g=u.__x_scale__||d;u.__x_scale__=d.copy();var p=n(),_=i(f,p);_.enter().attr("x1",g).attr("x2",g).attr("y1",h.range()[0]).attr("y2",h.range()[1]).attr("stroke","#bbb"),_.attr("x1",d).attr("x2",d).attr("y1",h.range()[0]).attr("y2",h.range()[1]),_.exit().attr("x1",d).attr("x2",d),t(_,p,c);var b=u.__y_scale__||h;u.__y_scale__=h.copy();var m=r(),v=a(f,m);v.enter().attr("y1",b).attr("y2",b).attr("x1",d.range()[0]).attr("x2",d.range()[1]).attr("stroke","#bbb"),v.attr("y1",h).attr("y2",h).attr("x1",d.range()[0]).attr("x2",d.range()[1]),v.exit().attr("y1",h).attr("y2",h),e(v,m,c)}))};return o.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},_(o,i,y({key:"xKey"})),_(o,a,y({key:"yKey"})),_(o,n,w("x")),_(o,r,w("y")),o},t.annotationSvgLine=tr,t.autoBandwidth=function(t){var n=.75,r=function(t){if(t.length<=1)return 10;t=t.sort(e.ascending).filter((function(t,e,n){return-1===n.indexOf(t,e+1)}));var r=e.pairs(t).map((function(t){return Math.abs(t[0]-t[1])})),i=e.min(r);return n*i},i=function(e,n,i){if(e.bandwidth)return e.bandwidth();var a,o=(Array.isArray(n)?(a=[]).concat.apply(a,j(n)):n).filter(t.defined()).map(i()).map(e);return r(o)},a=function(e){var n=function(e){if(t.xBandwidth&&t.yBandwidth)t.xBandwidth(i(t.xScale(),e,t.xValue)),t.yBandwidth(i(t.yScale(),e,t.yValue));else{var n=t.orient&&"horizontal"===t.orient()?t.yScale():t.xScale();t.bandwidth(i(n,e,t.crossValue))}};e instanceof l.selection?e.each((function(e,r,i){n(e),t(l.select(i[r]))})):(n(e),t(e))};return _(a,t),a.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a},t.axisBottom=dr,t.axisLabelOffset=function(t){var e="auto",n=function(){},r=function(){return"left"===t.orient()||"right"===t.orient()},i=function(){return"top"===t.orient()||"left"===t.orient()?-1:1},a=function(n){var a=_r(t)(n),o=a.maxHeight,l=a.maxWidth,c=a.labelCount,s=t.scale().range()[1],u="auto"===e?Math.floor((r()?o:l)*c/s)+1:e,f=n.select("text"),d=f.attr("transform");f.attr("transform",(function(t,e){return"".concat(d," ").concat(function(t){return r()?"translate(".concat(t%u*l*i(),", 0)"):"translate(0, ".concat(t%u*o*i(),")")}(e))}))},o=function(e){return t(e)};return t.decorate((function(t){a(t),n(t)})),o.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.labelOffsetDepth=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},_(o,t,m("decorate")),o},t.axisLabelRotate=function(t){var e="auto",n=function(){},r=function(){return"left"===t.orient()||"right"===t.orient()},i=function(){return"top"===t.orient()||"left"===t.orient()?-1:1},a=function(){switch(t.orient()){case"top":case"right":return"start";default:return"end"}},o=function(n){var o=function(n){var o,l=_r(t)(n),c=l.maxHeight,s=l.maxWidth,u=l.labelCount*s;if("auto"===e){var f=t.scale().range()[1];o=f<u?90*Math.min(1,(u/f-.8)/2):0}else o=e;return{rotate:r()?Math.floor(i()*(90-o)):Math.floor(-o),maxHeight:c,maxWidth:s,anchor:o?a():"middle"}}(n),l=o.rotate,c=o.maxHeight,s=o.anchor,u=n.select("text"),f=u.attr("transform"),d=i()*Math.floor(c/2),h=r()?"translate(".concat(d,", 0)"):"translate(0, ".concat(d,")");u.style("text-anchor",s).attr("transform","".concat(f," ").concat(h," rotate(").concat(l," 0 0)"))},l=function(e){t(e)};return t.decorate((function(t){o(t),n(t)})),l.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.labelRotate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},_(l,t,m("decorate")),l},t.axisLeft=hr,t.axisOrdinalBottom=function(t){return pr("bottom",t)},t.axisOrdinalLeft=function(t){return pr("left",t)},t.axisOrdinalRight=function(t){return pr("right",t)},t.axisOrdinalTop=function(t){return pr("top",t)},t.axisRight=gr,t.axisTop=fr,t.brush=function(){return Qr("xy")},t.brushX=function(){return Qr("x")},t.brushY=function(){return Qr("y")},t.bucket=et,t.chartCanvasCartesian=Gr,t.chartCartesian=Hr,t.chartSvgCartesian=$r,t.dataJoin=ft,t.discontinuityIdentity=$,t.discontinuityRange=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t,e){return t>e[0]&&t<e[1]},i=function(t,e){return t[0]>=e[0]&&t[1]<=e[1]},a={distance:function(t,n){t=a.clampUp(t),n=a.clampDown(n);var r=e.filter((function(e){return i(e,[t,n])})).map((function(t){return t[1]-t[0]}));return n-t-r.reduce((function(t,e){return t+e}),0)}},o=function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e};return a.offset=function(t,n){if(n>0){var r=function(){for(var r=a.clampUp(t),i=n;i>0;){var l=e.filter((function(t){return t[0]>r})).sort((function(t,e){return t[0]-e[0]}));if(l.length){var c=l[0],s=c[0]-r;s>i?(r=o(r,i),i=0):(r=c[1],i-=s)}else r=o(r,i),i=0}return{v:r}}();if("object"===T(r))return r.v}else{var i=function(){for(var r=a.clampDown(t),i=n;i<0;){var l=e.filter((function(t){return t[1]<r})).sort((function(t,e){return e[0]-t[0]}));if(l.length){var c=l[0],s=c[1]-r;s<i?(r=o(r,i),i=0):(r=c[0],i-=s)}else r=o(r,i),i=0}return{v:r}}();if("object"===T(i))return i.v}},a.clampUp=function(t){return e.reduce((function(t,e){return r(t,e)?e[1]:t}),t)},a.clampDown=function(t){return e.reduce((function(t,e){return r(t,e)?e[0]:t}),t)},a.copy=function(){return a},a},t.discontinuitySkipUtcWeekends=function(){return X((function(t){return t.getUTCDay()}),r.utcDay,r.utcSaturday,r.utcMonday)},t.discontinuitySkipWeekends=function(){return X((function(t){return t.getDay()}),r.timeDay,r.timeSaturday,r.timeMonday)},t.effectivelyZero=st,t.exclude=m,t.extentDate=K,t.extentLinear=Q,t.extentTime=K,t.feedGdax=function(){var t="BTC-USD",e=null,n=null,r=null,i=function(){var i=[];null!=e&&i.push("start="+e.toISOString()),null!=n&&i.push("end="+n.toISOString()),null!=r&&i.push("granularity="+r);var o="https://api.gdax.com/products/"+t+"/candles?"+i.join("&");return a.json(o).then((function(t){return t.map((function(t){return{date:new Date(1e3*t[0]),open:t[3],high:t[2],low:t[1],close:t[4],volume:t[5]}}))}))};return i.product=function(e){return arguments.length?(t=e,i):t},i.start=function(t){return arguments.length?(e=t,i):e},i.end=function(t){return arguments.length?(n=t,i):n},i.granularity=function(t){return arguments.length?(r=t,i):r},i},t.group=function(){var t="",e="vertical",n=function(t,e){return Number(t[e])},r=function(r){return"vertical"===e?function(e){return Object.keys(e[0]).filter((function(e){return e!==t})).map((function(r){var i=e.filter((function(t){return t[r]})).map((function(e){var i=[e[t],n(e,r)];return i.data=e,i}));return i.key=r,i}))}(r):function(e){return e.map((function(e){var r=Object.keys(e).filter((function(e){return e!==t})).map((function(t){var r=[t,n(e,t)];return r.data=e,r}));return r.key=e[t],r}))}(r)};return r.key=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r},t.include=v,t.includeMap=y,t.indicatorBollingerBands=function(){var t=2,n=A().accumulator((function(n){var r=n&&e.deviation(n),i=n&&e.mean(n);return{average:i,upper:k(i+t*r),lower:k(i-t*r)}})),r=function(t){return n(t)};return r.multiplier=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},g(r,n,"period","value"),r},t.indicatorElderRay=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},i=C().period(13),a=function(a){return i.value(t),e.zip(a,i(a)).map((function(t){return{bullPower:k(n(t[0])-t[1]),bearPower:k(r(t[0])-t[1])}}))};return a.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},g(a,i,"period"),a},t.indicatorEnvelope=function(){var t=.1,e=x,n=function(n){return n.map((function(n){return{lower:k(e(n)*(1-t)),upper:k(e(n)*(1+t))}}))};return n.factor=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},t.indicatorExponentialMovingAverage=C,t.indicatorForceIndex=function(){var t=function(t,e){return t.volume},e=function(t,e){return t.close},n=C().period(13),r=A().period(2).defined((function(n){return null!=e(n)&&null!=t(n)})).accumulator((function(n){return n&&k((e(n[1])-e(n[0]))*t(n[1]))})),i=function(t){var e=r(t);return n(e)};return i.volumeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},g(i,n,"period"),i},t.indicatorMacd=function(){var t=x,n=C().period(12),r=C().period(26),i=C().period(9),a=function(a){n.value(t),r.value(t);var o=e.zip(n(a),r(a)).map((function(t){return void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0})),l=i(o);return e.zip(o,l).map((function(t){return{macd:t[0],signal:t[1],divergence:void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0}}))};return a.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},_(a,n,y({period:"fastPeriod"})),_(a,r,y({period:"slowPeriod"})),_(a,i,y({period:"signalPeriod"})),a},t.indicatorMovingAverage=q,t.indicatorRelativeStrengthIndex=function(){var t=A().period(14),n=function(t){var e=Y(t,2),n=e[0],r=e[1];return n<r?0:n-r},r=function(t){var e=Y(t,2),n=e[0],r=e[1];return n>r?0:r-n},i=function(t,n){return void 0!==n?(i=n)+((r=t)[r.length-1]-i)/r.length:e.mean(t);var r,i},a=function(a){var o,l,c,s=function(t){if(t){if(void 0!==o){var a=e.pairs([o].concat(j(t)));return l=i(a.map(n),l),c=i(a.map(r),c),k(100-100/(1+(isNaN(o)?NaN:c/l)))}o=t[0]}else void 0!==o&&(o=NaN)};return t.accumulator(s),t(a)};return g(a,t,"period","value"),a},t.indicatorStochasticOscillator=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},i=A().period(5).defined((function(e){return null!=t(e)&&null!=n(e)&&null!=r(e)})).accumulator((function(i){var a=i&&e.max(i,n),o=i&&e.min(i,r);return k(i&&100*(t(i[i.length-1])-o)/(a-o))})),a=q().period(3),o=function(t){var e=i(t),n=a(e);return e.map((function(t,e){return{k:t,d:n[e]}}))};return o.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},_(o,i,y({period:"kPeriod"})),_(o,a,y({period:"dPeriod"})),o},t.isTransition=ut,t.largestTriangleOneBucket=function(){var t=et(),n=function(t){return t},r=function(t){return t},i=function(i){if(t.bucketSize()>=i.length)return i;var a=function(t){var i=t.map((function(t){return[n(t),r(t)]}));return e.range(1,i.length-1).map((function(t){var e=i[t-1],n=i[t],r=i[t+1];return.5*Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}))}(i),o=t(a),l=t(i.slice(1,i.length-1)).map((function(t,n){var r=o[n],i=e.max(r);return t[r.indexOf(i)]}));return[].concat([i[0]],l,[i[i.length-1]])};return g(i,t,"bucketSize"),i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i},t.largestTriangleThreeBucket=function(){var t=function(t){return t},n=function(t){return t},r=et(),i=function(i){if(r.bucketSize()>=i.length)return i;var a=r(i.slice(1,i.length-1)),o=i[0],l=i[i.length-1],c=[].concat([o],a,[l]),s=t(o),u=n(o),f=a.map((function(r,i){var a=e.mean(c[i+1],t),o=e.mean(c[i+1],n),l=r.map((function(e){return[t(e),n(e)]})),f=l.map((function(t){return.5*Math.abs((s-a)*(t[1]-u)-(s-t[0])*(o-u))})),d=f.indexOf(e.max(f)),h=l[d];return s=h[0],u=h[1],r[d]}));return[].concat([i[0]],f,[i[i.length-1]])};return g(i,r,"bucketSize"),i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(n=t,i):n},i},t.layoutAnnealing=function(){var t,e=1e3,n=1,r=function(e,n,r){return ht(r,n)+function(e){return t?e.width*e.height-dt(e,t):0}(e)+function(t){switch(t.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return t.width*t.height/8}return t.width*t.height/4}(e)},i=function(t){for(var i=e,a=mt().locationScore(r).winningScore((function(t,e){return Math.exp((e-t)/i)>Math.random()})).rectangles(t);i>0;){var o=vt(t);a=a((l=pt(t[o]))[vt(l)],o),i-=n}var l;return a.rectangles()};return i.temperature=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.cooling=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i},t.layoutBoundingBox=function(){var t=[0,0],e=function(e){return e.map((function(e,n){var r=e.x,i=e.y;return r+e.width>t[0]&&(r-=e.width),i+e.height>t[1]&&(i-=e.height),{height:e.height,width:e.width,x:r,y:i}}))};return e.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},t.layoutGreedy=function(){var t,e=function(e,n,r){return ht(r,n)+function(e){return t?e.width*e.height-dt(e,t):0}(e)},n=function(t){var n=mt().locationScore(e).rectangles(t);return t.forEach((function(t,e){pt(t).forEach((function(t,r){n=n(t,e)}))})),n.rectangles()};return n.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},t.layoutLabel=function(t){var e=function(){},r=function(){return[0,0]},i=function(t,e){return[t.x,t.y]},a=t||function(t){return t},o=function(){},c=n.scaleIdentity(),s=n.scaleIdentity(),u=ft("g","label"),f=function(t){t.each((function(t,n,f){var d=u(l.select(f[n]),t).call(o),h=d.nodes(),g=h.map((function(t,e){var n=l.select(t).datum(),a=i(n,e,h),o=[c(a[0]),s(a[1])],u=r(n,e,h);return{hidden:!1,x:o[0],y:o[1],width:u[0],height:u[1]}})),p=a(g);d.attr("style",(function(t,e){return"display:"+(p[e].hidden?"none":"inherit")})).attr("transform",(function(t,e){return"translate("+p[e].x+", "+p[e].y+")"})).attr("layout-width",(function(t,e){return p[e].width})).attr("layout-height",(function(t,e){return p[e].height})).attr("anchor-x",(function(t,e,n){return g[e].x-p[e].x})).attr("anchor-y",(function(t,e,n){return g[e].y-p[e].y})),d.call(o),e(d,t,n)}))};return _(f,u,v("key")),_(f,a),f.size=function(){return arguments.length?(r=ct(arguments.length<=0?void 0:arguments[0]),f):r},f.position=function(){return arguments.length?(i=ct(arguments.length<=0?void 0:arguments[0]),f):i},f.component=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.decorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f},t.layoutRemoveOverlaps=function(t){var n=function(n){n=t(n);for(var r=function(){var t,r,i=n.filter((function(t){return!t.hidden})),a=i.map((function(t,e){return[t,ht(i,e)]})),o=(r=function(t,e){return e[1]-t[1]},(t=a)[e.scan(t,r)]);if(!(o[1]>0))return"break";o[0].hidden=!0};"break"!==r(););return n};return _(n,t=t||function(t){return t}),n},t.layoutTextLabel=function(t){var e=2,n=function(t){return t},r=ft("text"),i=ft("rect"),a=ft("circle"),o=function(t){t.each((function(t,o,c){var s=c[o],u=l.select(s),f=Number(s.getAttribute("layout-width")),d=Number(s.getAttribute("layout-height"));i(u,[t]).attr("width",f).attr("height",d);var h=Number(s.getAttribute("anchor-x")),g=Number(s.getAttribute("anchor-y"));a(u,[t]).attr("r",2).attr("cx",h).attr("cy",g);var p=r(u,[t]);p.enter().attr("dy","0.9em").attr("transform","translate(".concat(e,", ").concat(e,")")),p.text(n)}))};return o.padding=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.value=function(){return arguments.length?(n=ct(arguments.length<=0?void 0:arguments[0]),o):n},o},t.modeMedian=function(){var t=et(),n=function(t){return t},r=function(r){if(t.bucketSize()>r.length)return r;var i=e.extent(r,n),a=t(r.slice(1,r.length-1)).map((function(t,e){var r,a,o={},l=!0,c=t.map(n),s=c.filter((function(t){return t===i[0]||t===i[1]})).map((function(t){return c.indexOf(t)}))[0];return void 0!==s?t[s]:(c.forEach((function(t,e){void 0===o[t]&&(o[t]=0),o[t]++,o[t]>o[r]||void 0===r?(r=t,a=e,l=!0):o[t]===o[r]&&(l=!1)})),l?t[a]:t[Math.floor(t.length/2)])}));return[].concat([r[0]],a,[r[r.length-1]])};return g(r,t,"bucketSize"),r.value=function(t){return arguments.length?(n=t,r):n},r},t.pointer=function(){var t=u.dispatch("point");function e(e){var n=l.pointer(e);t.call("point",this,[{x:n[0],y:n[1]}])}function n(){t.call("point",this,[])}var r=function(t){t.on("mouseenter.pointer",e).on("mousemove.pointer",e).on("mouseleave.pointer",n)};return g(r,t,"on"),r},t.prefix=w,t.randomFinancial=function(){var t=new Date,e=100,n=r.timeDay,a=1,o=r.timeYear,l=1,c=null,s=function(){var t=i.randomNormal(1,.1);return Math.ceil(1e3*t())},u=J(),f=function(t,e){var r,i,c=(r=t,i=o.offset(r,l)-r,(n.offset(r,a)-r)/i),f=u.period(c)(e),d={date:t,open:f[0],high:Math.max.apply(Math,f),low:Math.min.apply(Math,f),close:f[u.steps()]};return d.volume=s(d),d},d=function(r){var i,o,l;do{i=r?n.offset(r.date,a):new Date(t.getTime()),o=r?r.close:e,r=f(i,o),l=c&&!c(r)}while(l);return r},h=function(){var t,e={next:function(){var e=d(t);return t=e,e},take:function(t){return e.until((function(e,n){return!t||t<0||n===t}))},until:function(e){for(var n=[],r=0,i=d(t),a=e&&!e(i,r);a;)n.push(i),i=d(t=i),r+=1,a=e&&!e(i,r);return n}};return e},g=function(t){return h().take(t)};if(g.stream=h,"function"!=typeof Symbol||"symbol"!==T(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return g[Symbol.iterator]=function(){var t=h();return{next:function(){return{value:t.next(),done:!1}}}},g.startDate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.startPrice=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],g):n},g.intervalStep=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a},g.unitInterval=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],g):o},g.unitIntervalStep=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.filter=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.volume=function(){return arguments.length?(s=tt(arguments.length<=0?void 0:arguments[0]),g):s},_(g,u),g},t.randomGeometricBrownianMotion=J,t.randomSkipWeekends=function(t){var e=t.date.getDay();return!(0===e||6===e)},t.rebind=g,t.rebindAll=_,t.scaleDiscontinuous=function t(e){var r=this;arguments.length||(e=n.scaleIdentity());var i=$(),a=function(t){var n=e.domain(),r=e.range(),a=i.distance(n[0],n[1]);return i.distance(n[0],t)/a*(r[1]-r[0])+r[0]};return a.invert=function(t){var n=e.domain(),r=e.range(),a=(t-r[0])/(r[1]-r[0])*i.distance(n[0],n[1]);return i.offset(n[0],a)},a.domain=function(){if(!arguments.length)return e.domain();var t=arguments.length<=0?void 0:arguments[0],n=i.clampUp(t[0]),r=i.clampDown(t[1]);return e.domain([n,r]),a},a.nice=function(){e.nice();var t=e.domain(),n=i.clampUp(t[0]),r=i.clampDown(t[1]);return e.domain([n,r]),a},a.ticks=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return G(e.ticks.apply(r,n),i)},a.copy=function(){return t(e.copy()).discontinuityProvider(i.copy())},a.discontinuityProvider=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},_(a,e,v("range","rangeRound","interpolate","clamp","tickFormat")),a},t.seriesCanvasArea=function(){var t=Mt(),e=c.area(),n=function(n){var r=e.context();e.defined(t.defined());var i=n.map(t.values);e.x((function(t,e){return i[e].transposedX})).y((function(t,e){return i[e].transposedY}));var a="vertical"===t.orient()?"y":"x";e[a+"0"]((function(t,e){return i[e].y0})),e[a+"1"]((function(t,e){return i[e].y})),r.beginPath(),r.fillStyle=Tt,r.strokeStyle="transparent",t.decorate()(r,n),e(n),r.fill(),r.stroke(),r.closePath()};return _(n,t,m("bandwidth","align")),g(n,e,"curve","context"),n},t.seriesCanvasBar=function(){var t=Mt(),e=it().x(0).y(0),n=function(n){var r=e.context(),i=n.filter(t.defined()).map(t.values);"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center")),i.forEach((function(n,i){var a;r.save(),r.beginPath(),r.translate(n.origin[0],n.origin[1]),r.fillStyle=Et,r.strokeStyle="transparent",t.decorate()(r,n.d,i),(a=e,"vertical"===t.orient()?a.height:a.width)(-n.height),function(e){return"vertical"===t.orient()?e.width:e.height}(e)(n.width),e([n]),r.fill(),r.stroke(),r.closePath(),r.restore()}))};return _(n,t),g(n,e,"context"),n},t.seriesCanvasBoxPlot=function(){var t=Wn(),e=ot().value(0),n=function(n){var r=n.filter(t.defined()),i=e.context();e.orient(t.orient()),r.forEach((function(n,r){i.save();var a=t.values(n,r);i.translate(a.origin[0],a.origin[1]),i.beginPath(),i.fillStyle=Tt,i.strokeStyle=Ct,t.decorate()(i,n,r),e.median(a.median).upperQuartile(a.upperQuartile).lowerQuartile(a.lowerQuartile).high(a.high).width(a.width).low(a.low)([n]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return _(n,t),g(n,e,"cap","context"),n},t.seriesCanvasCandlestick=function(){return Hn(at())},t.seriesCanvasErrorBar=function(){var t=jn(),e=lt().value(0),n=function(n){var r=n.filter(t.defined()),i=e.context();e.orient(t.orient()),r.forEach((function(n,r){i.save();var a=t.values(n,r);i.translate(a.origin[0],a.origin[1]),i.beginPath(),i.strokeStyle=Ct,i.fillStyle=Tt,t.decorate()(i,n,r),e.high(a.high).width(a.width).low(a.low)([n]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return _(n,t),g(n,e,"context"),n},t.seriesCanvasGrouped=function(t){var e=Qn(),n=function(n){n.forEach((function(r,i){var a="horizontal"!==t.orient(),o=function(t,r){var o=e.offsetScaleForDatum(n,t,r);return(a?e.xScale():e.yScale())(t)+o(i)+o.bandwidth()/2};a?(t.xScale(o),t.yScale(e.yScale())):(t.yScale(o),t.xScale(e.xScale())),t.bandwidth&&t.bandwidth((function(t,r){return e.offsetScaleForDatum(n,t,r).bandwidth()})),t.decorate((function(t,n){return e.decorate()(t,n,i)})),t(r)}))};return _(n,t,m("decorate","xScale","yScale")),_(n,e,m("offsetScaleForDatum")),n},t.seriesCanvasHeatmap=function(){var t=Kn(),e=function(e){var n=e.filter(t.defined()),r=t.colorInterpolate(),i=t.colorScale(n),a=t.pathGenerator.context();n.forEach((function(e,n){a.save(),a.beginPath();var o=t.values(e,n);a.translate(o.x,o.y),a.fillStyle=r(i(o.colorValue)),a.strokeStyle="transparent",t.decorate()(a,e,n),t.pathGenerator.height(o.height).width(o.width)([e]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return g(e,t.pathGenerator,"context"),_(e,t),e},t.seriesCanvasLine=Vt,t.seriesCanvasMulti=Gn,t.seriesCanvasOhlc=function(){return Hn(rt())},t.seriesCanvasPoint=Yn,t.seriesCanvasRepeat=function(){var t="vertical",e=Vt(),n=Gn(),r=function(r){"vertical"===t?n.series(r[0].map((function(t){return e}))).mapping((function(t,e){return t.map((function(t){return t[e]}))})):n.series(r.map((function(t){return e}))).mapping((function(t,e){return t[e]})),n(r)};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},_(r,n,m("series","mapping")),r},t.seriesSvgArea=function(){var t=Mt(),e=c.area(),n=ft("path","area"),r=function(r){ut(r)&&n.transition(r),e.defined(t.defined()),r.each((function(r,i,a){var o=r.map(t.values);e.x((function(t,e){return o[e].transposedX})).y((function(t,e){return o[e].transposedY}));var c="vertical"===t.orient()?"y":"x";e[c+"0"]((function(t,e){return o[e].y0})),e[c+"1"]((function(t,e){return o[e].y}));var s=n(l.select(a[i]),[r]);s.enter().attr("fill",Tt),s.attr("d",e),t.decorate()(s,r,i)}))};return _(r,t,m("bandwidth","align")),g(r,n,"key"),g(r,e,"curve"),r},t.seriesSvgBar=function(){var t=it().x(0).y(0),e=Mt(),n=ft("g","bar"),r=function(t){return"vertical"===e.orient()?t.width:t.height},i=function(t){return"translate("+t[0]+", "+t[1]+")"},a=function(a){ut(a)&&n.transition(a),a.each((function(a,o,c){var s=e.orient();if("vertical"!==s&&"horizontal"!==s)throw new Error("The bar series does not support an orientation of "+s);var u=a.filter(e.defined()),f=u.map(e.values);t.width(0).height(0),"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center"));var d=n(l.select(c[o]),u);d.enter().attr("transform",(function(t,e){return i(f[e].baseOrigin)})).attr("class","bar "+e.orient()).attr("fill",Et).append("path").attr("d",(function(e,n){return r(t)(f[n].width),t([e])})),d.attr("transform",(function(t,e){return i(f[e].origin)})).select("path").attr("d",(function(n,i){return r(t)(f[i].width),(a=t,"vertical"===e.orient()?a.height:a.width)(-f[i].height),t([n]);var a})),e.decorate()(d,u,o)}))};return _(a,e),g(a,n,"key"),a},t.seriesSvgBoxPlot=function(){var t=Wn(),e=ft("g","box-plot"),n=ot().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},i=function(i){ut(i)&&e.transition(i);var a,o=(a=i,function(t){return ut(a)?t.transition(a):t});i.each((function(i,a,c){var s=i.filter(t.defined()),u=e(l.select(c[a]),s);u.enter().attr("stroke",Ct).attr("fill",Tt).attr("transform",(function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"})).append("path"),n.orient(t.orient()),u.each((function(e,i,a){var c=t.values(e,i);n.median(c.median).upperQuartile(c.upperQuartile).lowerQuartile(c.lowerQuartile).width(c.width).high(c.high).low(c.low),o(l.select(a[i])).attr("transform",r(c)).select("path").attr("d",n([e]))})),t.decorate()(u,i,a)}))};return _(i,t),g(i,e,"key"),g(i,n,"cap"),i},t.seriesSvgCandlestick=function(){return Zn(at(),"candlestick")},t.seriesSvgErrorBar=function(){var t=jn(),e=ft("g","error-bar"),n=lt().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},i=function(i){ut(i)&&e.transition(i);var a,o=(a=i,function(t){return ut(a)?t.transition(a):t});i.each((function(i,a,c){var s=i.filter(t.defined()),u=s.map(t.values),f=e(l.select(c[a]),s);f.enter().attr("stroke",Ct).attr("fill",Tt).attr("transform",(function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"})).append("path"),n.orient(t.orient()),f.each((function(t,e,i){var a=u[e];n.high(a.high).low(a.low).width(a.width),o(l.select(i[e])).attr("transform",r(a)+" scale(1)").select("path").attr("d",n([t]))})),t.decorate()(f,i,a)}))};return _(i,t),g(i,e,"key"),i},t.seriesSvgGrouped=function(t){var e=Qn(),n=ft("g","grouped"),r=function(r){ut(r)&&n.transition(r),r.each((function(r,i,a){var o=n(l.select(a[i]),r);o.enter().append("g"),o.select("g").each((function(n,i,a){var o=l.select(a[i]),c="horizontal"!==t.orient(),s=function(t,n){var a=e.offsetScaleForDatum(r,t,n);return(c?e.xScale():e.yScale())(t)+a(i)+a.bandwidth()/2};c?(t.xScale(s),t.yScale(e.yScale())):(t.yScale(s),t.xScale(e.xScale())),t.bandwidth&&t.bandwidth((function(t,n){return e.offsetScaleForDatum(r,t,n).bandwidth()})),t.decorate((function(t,n){return e.decorate()(t,n,i)})),o.call(t)}))}))};return _(r,t,m("decorate","xScale","yScale")),_(r,e,m("offsetScaleForDatum")),r},t.seriesSvgHeatmap=function(){var t=Kn(),e=ft("g","box"),n=function(n){n.each((function(n,r,i){var a=n.filter(t.defined()),o=t.colorValue(),c=t.colorInterpolate(),s=t.colorScale(a),u=e(l.select(i[r]),a);u.enter().append("path").attr("stroke","transparent"),u.attr("transform",(function(e,n){return"translate("+(r=t.values(e,n)).x+", "+r.y+")";var r})).select("path").attr("d",(function(e,n){return t.pathGenerator.width(t.values(e,n).width).height(t.values(e,n).height)([e])})).attr("fill",(function(t,e){return c(s(o(t,e)))})),t.decorate()(u,n,r)}))};return _(n,t),n},t.seriesSvgLine=Nt,t.seriesSvgMulti=$n,t.seriesSvgOhlc=function(){return Zn(rt(),"ohlc")},t.seriesSvgPoint=Rn,t.seriesSvgRepeat=function(){var t="vertical",e=Nt(),n=$n(),r=function(r){return r.each((function(r,i,a){"vertical"===t?n.series(r[0].map((function(t){return e}))).mapping((function(t,e){return t.map((function(t){return t[e]}))})):n.series(r.map((function(t){return e}))).mapping((function(t,e){return t[e]})),l.select(a[i]).call(n)}))};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},_(r,n,m("series","mapping")),r},t.seriesWebglArea=function(){var t=Mt(),e=Mn(0,1),n=e.offset(1),r=Mn(0,1),i=r.offset(1),a=Mn(0,1),o=a.offset(1),l=Mn(0,1).type(Je.UNSIGNED_BYTE),c=l.offset(1),s=ln().crossValueAttribute(e).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(i).baseValueAttribute(a).baseNextValueAttribute(o).definedAttribute(l).definedNextAttribute(c),u=function(t,e){return!1},f=On,d=[],h=null,p=null,b=function(n){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var i=f(t.xScale()),o=f(t.yScale()),c=!u(d,n);c&&(d=n,l.value((function(e,n){return t.defined()(e,n)})).data(n)),(c||i.scale!==h)&&(h=i.scale,e.value((function(e,n){return i.scale(t.crossValue()(e,n))})).data(n)),(c||o.scale!==p)&&(p=o.scale,a.value((function(e,n){return o.scale(t.baseValue()(e,n))})).data(n),r.value((function(e,n){return o.scale(t.mainValue()(e,n))})).data(n)),s.xScale(i.webglScale).yScale(o.webglScale).decorate((function(e){return t.decorate()(e,n,0)})),s(n.length)};return b.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],b):f},_(b,t,m("bandwidth","align")),g(b,s,"context","pixelRatio"),b},t.seriesWebglBar=function(){var t=Mt(),e=an(),n=an(),r=an(),i=an().type(Je.UNSIGNED_SHORT),a=an().type(Je.UNSIGNED_BYTE),o=bn().crossValueAttribute(e).mainValueAttribute(n).baseValueAttribute(r).bandwidthAttribute(i).definedAttribute(a),l=function(t,e){return!1},c=On,s=[],u=null,f=null,d=function(d){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var h=c(t.xScale()),g=c(t.yScale()),p=!l(s,d);p&&(s=d,i.value((function(e,n){return t.bandwidth()(e,n)})).data(d),a.value((function(e,n){return t.defined()(e,n)})).data(d)),(p||h.scale!==u)&&(u=h.scale,e.value((function(e,n){return h.scale(t.crossValue()(e,n))})).data(d)),(p||g.scale!==f)&&(f=g.scale,r.value((function(e,n){return g.scale(t.baseValue()(e,n))})).data(d),n.value((function(e,n){return g.scale(t.mainValue()(e,n))})).data(d)),o.xScale(h.webglScale).yScale(g.webglScale).decorate((function(e){return t.decorate()(e,d,0)})),o(d.length)};return d.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},_(d,t,m("align")),g(d,o,"context","pixelRatio"),d},t.seriesWebglBoxPlot=function(){var t=Wn(),e=an(),n=an(),r=an(),i=an(),a=an(),o=an(),l=an().type(Je.UNSIGNED_SHORT),c=an().type(Je.UNSIGNED_SHORT),s=an().type(Je.UNSIGNED_BYTE),u=Sn().crossValueAttribute(e).highValueAttribute(n).upperQuartileValueAttribute(r).medianValueAttribute(i).lowerQuartileValueAttribute(a).lowValueAttribute(o).bandwidthAttribute(l).capAttribute(c).definedAttribute(s),f=function(t,e){return!1},d=On,h=[],p=null,b=null,v=yt(20),y=function(g){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var _=d(t.xScale()),m=d(t.yScale()),y=!f(h,g);y&&(h=g,l.value((function(e,n){return t.bandwidth()(e,n)})).data(g),c.value((function(t,e){return v(t,e)})).data(g),s.value((function(e,n){return t.defined()(e,n)})).data(g)),(y||_.scale!==p)&&(p=_.scale,e.value((function(e,n){return _.scale(t.crossValue()(e,n))})).data(g)),(y||m.scale!==b)&&(b=m.scale,n.value((function(e,n){return m.scale(t.highValue()(e,n))})).data(g),r.value((function(e,n){return m.scale(t.upperQuartileValue()(e,n))})).data(g),i.value((function(e,n){return m.scale(t.medianValue()(e,n))})).data(g),a.value((function(e,n){return m.scale(t.lowerQuartileValue()(e,n))})).data(g),o.value((function(e,n){return m.scale(t.lowValue()(e,n))})).data(g)),u.xScale(_.webglScale).yScale(m.webglScale).decorate((function(e){return t.decorate()(e,g,0)})),u(g.length)};return y.cap=function(){return arguments.length?(v=yt(arguments.length<=0?void 0:arguments[0]),y):v},y.equals=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.scaleMapper=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},_(y,t,m("align")),g(y,u,"context","lineWidth","pixelRatio"),y},t.seriesWebglCandlestick=function(){return Un(wn())},t.seriesWebglErrorBar=function(){var t=jn(),e=an(),n=an(),r=an(),i=an().type(Je.UNSIGNED_SHORT),a=an().type(Je.UNSIGNED_BYTE),o=vn().crossValueAttribute(e).highValueAttribute(n).lowValueAttribute(r).bandwidthAttribute(i).definedAttribute(a),l=function(t,e){return!1},c=On,s=[],u=null,f=null,d=function(d){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var h=c(t.xScale()),g=c(t.yScale()),p=!l(s,d);p&&(s=d,i.value((function(e,n){return t.bandwidth()(e,n)})).data(d),a.value((function(e,n){return t.defined()(e,n)})).data(d)),(p||h.scale!==u)&&(u=h.scale,e.value((function(e,n){return h.scale(t.crossValue()(e,n))})).data(d)),(p||g.scale!==f)&&(f=g.scale,n.value((function(e,n){return g.scale(t.highValue()(e,n))})).data(d),r.value((function(e,n){return g.scale(t.lowValue()(e,n))})).data(d)),o.xScale(h.webglScale).yScale(g.webglScale).decorate((function(e){return t.decorate()(e,d,0)})),o(d.length)};return d.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},_(d,t,m("align")),g(d,o,"context","lineWidth","pixelRatio"),d},t.seriesWebglLine=Bn,t.seriesWebglMulti=Xn,t.seriesWebglOhlc=function(){return Un(pn())},t.seriesWebglPoint=function(){var t=Mt(),e=yt(64),n=c.symbolCircle,r=an(),i=an(),a=an().type(Je.UNSIGNED_SHORT),o=an().type(Je.UNSIGNED_BYTE),l=sn().crossValueAttribute(r).mainValueAttribute(i).sizeAttribute(a).definedAttribute(o),s=function(t,e){return!1},u=On,f=[],d=null,h=null,p=function(c){var g=u(t.xScale()),p=u(t.yScale()),_=!s(f,c);_&&(f=c,a.value((function(t,n){return e(t,n)})).data(c),o.value((function(e,n){return t.defined()(e,n)})).data(c)),(_||g.scale!==d)&&(d=g.scale,"vertical"===t.orient()?r.value((function(e,n){return g.scale(t.crossValue()(e,n))})).data(c):r.value((function(e,n){return g.scale(t.mainValue()(e,n))})).data(c)),(_||p.scale!==h)&&(h=p.scale,"vertical"===t.orient()?i.value((function(e,n){return p.scale(t.mainValue()(e,n))})).data(c):i.value((function(e,n){return p.scale(t.crossValue()(e,n))})).data(c)),l.xScale(g.webglScale).yScale(p.webglScale).type(Ln(n)).decorate((function(e){return t.decorate()(e,c,0)})),l(c.length)};return p.size=function(){return arguments.length?(e=yt(arguments.length<=0?void 0:arguments[0]),p):e},p.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],p):n},p.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},_(p,t,m("baseValue","bandwidth","align")),g(p,l,"context","pixelRatio"),p},t.seriesWebglRepeat=function(){var t="vertical",e=function(){return Bn()},n=Xn(),r=[],i=function(i){if("vertical"===t){var a=r;r=i[0].map((function(t,n){return n<a.length?a[n]:e()})),n.series(r).mapping((function(t,e){return t.map((function(t){return t[e]}))}))}else{var o=r;r=i.map((function(t,n){return n<o.length?o[n]:e()})),n.series(r).mapping((function(t,e){return t[e]}))}n(i)};return i.series=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.length?(e="function"==typeof n[0].xScale&&"function"==typeof n[0].yScale?function(){return n[0]}:n[0],r=[],i):e},i.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r=[],i):t},_(i,n,m("series","mapping")),i},t.shapeBar=it,t.shapeBoxPlot=ot,t.shapeCandlestick=at,t.shapeErrorBar=lt,t.shapeOhlc=rt,t.webglAdjacentAttribute=Mn,t.webglAttribute=an,t.webglBaseAttribute=nn,t.webglBufferBuilder=Pt,t.webglElementIndices=dn,t.webglFillColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],e=an().size(4),n=t,r=!0,i=function(t){if(t.vertexShader().appendHeaderIfNotExists(jt).appendBodyIfNotExists(Ft),t.fragmentShader().appendHeaderIfNotExists(We).appendBodyIfNotExists(qe),Array.isArray(n))t.buffers().attribute("aFillColor",In(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;e.value(n),t.buffers().attribute("aFillColor",e)}r=!1};return i.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),i):n},g(i,e,"data"),i},t.webglProgramBuilder=It,t.webglScaleLinear=kn,t.webglScaleLog=An,t.webglScaleMapper=On,t.webglScalePow=Cn,t.webglSeriesArea=ln,t.webglSeriesBar=bn,t.webglSeriesBoxPlot=Sn,t.webglSeriesCandlestick=wn,t.webglSeriesErrorBar=vn,t.webglSeriesLine=hn,t.webglSeriesOhlc=pn,t.webglSeriesPoint=sn,t.webglShaderBuilder=Bt,t.webglStrokeColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],e=an().size(4),n=t,r=!0,i=function(t){if(t.vertexShader().appendHeaderIfNotExists(Zt).appendBodyIfNotExists(Ht),t.fragmentShader().appendHeaderIfNotExists($e).appendBodyIfNotExists(Ge),Array.isArray(n))t.buffers().attribute("aStrokeColor",In(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;e.value(n),t.buffers().attribute("aStrokeColor",e)}r=!1};return i.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),i):n},g(i,e,"data"),i},t.webglSymbolMapper=Ln,t.webglTypes=Je,t.webglUniform=zt,t.zoom=function(){var t=u.dispatch("zoom"),e=d.zoom().on("zoom",(function(n){var r,i,a=n.transform,o=this,c=a,s=o[Jr],u=s.originalXScale,f=s.previousXScale,h=s.xScale,g=s.originalYScale,p=s.previousYScale,_=s.yScale,b=s.previousTransform;Kr(f,h)&&Kr(p,_)||(u=null==h?void 0:h.copy(),g=null==_?void 0:_.copy(),r=a,i=b,c=d.zoomIdentity.scale(r.k/i.k).translate(r.x-i.x,r.y-i.y)),null!=h&&(f=c.rescaleX(u.range(h.range())),h.domain(f.domain())),null!=_&&(p=c.rescaleY(g.range(_.range())),_.domain(p.domain())),b=c,o[Jr]={originalXScale:u,previousXScale:f,xScale:h,originalYScale:g,previousYScale:p,yScale:_,previousTransform:b},c!==a&&e.transform(l.select(o),c),t.call("zoom")})),n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&null==r&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),t.each((function(t,e,i){var a=i[e][Jr];null!=a&&a.xScale===n&&a.yScale===r&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var o=null==n?void 0:n.copy(),l=null==r?void 0:r.copy();i[e][Jr]={originalXScale:o,previousXScale:o,xScale:n,originalYScale:l,previousYScale:l,yScale:r,previousTransform:d.zoomIdentity}})).call(e)};return g(n,t,"on"),g(n,e,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),n},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(9777),n(1381),n(4134),n(678),n(7859),n(9233),n(8040),n(2317),n(4453),n(2669),n(906),n(8273))},5392:(t,e)=>{var n,r;(r=r||{}).stringify=(n={"visit_linear-gradient":function(t){return n.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return n.visit_gradient(t)},"visit_radial-gradient":function(t){return n.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return n.visit_gradient(t)},visit_gradient:function(t){var e=n.visit(t.orientation);return e&&(e+=", "),t.type+"("+e+n.visit(t.colorStops)+")"},visit_shape:function(t){var e=t.value,r=n.visit(t.at),i=n.visit(t.style);return i&&(e+=" "+i),r&&(e+=" at "+r),e},"visit_default-radial":function(t){var e="",r=n.visit(t.at);return r&&(e+=r),e},"visit_extent-keyword":function(t){var e=t.value,r=n.visit(t.at);return r&&(e+=" at "+r),e},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return n.visit(t.value.x)+" "+n.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return n.visit_color(t.value,t)},visit_hex:function(t){return n.visit_color("#"+t.value,t)},visit_rgb:function(t){return n.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return n.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,e){var r=t,i=n.visit(e.length);return i&&(r+=" "+i),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var e="",r=t.length;return t.forEach((function(t,i){e+=n.visit(t),i<r-1&&(e+=", ")})),e},visit:function(t){if(!t)return"";if(t instanceof Array)return n.visit_array(t,"");if(t.type){var e=n["visit_"+t.type];if(e)return e(t);throw Error("Missing visitor visit_"+t.type)}throw Error("Invalid node.")}},function(t){return n.visit(t)}),(r=r||{}).parse=function(){var t=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,e=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,i=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,a=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,o=/^(left|center|right|top|bottom)/i,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,f=/^\(/,d=/^\)/,h=/^,/,g=/^\#([0-9a-fA-F]+)/,p=/^([a-zA-Z]+)/,_=/^rgb/i,b=/^rgba/i,m=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,v="";function y(t){var e=new Error(v+": "+t);throw e.source=v,e}function w(){return x("linear-gradient",t,M)||x("repeating-linear-gradient",e,M)||x("radial-gradient",n,k)||x("repeating-radial-gradient",r,k)}function x(t,e,n){return S(e,(function(e){var r=n();return r&&(L(h)||y("Missing comma before color stops")),{type:t,orientation:r,colorStops:N(V)}}))}function S(t,e){var n=L(t);if(n){L(f)||y("Missing (");var r=e(n);return L(d)||y("Missing )"),r}}function M(){return O("directional",i,1)||O("angular",u,1)}function k(){var t,e,n=A();return n&&((t=[]).push(n),e=v,L(h)&&((n=A())?t.push(n):v=e)),t}function A(){var t,e,n=((e=O("shape",/^(circle)/i,0))&&(e.style=z()||C()),e||((t=O("shape",/^(ellipse)/i,0))&&(t.style=P()||C()),t));if(n)n.at=T();else{var r=C();if(r){n=r;var i=T();i&&(n.at=i)}else{var a=E();a&&(n={type:"default-radial",at:a})}}return n}function C(){return O("extent-keyword",a,1)}function T(){if(O("position",/^at/,0)){var t=E();return t||y("Missing positioning value"),t}}function E(){var t={x:P(),y:P()};if(t.x||t.y)return{type:"position",value:t}}function N(t){var e=t(),n=[];if(e)for(n.push(e);L(h);)(e=t())?n.push(e):y("One extra comma");return n}function V(){var t=O("hex",g,1)||S(b,(function(){return{type:"rgba",value:N(D)}}))||S(_,(function(){return{type:"rgb",value:N(D)}}))||O("literal",p,0);return t||y("Expected color definition"),t.length=P(),t}function D(){return L(m)[1]}function P(){return O("%",c,1)||O("position-keyword",o,1)||z()}function z(){return O("px",l,1)||O("em",s,1)}function O(t,e,n){var r=L(e);if(r)return{type:t,value:r[n]}}function L(t){var e,n;return(n=/^[\n\r\t\s]+/.exec(v))&&I(n[0].length),(e=t.exec(v))&&I(e[0].length),e}function I(t){v=v.substr(t)}return function(t){return v=t.toString(),e=N(w),v.length>0&&y("Invalid input not EOF"),e;var e}}(),e.Q=r.parse,r.stringify},9534:(t,e,n)=>{"use strict";n.d(e,{L:()=>r,H:()=>i});class r extends Map{constructor(t,e=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(a(this,t))}has(t){return super.has(a(this,t))}set(t,e){return super.set(o(this,t),e)}delete(t){return super.delete(l(this,t))}}class i extends Set{constructor(t,e=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(a(this,t))}add(t){return super.add(o(this,t))}delete(t){return super.delete(l(this,t))}}function a({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function o({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function l({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function c(t){return null!==t&&"object"==typeof t?t.valueOf():t}},7144:()=>{const t=document.createElement("style");t.textContent="\n.dnd-poly-drag-image {\n    opacity: .5 !important;\n}\n.dnd-poly-drag-image.dnd-poly-snapback {\n    transition-property: transform, -webkit-transform !important;\n    transition-duration: 250ms !important;\n    transition-timing-function: ease-out !important;\n}\n",document.head.appendChild(t);const e="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],i=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function a(t){return t&&t.tagName}function o(t,e,n){void 0===n&&(n=!0),document.addEventListener(t,e,!!i&&{passive:n})}function l(t,e){document.removeEventListener(t,e)}function c(t,e,n,r){void 0===r&&(r=!1);const a=i?{passive:!0,capture:r}:r;return t.addEventListener(e,n,a),{off:function(){t.removeEventListener(e,n,a)}}}function s(t,e){if(1===t.nodeType){const n=getComputedStyle(t);for(let t=0;t<n.length;t++){const r=n[t];e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r))}if(e.style.pointerEvents="none",e.removeAttribute("id"),e.removeAttribute("class"),e.removeAttribute("draggable"),"CANVAS"===e.nodeName){const n=t,r=e,i=n.getContext("2d").getImageData(0,0,n.width,n.height);r.getContext("2d").putImageData(i,0,0)}}if(t.hasChildNodes())for(let n=0;n<t.childNodes.length;n++)s(t.childNodes[n],e.childNodes[n])}function u(t){return 0===t.length?0:t.reduce((function(t,e){return e+t}),0)/t.length}function f(t,e){for(let n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return!0;return!1}function d(t,e,n){const r=[],i=[];for(let n=0;n<e.touches.length;n++){const a=e.touches[n];r.push(a[t+"X"]),i.push(a[t+"Y"])}n.x=u(r),n.y=u(i)}const h=["","-webkit-"];function g(t,e,n,r,i){void 0===i&&(i=!0);let a=e.x,o=e.y;r&&(a+=r.x,o+=r.y),i&&(a-=parseInt(t.offsetWidth,10)/2,o-=parseInt(t.offsetHeight,10)/2);const l="translate3d("+a+"px,"+o+"px, 0)";for(let e=0;e<h.length;e++){const r=h[e]+"transform";t.style[r]=l+" "+n[e]}}const p=function(){function t(t,e){this._dataStore=t,this._setDragImageHandler=e,this._dropEffect=r[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){0!==this._dataStore.mode&&n.indexOf(t)>-1&&(this._dropEffect=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this._dataStore.mode)return Object.freeze(this._dataStore.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._dataStore.effectAllowed},set:function(t){2===this._dataStore.mode&&n.indexOf(t)>-1&&(this._dataStore.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this._dataStore.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this._dataStore.data[t]=e,-1===this._dataStore.types.indexOf(t)&&this._dataStore.types.push(t)}},t.prototype.getData=function(t){if(1===this._dataStore.mode||2===this._dataStore.mode)return this._dataStore.data[t]||""},t.prototype.clearData=function(t){if(2===this._dataStore.mode){if(t&&this._dataStore.data[t]){delete this._dataStore.data[t];const e=this._dataStore.types.indexOf(t);return void(e>-1&&this._dataStore.types.splice(e,1))}this._dataStore.data={},this._dataStore.types=[]}},t.prototype.setDragImage=function(t,e,n){2===this._dataStore.mode&&this._setDragImageHandler(t,e,n)},t}();function _(t,e){return t?t===n[0]?r[0]:0===t.indexOf(n[1])||t===n[7]?r[1]:0===t.indexOf(n[4])?r[3]:t===n[6]?r[2]:r[1]:3===e.nodeType&&"A"===e.tagName?r[3]:r[1]}function b(t,e,n,r,i,a,o){void 0===a&&(a=!0),void 0===o&&(o=null),console.log("dnd-poly: dispatching "+t);const l=function(t,e,n,r,i,a,o){void 0===o&&(o=null);const l=e.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=a,c.relatedTarget=o,c.screenX=l.screenX,c.screenY=l.screenY,c.clientX=l.clientX,c.clientY=l.clientY,c.pageX=l.pageX,c.pageY=l.pageY;const s=t.getBoundingClientRect();return c.offsetX=c.clientX-s.left,c.offsetY=c.clientY-s.top,c}(e,n,t,a,document.defaultView,i,o),c=!e.dispatchEvent(l);return r.mode=0,c}function m(t,e){if(!t||t===n[7])return e;if(e===r[1]){if(0===t.indexOf(r[1]))return r[1]}else if(e===r[3]){if(0===t.indexOf(r[3])||t.indexOf("Link")>-1)return r[3]}else if(e===r[2]&&(0===t.indexOf(r[2])||t.indexOf("Move")>-1))return r[2];return r[0]}const v=function(){function t(t,e,n,r){this._initialEvent=t,this._config=e,this._sourceNode=n,this._dragOperationEndedCb=r,this._dragOperationState=0,this._immediateUserSelection=null,this._currentDropTarget=null,console.log("dnd-poly: setting up potential drag operation.."),this._lastTouchEvent=t,this._initialTouch=t.changedTouches[0],this._touchMoveHandler=this._onTouchMove.bind(this),this._touchEndOrCancelHandler=this._onTouchEndOrCancel.bind(this),o("touchmove",this._touchMoveHandler,!1),o("touchend",this._touchEndOrCancelHandler,!1),o("touchcancel",this._touchEndOrCancelHandler,!1)}return t.prototype._setup=function(){const t=this;console.log("dnd-poly: starting drag and drop operation"),this._dragOperationState=1,this._currentDragOperation=r[0],this._dragDataStore={data:{},effectAllowed:void 0,mode:3,types:[]},this._currentHotspotCoordinates={x:null,y:null},this._dragImagePageCoordinates={x:null,y:null};let e=this._sourceNode;if(this._dataTransfer=new p(this._dragDataStore,(function(n,r,i){e=n,"number"!=typeof r&&"number"!=typeof i||(t._dragImageOffset={x:r||0,y:i||0})})),this._dragDataStore.mode=2,this._dataTransfer.dropEffect=r[0],b("dragstart",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer))return console.log("dnd-poly: dragstart cancelled"),this._dragOperationState=3,this._cleanup(),!1;d("page",this._lastTouchEvent,this._dragImagePageCoordinates);const n=this._config.dragImageSetup(e);var i;if(this._dragImageTransforms=(i=n,h.map((function(t){const e=i.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.zIndex="999999",n.classList.add("dnd-poly-drag-image"),n.classList.add("dnd-poly-icon"),this._dragImage=n,!this._dragImageOffset)if(this._config.dragImageOffset)this._dragImageOffset={x:this._config.dragImageOffset.x,y:this._config.dragImageOffset.y};else if(this._config.dragImageCenterOnTouch){const t=getComputedStyle(e);this._dragImageOffset={x:0-parseInt(t.marginLeft,10),y:0-parseInt(t.marginTop,10)}}else{const t=e.getBoundingClientRect(),n=getComputedStyle(e);this._dragImageOffset={x:t.left-this._initialTouch.clientX-parseInt(n.marginLeft,10)+t.width/2,y:t.top-this._initialTouch.clientY-parseInt(n.marginTop,10)+t.height/2}}return g(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch),document.body.appendChild(this._dragImage),this._iterationIntervalId=window.setInterval((function(){t._iterationLock?console.log("dnd-poly: iteration skipped because previous iteration hast not yet finished."):(t._iterationLock=!0,t._dragAndDropProcessModelIteration(),t._iterationLock=!1)}),this._config.iterationInterval),!0},t.prototype._cleanup=function(){console.log("dnd-poly: cleanup"),this._iterationIntervalId&&(clearInterval(this._iterationIntervalId),this._iterationIntervalId=null),l("touchmove",this._touchMoveHandler),l("touchend",this._touchEndOrCancelHandler),l("touchcancel",this._touchEndOrCancelHandler),this._dragImage&&(this._dragImage.parentNode.removeChild(this._dragImage),this._dragImage=null),this._dragOperationEndedCb(this._config,this._lastTouchEvent,this._dragOperationState)},t.prototype._onTouchMove=function(t){const e=this;if(!1!==f(t,this._initialTouch.identifier)){if(this._lastTouchEvent=t,0===this._dragOperationState){let e;if(this._config.dragStartConditionOverride)try{e=this._config.dragStartConditionOverride(t)}catch(t){console.error("dnd-poly: error in dragStartConditionOverride hook: "+t),e=!1}else e=1===t.touches.length;return e?void(!0===this._setup()&&(this._initialEvent.preventDefault(),t.preventDefault())):void this._cleanup()}if(console.log("dnd-poly: moving draggable.."),t.preventDefault(),d("client",t,this._currentHotspotCoordinates),d("page",t,this._dragImagePageCoordinates),this._config.dragImageTranslateOverride)try{let n=!1;if(this._config.dragImageTranslateOverride(t,{x:this._currentHotspotCoordinates.x,y:this._currentHotspotCoordinates.y},this._immediateUserSelection,(function(t,r){e._dragImage&&(n=!0,e._currentHotspotCoordinates.x+=t,e._currentHotspotCoordinates.y+=r,e._dragImagePageCoordinates.x+=t,e._dragImagePageCoordinates.y+=r,g(e._dragImage,e._dragImagePageCoordinates,e._dragImageTransforms,e._dragImageOffset,e._config.dragImageCenterOnTouch))})),n)return}catch(t){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+t)}g(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch)}},t.prototype._onTouchEndOrCancel=function(t){if(!1!==f(t,this._initialTouch.identifier)){if(this._config.dragImageTranslateOverride)try{this._config.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(t){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+t)}0!==this._dragOperationState?(t.preventDefault(),this._dragOperationState="touchcancel"===t.type?3:2):this._cleanup()}},t.prototype._dragAndDropProcessModelIteration=function(){const t=this,n=this._currentDragOperation;this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0];const i=b("drag",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer);if(i&&(console.log("dnd-poly: drag event cancelled."),this._currentDragOperation=r[0]),i||2===this._dragOperationState||3===this._dragOperationState)return this._dragOperationEnded(this._dragOperationState)?void function(t,e,n,r){const i=getComputedStyle(t);if("hidden"===i.visibility||"none"===i.display)return console.log("dnd-poly: source node is not visible. skipping snapback transition."),void r();e.classList.add("dnd-poly-snapback");const a=getComputedStyle(e),o=parseFloat(a.transitionDuration);if(isNaN(o)||0===o)return console.log("dnd-poly: no transition used - skipping snapback"),void r();console.log("dnd-poly: starting dragimage snap back");const l=t.getBoundingClientRect(),c={x:l.left,y:l.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(i.marginLeft,10),c.y-=parseInt(i.marginTop,10);const s=parseFloat(a.transitionDelay),u=Math.round(1e3*(o+s));g(e,c,n,void 0,!1),setTimeout(r,u)}(this._sourceNode,this._dragImage,this._dragImageTransforms,(function(){t._finishDragOperation()})):void this._finishDragOperation();const o=this._config.elementFromPoint(this._currentHotspotCoordinates.x,this._currentHotspotCoordinates.y);console.log("dnd-poly: new immediate user selection is: "+o);const l=this._currentDropTarget;o!==this._immediateUserSelection&&o!==this._currentDropTarget&&(this._immediateUserSelection=o,null!==this._currentDropTarget&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],b("dragexit",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)),null===this._immediateUserSelection?(this._currentDropTarget=this._immediateUserSelection,console.log("dnd-poly: current drop target changed to null")):(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=_(this._dragDataStore.effectAllowed,this._sourceNode),b("dragenter",this._immediateUserSelection,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragenter default prevented"),this._currentDropTarget=this._immediateUserSelection,this._currentDragOperation=m(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect)):this._immediateUserSelection!==document.body&&(this._currentDropTarget=document.body))),l!==this._currentDropTarget&&a(l)&&(console.log("dnd-poly: current drop target changed."),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],b("dragleave",l,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1,this._currentDropTarget)),a(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=_(this._dragDataStore.effectAllowed,this._sourceNode),!1===b("dragover",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragover not prevented on possible drop-target."),this._currentDragOperation=r[0]):(console.log("dnd-poly: dragover prevented."),this._currentDragOperation=m(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect))),console.log("dnd-poly: d'n'd iteration ended. current drag operation: "+this._currentDragOperation),n!==this._currentDragOperation&&this._dragImage.classList.remove(e+n);const c=e+this._currentDragOperation;this._dragImage.classList.add(c)},t.prototype._dragOperationEnded=function(t){console.log("dnd-poly: drag operation end detected with "+this._currentDragOperation);const e=this._currentDragOperation===r[0]||null===this._currentDropTarget||3===t;return e?a(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],b("dragleave",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)):a(this._currentDropTarget)&&(this._dragDataStore.mode=1,this._dataTransfer.dropEffect=this._currentDragOperation,!0===b("drop",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?this._currentDragOperation=this._dataTransfer.dropEffect:this._currentDragOperation=r[0]),e},t.prototype._finishDragOperation=function(){console.log("dnd-poly: dragimage snap back transition ended"),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=this._currentDragOperation,b("dragend",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1),this._dragOperationState=2,this._cleanup()},t}(),y={iterationInterval:150,tryFindDraggableTarget:function(t){let e=t.target;do{if(!1!==e.draggable){if(!0===e.draggable)return e;if(e.getAttribute&&"true"===e.getAttribute("draggable"))return e}}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){const e=t.cloneNode(!0);return s(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};let w;function x(t,e){if(console.log("dnd-poly: global touchstart"),w)return void console.log("dnd-poly: drag operation already active");const n=y.tryFindDraggableTarget(t,e);if(n)try{w=new v(t,y,n,M)}catch(e){throw M(y,t,3),e}else console.log("dnd-poly: no draggable at touchstart coordinates")}function S(t){console.log("dnd-poly: setup delayed dragstart..");const e=t.target,n=t.composedPath(),r=function(t){console.log("dnd-poly: aborting delayed drag because of "+t.type),a.off(),o.off(),l.off(),s.off(),e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(i)};e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));const i=window.setTimeout((function(){console.log("dnd-poly: starting delayed drag.."),a.off(),o.off(),l.off(),s.off(),x(t,n)}),y.holdToDrag),a=c(e,"touchend",r),o=c(e,"touchcancel",r),l=c(e,"touchmove",r),s=c(window,"scroll",r,!0)}function M(t,e,n){if(0===n&&(console.log("dnd-poly: Drag never started. Last event was "+e.type),t.defaultActionOverride))try{t.defaultActionOverride(e),e.defaultPrevented&&console.log("dnd-poly: defaultActionOverride has taken care of triggering the default action. preventing default on original event")}catch(t){console.log("dnd-poly: error in defaultActionOverride: "+t)}w=null}window.addEventListener("touchmove",(function(){})),function(t){if(t&&Object.keys(t).forEach((function(e){y[e]=t[e]})),!y.forceApply){const t=function(){const t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},e=!!window.chrome||/chrome/i.test(navigator.userAgent);return t.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||e&&"ontouchstart"in document.documentElement),t}();if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}console.log("dnd-poly: Applying mobile drag and drop polyfill."),y.holdToDrag?(console.log("dnd-poly: holdToDrag set to "+y.holdToDrag),o("touchstart",S,!1)):o("touchstart",x,!1)}({tryFindDraggableTarget:function(t,e){const n=e||t.composedPath();for(let t of n){let e=t;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)}},elementFromPoint:function(t,e){for(let n of this._path)if(n.elementFromPoint){let r=n.elementFromPoint(t,e);if(r){for(;r.shadowRoot;)r=r.shadowRoot.elementFromPoint(t,e);return r}}},dragStartConditionOverride:function(t){return this._path=t.composedPath(),!0},holdToDrag:500})},8136:()=>{const t=new WeakMap,e=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?5e6:1e7;function n(t,e,n,r,i){var a={};return Object.keys(r).forEach((function(t){a[t]=r[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}let r=0,i=0,a=performance.now();const o=(t,...e)=>t.map(((t,n)=>[t,e[n]])).flat().filter((t=>!!t)).join("");function l(t,e,n){const r=n.value,i=Symbol("regular-table throttle lock");return n.value=async function(...t){if(void 0!==this[i]&&(await this[i],void 0!==this[i]))return void await this[i];let e;this[i]=(()=>{let t;const e=new Promise((e=>{t=e}));return e.resolve=t,e})();try{e=await r.call(this,...t)}finally{const t=this[i];this[i]=void 0,t.resolve()}return e},n.value.flush=async function(){return await new Promise(requestAnimationFrame),await this[i]},n}var c;let s=(n((c=class extends HTMLElement{create_shadow_dom(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=o` <style> ${":host{bottom:0;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch}:host,div.rt-virtual-panel{position:absolute;top:0;left:0;right:0}div.rt-virtual-panel{pointer-events:none}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%}div.rt-tree-container{display:flex;align-items:center;height:100%}slot{position:absolute;overflow:hidden;overflow-anchor:none}"} </style> <style> ${":host ::slotted(table){--regular-table--transform-x:0px;--regular-table--transform-y:0px;--regular-table--clip-x:0px;--regular-table--clip-y:0px}"} </style> <div class="rt-virtual-panel"></div> <div class="rt-scroll-table-clip"> ${"<slot></slot>"} </div> `;const[,t,e,n]=this.shadowRoot.children;this._sub_cell_style=t,this._table_clip=n,this._virtual_panel=e,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&("both"===this._virtual_mode||"vertical"===this._virtual_mode?this._table_clip.style.top="0px":this._table_clip.style.removeProperty("top"),"both"===this._virtual_mode||"horizontal"===this._virtual_mode?this._table_clip.style.left="0px":this._table_clip.style.removeProperty("left"),"both"!==this._virtual_mode?this._table_clip.style.contain="none":this._table_clip.style.removeProperty("contain"))}_calculate_viewport(t,e){const{start_row:n,end_row:r}=this._calculate_row_range(t),{start_col:i,end_col:a}=this._calculate_column_range(e);return this._nrows=t,{start_col:i,end_col:a,start_row:n,end_row:r}}_calculate_row_range(t){const{height:e}=this._container_size,n=this._column_sizes.row_height||19,r=this._view_cache.config.column_pivots.length,i=Math.max(1,this._virtual_panel.offsetHeight-this.clientHeight),a=Math.max(Math.ceil(this.scrollTop),0)/i,o=e/n-r,l=t||0,c=Math.max(0,Math.ceil(l-o))*a;return{start_row:c,end_row:Math.max(0,Math.min(c+o,t))}}_calc_start_column(){const t=this._view_cache.config.row_pivots.length;let e=0,n=0,r=0;for(;n<this.scrollLeft;){const i=this._column_sizes.indices[e+t];r=this.scrollLeft-n,e+=1,n+=void 0!==i?i:60}return e+=r/(this._column_sizes.indices[e+t-1]||60),Math.max(0,e-1)}_calculate_column_range(t){if("none"===this._virtual_mode||"vertical"===this._virtual_mode)return{start_col:0,end_col:1/0};{const e=this._calc_start_column();return{start_col:e,end_col:e+(this.table_model.num_columns()||Math.min(t,Math.ceil(this._container_size.width/60)))+1}}}_max_scroll_column(t){let e=0;if(this._view_cache.config.row_pivots.length>0)for(const t of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))e+=t;let n=this._view_cache.config.row_pivots.length,r=t;for(;e<this._container_size.width&&r>=0;)r--,e+=this._column_sizes.indices[r+n]||60;return Math.min(t-1,r+1)}_validate_viewport({start_col:t,end_col:e,start_row:n,end_row:r}){n=Math.floor(n),r=Math.ceil(r),t=Math.floor(t),e=Math.ceil(e);const i=this._start_col!==t,a=this._start_row!==n||this._end_row!==r||this._end_col!==e;return this._start_col=t,this._end_col=e,this._start_row=n,this._end_row=r,{invalid_column:i,invalid_row:a}}_calc_scrollable_column_width(t){let e=this._view_cache.config.row_pivots.length;const n=this._max_scroll_column(t);let r=e,i=0;for(;r<n+e;)i+=this._column_sizes.indices[r]||60,r++;return i}_update_virtual_panel_width(t,e){if(t)if("vertical"===this._virtual_mode||"none"===this._virtual_mode)this._virtual_panel.style.width=this._column_sizes.indices.reduce(((t,e)=>t+e),0)+"px";else{const t=this._calc_scrollable_column_width(e);if(0!==t){const e=this._container_size.width+t+2;this._virtual_panel.style.width=e+"px"}else this._virtual_panel.style.width="1px"}}_update_virtual_panel_height(t){const{row_height:n=19}=this._column_sizes,r=this._view_cache.config.column_pivots.length*n;let i;if("horizontal"===this._virtual_mode||"none"===this._virtual_mode)i=t*n+r;else{const a=this.clientHeight/(this._table_clip.offsetHeight-r);i=Math.min(e,t*n*a)}this._virtual_panel.style.height=i+"px"}async draw(t={}){const e=performance.now(),{invalid_viewport:n=!0,preserve_width:a=!1}=t,{num_columns:o,num_rows:l}=await this._view_cache.view(0,0,0,0);this._container_size={width:"none"===this._virtual_mode||"vertical"===this._virtual_mode?1/0:this._table_clip.clientWidth,height:"none"===this._virtual_mode||"horizontal"===this._virtual_mode?1/0:this._table_clip.clientHeight},this._update_virtual_panel_height(l),a||this._update_virtual_panel_width(n,o);const c=this._calculate_viewport(l,o),{invalid_row:s,invalid_column:u}=this._validate_viewport(c);if(this._invalid_schema||s||u||n){let t=[],e=!0;for await(let n of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,a,c,o)){void 0!==n&&(t=t.concat(n)),e&&(this.update_sub_cell_offset(c),e=!1),this._is_styling=!0;const r=this._style_callbacks;for(const t of r)await t({detail:this});if(this._is_styling=!1,!this._invalidated&&void 0!==n)break;this._invalidated=!1}this.table_model.autosize_cells(t),this.table_model.header.reset_header_cache(),a||this._update_virtual_panel_width(this._invalid_schema||u,o),this._invalid_schema=!1}else this.update_sub_cell_offset(c);var f;f=performance.now()-e,r=(r*i+f)/(i+1),i+=1}update_sub_cell_offset(t){var e;const n=this._column_sizes.row_height*(t.start_row%1)||0,r=this._column_sizes.indices[(this.table_model._row_headers_length||0)+Math.floor(t.start_col)]*(t.start_col%1)||0;let i=null===(e=this._sub_cell_style.sheet)||void 0===e?void 0:e.cssRules[0].style;i&&(i.setProperty("--regular-table--clip-x",r+"px"),i.setProperty("--regular-table--clip-y",n+"px"),i.setProperty("--regular-table--transform-x",`-${r}px`),i.setProperty("--regular-table--transform-y",`-${n}px`))}}).prototype,"draw",[l],Object.getOwnPropertyDescriptor(c.prototype,"draw"),c.prototype),c);var u;let f=(n((u=class extends s{register_listeners(){this.addEventListener("mousedown",this._on_click_or_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!0}),this._register_glitch_scroll_listeners()}_on_scroll(t){t.stopPropagation(),this.draw({invalid_viewport:!1})}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this))}_on_mousewheel(t){if(!window.safari)return;const{clientWidth:e,clientHeight:n,scrollTop:r,scrollLeft:i}=this;t.preventDefault(),t.returnValue=!1;const a=Math.max(1,this._virtual_panel.offsetHeight-n),o=Math.max(1,this._virtual_panel.offsetWidth-e);this.scrollTop=Math.max(0,Math.min(a,r+t.deltaY)),this.scrollLeft=Math.max(0,Math.min(o,i+t.deltaX)),this._on_scroll(t)}_on_touchmove(t){t.stopPropagation(),t.preventDefault(),t.returnValue=!1;const{clientWidth:e,clientHeight:n}=this,r=Math.max(1,this._virtual_panel.offsetHeight-n),i=Math.max(1,this._virtual_panel.offsetWidth-e);this.scrollTop=Math.min(r,this._memo_scroll_top+(this._memo_touch_startY-t.touches[0].pageY)),this.scrollLeft=Math.min(i,this._memo_scroll_left+(this._memo_touch_startX-t.touches[0].pageX)),this._on_scroll(t)}_on_touchstart(t){this._memo_touch_startY=t.touches[0].pageY,this._memo_touch_startX=t.touches[0].pageX,this._memo_scroll_top=this.scrollTop,this._memo_scroll_left=this.scrollLeft}async _on_dblclick(e){let n=e.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=e.target.classList.contains("rt-column-resize"),i=t.get(n);if(r){e.stopImmediatePropagation(),n.style.minWidth="",n.style.maxWidth="",e.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(this._column_sizes.override[i.size_key]=void 0,this._column_sizes.auto[i.size_key]=void 0,this._column_sizes.indices[i.size_key]=void 0);for(const t of e.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(const n of e.shiftKey?t:[t[i._virtual_x]])n&&(n.style.minWidth="",n.style.maxWidth="",n.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(e){if(0!==e.button)return;let n=e.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=e.target.classList.contains("rt-column-resize"),i=t.get(n);r&&(this._on_resize_column(e,n,i),e.stopImmediatePropagation())}async _on_click_or_dblclick(t){const e=performance.now();this._last_clicked_time&&e-this._last_clicked_time<500?(this._last_clicked_time=e,await this._on_dblclick(t)):(this._last_clicked_time=e,await this._on_click(t))}_on_resize_column(t,e,n){const{_virtual_x:r,size_key:i}=n,a=t.pageX,o=r+e.colSpan-1,l=this.table_model.header.get_column_header(o),c=this._column_sizes.indices[i],s=t=>this._on_resize_column_move(t,l,a,c,i,o),u=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u);const t=this._column_sizes.override[i],e=this._column_sizes.indices[i]!==t;this._column_sizes.indices[i]=t,e&&this.draw()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)}async _on_resize_column_move(t,e,n,r,i,a){await new Promise(setTimeout);const o=t.pageX-n,l=Math.max(1,r+o);if(this._column_sizes.override[i]=l,o<0)await this.draw({preserve_width:!0});else{e.style.minWidth=l+"px",e.style.maxWidth=l+"px";const t=this._column_sizes.auto[i];for(const e of this.table_model.body.cells){const n=e[a];n&&(n.style.maxWidth=n.style.minWidth=l+"px",n.classList.toggle("rt-cell-clip",t>l))}}}}).prototype,"_on_resize_column_move",[l],Object.getOwnPropertyDescriptor(u.prototype,"_on_resize_column_move"),u.prototype),u);class d{constructor(t){this._name=t,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));const t=this._elements[this._index];return this._index+=1,t}}class h{constructor(t,e,n){this._column_sizes=t,this._container=e,this._span_factory=new d("span"),this.table=n,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(e,n){t.set(e,n)}_get_or_create_metadata(e){if(void 0===e)return{};if(t.has(e))return t.get(e);{const n={};return t.set(e,n),n}}_replace_cell(t,e){const{tr:n,row_container:r}=this._get_row(t);let i=r[e];return i&&(n.removeChild(i),r.splice(e,1,void 0)),i}_fetch_cell(t,e){if(t<0||e<0)return;const{row_container:n}=this._get_row(t);return n[e]}_get_cell(t="TD",e,n){const{tr:r,row_container:i}=this._get_row(e);let a=i[n];if(a||(n<i.length?(a=i[n]=document.createElement(t),r.insertBefore(a,i.slice(n+1).find((t=>t)))):(a=i[n]=document.createElement(t),r.appendChild(a))),a.tagName!==t){const i=document.createElement(t);r.replaceChild(i,a),this.cells[e].splice(n,1,i),a=i}return a}_get_row(t){let e=this.rows[t];e||(e=this.rows[t]=document.createElement("tr"),this.table.appendChild(e));let n=this.cells[t];return n||(n=this.cells[t]=[]),{tr:e,row_container:n}}_clean_columns(t){for(let e=0;e<this.rows.length;e++){const n=this.rows[e],r=this.cells[e];this.cells[e]=r.slice(0,t[e]||t);const i=this.cells[e].filter((t=>void 0!==t)).length;for(;n.children[i];)n.removeChild(n.children[i])}}_clean_rows(t){for(;this.table.children[t];)this.table.removeChild(this.table.children[t]);this.rows=this.rows.slice(0,t),this.cells=this.cells.slice(0,t)}}class g extends h{constructor(...t){super(...t),this._group_header_cache=[],this._offset_cache=[]}_draw_group_th(t,e,n){const r=this._get_cell("TH",e,t[e]||0);if(t[e]+=1,r.removeAttribute("colspan"),r.style.minWidth="0",r.textContent="",n instanceof HTMLElement)r.appendChild(n);else{const t=this._span_factory.get("span");t.textContent=n,r.appendChild(t)}const i=this._span_factory.get("span");return i.className="rt-column-resize",r.appendChild(i),r}_draw_group(t,e,n){const r=this._get_or_create_metadata(n);return r.column_header=t,r.value=e,r.value=e,r}_draw_th(t,e,n,r,i){const a=this._get_or_create_metadata(n);if(a.column_header=t,a.value=e,a.size_key=i.length?i[0]:i,!(i.length>1)){const t=this._column_sizes.override[a.size_key],e=this._column_sizes.auto[a.size_key];t?(n.classList.toggle("rt-cell-clip",e>t),n.style.minWidth=t+"px",n.style.maxWidth=t+"px"):e?(n.classList.remove("rt-cell-clip"),n.style.maxWidth="",n.style.minWidth=e+"px"):(n.style.maxWidth="",n.style.maxWidth="")}return a}get_column_header(t){return this._get_cell("TH",this.num_rows()-1,t)}draw(t,e,n,r,i,a,o){const l=null==e?void 0:e.length;if(0===l)return;let c,s,u;for(let g=0;g<l;g++){if(u=e[g]?e[g]:"",this._offset_cache[g]=this._offset_cache[g]||0,g<l-1){var f,d,h;(null===(f=this._group_header_cache)||void 0===f||null===(d=f[g])||void 0===d||null===(h=d[0])||void 0===h?void 0:h.value)===u?(c=this._group_header_cache[g][1],this._group_header_cache[g][2]+=1,1===n&&(this._group_header_cache[g][0].row_header_x=i),c.setAttribute("colspan",this._group_header_cache[g][2])):(c=this._draw_group_th(this._offset_cache,g,u),s=this._draw_group(e,u,c),this._group_header_cache[g]=[s,c,1])}else{c=this._draw_group_th(this._offset_cache,g,u),s=this._draw_th(t||e,u,c,r,i);for(const[t]of this._group_header_cache)t.size_key=s.size_key;c.removeAttribute("colspan")}c.classList.toggle("rt-group-corner",void 0===r),s&&(s.x=void 0===r?r:Math.floor(r),s.column_header_y=g,s.x0=Math.floor(a),s._virtual_x=o,1===n&&(s.row_header_x=i))}return this._clean_rows(this._offset_cache.length),{th:c,metadata:s}}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}}class p extends h{_draw_td(t,e,n,r,{column_name:i},{ridx_offset:a},o){const l=this._get_cell(t,e,r),c=this._get_or_create_metadata(l);c.y=e+Math.floor(a),c.size_key=o,"TD"===t&&(c.column_header=i);const s=this._column_sizes.override[c.size_key];if(s){const t=this._column_sizes.auto[c.size_key];l.classList.toggle("rt-cell-clip",t>s),l.style.minWidth=s+"px",l.style.maxWidth=s+"px"}else l.classList.remove("rt-cell-clip"),l.style.minWidth="",l.style.maxWidth="";return c.value!==n&&(n instanceof HTMLElement?(l.textContent="",l.appendChild(n)):l.textContent=n),c.value=n,{td:l,metadata:c}}draw(t,e,n,r=!1,i,a,o){const{cidx:l,column_data:c,row_headers:s,column_data_listener_metadata:u}=e;let f,{row_height:d}=n;const h=[],g=[];let p=0;const _=[];for(let m=0;m<(r?n.row_headers_length:1);m++){p=0;for(const v of c){var b;const c=null==s?void 0:s[p];let y;if(r){const t=v[m],r=this._fetch_cell(p-(h[m]||1),l+m),i=this._get_or_create_metadata(r),o=this._fetch_cell(p,l+m-(_[p]||1)),c=this._get_or_create_metadata(o);!o||c.value!==t&&void 0!==t||o.hasAttribute("rowspan")?r&&i.value===t&&!r.hasAttribute("colspan")?(h[m]=h[m]?h[m]+1:2,r.setAttribute("rowspan",h[m]),this._replace_cell(p,l+m)):(y=this._draw_td("TH",p,t,l+m,e,n,m),y.td.style.display="",y.td.removeAttribute("rowspan"),y.td.removeAttribute("colspan"),y.metadata.row_header=v,y.metadata.row_header_x=m,y.metadata.y0=Math.floor(n.ridx_offset),y.metadata.y1=Math.ceil(n.y1),y.metadata._virtual_x=m,void 0!==a&&(y.metadata.x0=Math.floor(a)),h[m]=1,_[p]=1,g[m]=y):(_[p]=_[p]?_[p]+1:2,o.setAttribute("colspan",_[p]),this._replace_cell(p,l+m))}else y=this._draw_td("TD",p,v,l,e,n,o),u&&(y.metadata.user=u[p]),y.metadata.x=void 0===i?i:Math.floor(i),y.metadata.x1=Math.ceil(n.x1),y.metadata.row_header=c||[],y.metadata.y0=Math.floor(n.ridx_offset),y.metadata.y1=Math.ceil(n.y1),y.metadata.dx=Math.floor(i-a),y.metadata.dy=y.metadata.y-Math.floor(y.metadata.y0),y.metadata._virtual_x=l,void 0!==a&&(y.metadata.x0=Math.floor(a)),g[0]=y;if(p++,f=y?y.metadata:f,d=d||(null===(b=y)||void 0===b?void 0:b.td.offsetHeight),p*d>t)break}}return this._clean_rows(p),{tds:g,ridx:p,metadata:f,row_height:d}}clean({ridx:t,cidx:e}){this._clean_rows(t),this._clean_columns(e)}}class _{constructor(t,e,n){this.clear(n);const[r]=n.children,[i,a]=r.children;this.table=r,this._column_sizes=e,this.header=new g(e,t,i),this.body=new p(e,t,a),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(t){t.innerHTML=o` <table cellspacing="0"> <thead></thead> <tbody></tbody> </table> `}autosize_cells(t){for(;t.length>0;){const[e,n,r]=t.pop();let i;const a=getComputedStyle(e);"border-box"!==a.boxSizing?(i=e.clientWidth,i-=a.paddingLeft?parseFloat(a.paddingLeft):0,i-=a.paddingRight?parseFloat(a.paddingRight):0):i=parseFloat(a.width),this._column_sizes.row_height=this._column_sizes.row_height||r.offsetHeight,this._column_sizes.indices[n.size_key]=i;const o=void 0!==this._column_sizes.override[n.size_key];i&&!o&&(this._column_sizes.auto[n.size_key]=i),"0px"===e.style.minWidth&&(e.style.minWidth=i+"px")}}async*draw(t,e,n,r,i,a){var o,l,c,s;const{width:u,height:f}=t,{view:d,config:h}=e;let{data:g,row_headers:p,column_headers:_,metadata:b}=await d(Math.floor(i.start_col),Math.floor(i.start_row),Math.ceil(i.end_col),Math.ceil(i.end_row));const{start_row:m=0,start_col:v=0,end_col:y=0,end_row:w=0}=i;p&&(this._row_headers_length=p.reduce(((t,e)=>Math.max(t,e.length)),0),p=p.map((t=>(t.length=this._row_headers_length,t)))),e.config.column_pivots=Array.from(Array((null==_||null===(o=_[0])||void 0===o?void 0:o.length)||0).keys()),e.config.row_pivots=Array.from(Array((null===(l=p)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.length)||0).keys());const x={viewport_width:0,selected_id:n,ridx_offset:m,sub_cell_offset:this._column_sizes.indices[(this._row_headers_length||0)+Math.floor(i.start_col)]||0,x0:v,x1:y,y1:w,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length};let S,M=0,k=[],A=!0;if((null===(s=p)||void 0===s?void 0:s.length)>0){const t=h.row_pivots.join(","),n={column_name:t,cidx:0,column_data:p,row_headers:p,first_col:A},i=M+Math.floor(v);S=this.body.draw(f,n,{...x,x0:0},!0,void 0,void 0,i);const a=[];for(let n=0;n<e.config.row_pivots.length;n++){const r=this.header.draw(t,Array(e.config.column_pivots.length).fill(""),1,void 0,n,v,n);r&&a.push(r)}if(A=!1,x.viewport_width+=a.reduce(((t,{th:e},n)=>t+(this._column_sizes.indices[n]||e.offsetWidth)),0),x.row_height=x.row_height||S.row_height,M=p[0].length,!r)for(let t=0;t<e.config.row_pivots.length;t++){const{td:e,metadata:n}=S.tds[t]||{},{th:r,metadata:i}=a[t]||{};(e||r)&&k.push([r||e,i||n,e||r])}}try{var C;let t=0;const e=a-i.start_col;for(;t<e;){if(!g[t]){let e=Math.max(i.end_col,0);i.start_col=e;let n=0,r=0;for(;this._column_sizes.indices.length>M+v+n+1&&r+x.viewport_width<u;)n++,r+=this._column_sizes.indices[M+v+n];if(r+x.viewport_width<u){const t=Math.min(a,e+5);i.end_col=Math.max(1,Math.min(a,t))}else i.end_col=Math.max(1,Math.min(a,e+n));const o=d(Math.floor(i.start_col),Math.floor(i.start_row),Math.ceil(i.end_col),Math.ceil(i.end_row));yield;const l=await o;if(0===l.data.length)return void(yield k);i.end_col=i.start_col+l.data.length;for(let e=0;e<l.data.length;e++){var T;g[t+e]=l.data[e],l.metadata&&(b[t+e]=l.metadata[e]),_&&(_[t+e]=null===(T=l.column_headers)||void 0===T?void 0:T[e])}}const e=(null==_?void 0:_[t])||"",n={column_name:e,cidx:M,column_data:g[t],column_data_listener_metadata:null==b?void 0:b[t],row_headers:p,first_col:A},o=t+v,l=M+Math.floor(v),c=this.header.draw(void 0,e,void 0,o,l,v,M);if(S=this.body.draw(f,n,x,!1,o,v,l),A=!1,!r)for(const{td:t,metadata:e}of S.tds)k.push([(null==c?void 0:c.th)||t,(null==c?void 0:c.metadata)||e,t||(null==c?void 0:c.th)]);const s=this._column_sizes.indices[M+Math.floor(v)];var E;if(x.viewport_width+=s||(null==c||null===(E=c.th)||void 0===E?void 0:E.offsetWidth)||S.tds.reduce(((t,e)=>{var n;return t+(null===(n=e.td)||void 0===n?void 0:n.offsetWidth)}),0),x.row_height=x.row_height||S.row_height,M++,t++,x.viewport_width-x.sub_cell_offset>u){var N;this.body.clean({ridx:(null===(N=S)||void 0===N?void 0:N.ridx)||0,cidx:M}),this.header.clean(),yield k,x.viewport_width=0;for(let[t]of k)x.viewport_width+=t.offsetWidth;if(x.viewport_width-x.sub_cell_offset>u)return}}this.body.clean({ridx:(null===(C=S)||void 0===C?void 0:C.ridx)||0,cidx:M}),this.header.clean(),yield k}finally{var V;this.body.clean({ridx:(null===(V=S)||void 0===V?void 0:V.ridx)||0,cidx:M}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}}const b=["both","horizontal","vertical","none"];document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",class extends f{constructor(){super(),this._column_sizes={auto:[],override:[],indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new _(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto=[],this._column_sizes.override=[],this._column_sizes.indices=[];for(let t=0;t<this.table_model.header.num_columns();t++){const e=this.table_model.header.get_column_header(t);e.style.minWidth="",e.style.maxWidth=""}}clear(){this.table_model=new _(this._table_clip,this._column_sizes,this)}addStyleListener(t){this._style_callbacks=this._style_callbacks.concat(t);let e=!0;return()=>{if(!e)return;e=!1;const n=this._style_callbacks=this._style_callbacks.slice(),r=n.indexOf(t);n.splice(r,1)}}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(e){if(void 0!==e){if(e instanceof HTMLElement)return t.get(e);if(e.row_header_x>=0){if(e.row_header_x<this._view_cache.config.row_pivots.length){const t=this.table_model.body._fetch_cell(e.y,e.row_header_x);return this.getMeta(t)}}else{if(!(e.column_header_y>=0))return this.getMeta(this.table_model.body._fetch_cell(e.dy,e.dx+this.table_model._row_headers_length));if(e.column_header_y<this._view_cache.config.column_pivots.length){const t=this.table_model.body._fetch_cell(e.column_header_y,e.y);return this.getMeta(t)}}}}getDrawFPS(){return function(){const t=performance.now(),e=t-a,n=r,o=1e3*i/e,l=i;return r=0,i=0,a=t,{avg:n,real_fps:o,virtual_fps:1e3/n,num_frames:l,elapsed:e}}()}async scrollToCell(t,e){if(!this._view_cache)return void console.warn("data listener not configured");const n=this._column_sizes.row_height||19,r=this._view_cache.config.column_pivots.length*n,i=(this._table_clip.offsetHeight-r)%n;let a=(this._virtual_panel.offsetHeight-i)/this._nrows;this.scrollTop=Math.ceil(a*e);let o=0;for(;t>0;)t--,o+=this._column_sizes.indices[t+this._view_cache.config.row_pivots.length]||60;this.scrollLeft=Math.ceil(o),await new Promise(requestAnimationFrame),await this.draw.flush()}setDataListener(t,{virtual_mode:e="both"}={}){console.assert(b.indexOf(e)>-1,`Unknown virtual_mode ${e};  valid options are "both" (default), "horizontal", "vertical" or "none"`),this._virtual_mode=e,this._invalid_schema=!0,this._view_cache={view:t,config:{row_pivots:[],column_pivots:[]},schema:{}},this._setup_virtual_scroll()}__noop_jsdoc_hints(){}})},8189:(t,e,n)=>{"use strict";t.exports=n.p+"789de0bb4194f2594ca2.wasm"},5505:(t,e,n)=>{"use strict";t.exports=n.p+"608d12450280dee98fbf.wasm"}},r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}return i.m=n,i.amdO={},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,n)=>(i.f[n](t,e),e)),[])),i.u=t=>t+".index.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="@finos/docs:",i.l=(n,r,a,o)=>{if(t[n])t[n].push(r);else{var l,c;if(void 0!==a)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var f=s[u];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+a){l=f;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",e+a),l.src=n),t[n]=[r];var d=(e,r)=>{l.onerror=l.onload=null,clearTimeout(h);var i=t[n];if(delete t[n],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((t=>t(r))),e)return e(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),c&&document.head.appendChild(l)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{i.b=document.baseURI||self.location.href;var t={179:0};i.f.j=(e,n)=>{var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,i)=>{r=t[e]=[n,i]}));n.push(r[2]=a);var o=i.p+i.u(e),l=new Error;i.l(o,(n=>{if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,r[1](l)}}),"chunk-"+e,e)}};var e=(e,n)=>{for(var r,a,[o,l,c]=n,s=0,u=[];s<o.length;s++)a=o[s],i.o(t,a)&&t[a]&&u.push(t[a][0]),t[a]=0;for(r in l)i.o(l,r)&&(i.m[r]=l[r]);for(c&&c(i),e&&e(n);u.length;)u.shift()()},n=self.webpackChunk_finos_docs=self.webpackChunk_finos_docs||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i(9505)})()}));
//# sourceMappingURL=index.js.map
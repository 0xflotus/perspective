"use strict";(self.webpackChunk_finos_perspective_docs=self.webpackChunk_finos_perspective_docs||[]).push([[163],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return c}});var i=n(7294),a=n.n(i);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=a().createContext({}),d=function(e){var t=a().useContext(o),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},m=function(e){var t=d(e.components);return a().createElement(o.Provider,{value:t},e.children)},u="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a().createElement(a().Fragment,{},t)}},v=a().forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=i,v=m["".concat(l,".").concat(u)]||m[u]||k[u]||r;return n?a().createElement(v,p(p({ref:t},o),{},{components:n})):a().createElement(v,p({ref:t},o))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=v;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[u]="string"==typeof e?e:i,l[1]=p;for(var o=2;o<r;o++)l[o]=n[o];return a().createElement.apply(null,l)}return a().createElement.apply(null,n)}v.displayName="MDXCreateElement"},6015:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return r},metadata:function(){return p},toc:function(){return o}});var i=n(7462),a=(n(7294),n(3905));const r={id:"perspective-viewer",title:"perspective-viewer API"},l="@finos/perspective-viewer",p={unversionedId:"obj/perspective-viewer",id:"obj/perspective-viewer",title:"perspective-viewer API",description:"Module for the `` custom element. This module has no (real)",source:"@site/docs/obj/perspective-viewer.md",sourceDirName:"obj",slug:"/obj/perspective-viewer",permalink:"/docs/obj/perspective-viewer",draft:!1,tags:[],version:"current",frontMatter:{id:"perspective-viewer",title:"perspective-viewer API"},sidebar:"tutorialSidebar",previous:{title:"perspective API",permalink:"/docs/obj/perspective"},next:{title:"ExprTK Function Reference",permalink:"/docs/obj/perspective-viewer-exprtk"}},s={},o=[{value:"Table of contents",id:"table-of-contents",level:2},{value:"Classes",id:"classes",level:3},{value:"Interfaces",id:"interfaces",level:3},{value:"Properties",id:"properties",level:3},{value:"Functions",id:"functions",level:3},{value:"Properties",id:"properties-1",level:2},{value:"default",id:"default",level:3},{value:"Functions",id:"functions-1",level:2},{value:"convert",id:"convert",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Hierarchy",id:"hierarchy",level:2},{value:"Implemented by",id:"implemented-by",level:2},{value:"Table of contents",id:"table-of-contents-1",level:2},{value:"Data Methods",id:"data-methods",level:3},{value:"Internal Methods",id:"internal-methods",level:3},{value:"Persistence Methods",id:"persistence-methods",level:3},{value:"Plugin Methods",id:"plugin-methods",level:3},{value:"UI Action Methods",id:"ui-action-methods",level:3},{value:"Util Methods",id:"util-methods",level:3},{value:"Data Methods",id:"data-methods-1",level:2},{value:"getTable",id:"gettable",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-1",level:4},{value:"getView",id:"getview",level:3},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-2",level:4},{value:"load",id:"load",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"Internal Methods",id:"internal-methods-1",level:2},{value:"unsafeGetModel",id:"unsafegetmodel",level:3},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"Persistence Methods",id:"persistence-methods-1",level:2},{value:"reset",id:"reset",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"restore",id:"restore",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"save",id:"save",level:3},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-8",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-9",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-10",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-11",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"Plugin Methods",id:"plugin-methods-1",level:2},{value:"getAllPlugins",id:"getallplugins",level:3},{value:"Returns",id:"returns-12",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"getPlugin",id:"getplugin",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-13",level:4},{value:"Defined in",id:"defined-in-13",level:4},{value:"UI Action Methods",id:"ui-action-methods-1",level:2},{value:"copy",id:"copy",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"Returns",id:"returns-14",level:4},{value:"Defined in",id:"defined-in-14",level:4},{value:"download",id:"download",level:3},{value:"Parameters",id:"parameters-11",level:4},{value:"Returns",id:"returns-15",level:4},{value:"Defined in",id:"defined-in-15",level:4},{value:"toggleConfig",id:"toggleconfig",level:3},{value:"Parameters",id:"parameters-12",level:4},{value:"Returns",id:"returns-16",level:4},{value:"Defined in",id:"defined-in-16",level:4},{value:"Util Methods",id:"util-methods-1",level:2},{value:"delete",id:"delete",level:3},{value:"Returns",id:"returns-17",level:4},{value:"Defined in",id:"defined-in-17",level:4},{value:"flush",id:"flush",level:3},{value:"Returns",id:"returns-18",level:4},{value:"Defined in",id:"defined-in-18",level:4},{value:"getEditPort",id:"geteditport",level:3},{value:"Returns",id:"returns-19",level:4},{value:"Defined in",id:"defined-in-19",level:4},{value:"notifyResize",id:"notifyresize",level:3},{value:"Parameters",id:"parameters-13",level:4},{value:"Returns",id:"returns-20",level:4},{value:"Defined in",id:"defined-in-20",level:4},{value:"resetThemes",id:"resetthemes",level:3},{value:"Parameters",id:"parameters-14",level:4},{value:"Returns",id:"returns-21",level:4},{value:"Defined in",id:"defined-in-21",level:4},{value:"restyleElement",id:"restyleelement",level:3},{value:"Returns",id:"returns-22",level:4},{value:"Defined in",id:"defined-in-22",level:4},{value:"setAutoSize",id:"setautosize",level:3},{value:"Parameters",id:"parameters-15",level:4},{value:"Returns",id:"returns-23",level:4},{value:"Defined in",id:"defined-in-23",level:4},{value:"setThrottle",id:"setthrottle",level:3},{value:"Parameters",id:"parameters-16",level:4},{value:"Returns",id:"returns-24",level:4},{value:"Defined in",id:"defined-in-24",level:4},{value:"Implemented by",id:"implemented-by-1",level:2},{value:"Table of contents",id:"table-of-contents-2",level:2},{value:"Accessors",id:"accessors",level:3},{value:"Methods",id:"methods",level:3},{value:"Accessors",id:"accessors-1",level:2},{value:"config_column_names",id:"config_column_names",level:3},{value:"Returns",id:"returns-25",level:4},{value:"Defined in",id:"defined-in-25",level:4},{value:"min_config_columns",id:"min_config_columns",level:3},{value:"Returns",id:"returns-26",level:4},{value:"Defined in",id:"defined-in-26",level:4},{value:"name",id:"name",level:3},{value:"Returns",id:"returns-27",level:4},{value:"Defined in",id:"defined-in-27",level:4},{value:"priority",id:"priority",level:3},{value:"Returns",id:"returns-28",level:4},{value:"Defined in",id:"defined-in-28",level:4},{value:"select_mode",id:"select_mode",level:3},{value:"Returns",id:"returns-29",level:4},{value:"Defined in",id:"defined-in-29",level:4},{value:"Methods",id:"methods-1",level:2},{value:"clear",id:"clear",level:3},{value:"Returns",id:"returns-30",level:4},{value:"Defined in",id:"defined-in-30",level:4},{value:"delete",id:"delete-1",level:3},{value:"Returns",id:"returns-31",level:4},{value:"Defined in",id:"defined-in-31",level:4},{value:"draw",id:"draw",level:3},{value:"Parameters",id:"parameters-17",level:4},{value:"Returns",id:"returns-32",level:4},{value:"Defined in",id:"defined-in-32",level:4},{value:"resize",id:"resize",level:3},{value:"Returns",id:"returns-33",level:4},{value:"Defined in",id:"defined-in-33",level:4},{value:"restore",id:"restore-1",level:3},{value:"Parameters",id:"parameters-18",level:4},{value:"Returns",id:"returns-34",level:4},{value:"Defined in",id:"defined-in-34",level:4},{value:"restyle",id:"restyle",level:3},{value:"Returns",id:"returns-35",level:4},{value:"Defined in",id:"defined-in-35",level:4},{value:"save",id:"save-1",level:3},{value:"Returns",id:"returns-36",level:4},{value:"Defined in",id:"defined-in-36",level:4},{value:"update",id:"update",level:3},{value:"Parameters",id:"parameters-19",level:4},{value:"Returns",id:"returns-37",level:4},{value:"Defined in",id:"defined-in-37",level:4}],d={toc:o};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"finosperspective-viewer"},"@finos/perspective-viewer"),(0,a.kt)("p",null,"Module for the ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," custom element. This module has no (real)\nexports, but importing it has a side effect: the ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerElement"),"class\nis registered as a custom element, after which it can be used as a standard DOM\nelement."),(0,a.kt)("p",null,"Though ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," is written mostly in Rust, the nature of\nWebAssembly's compilation makes it a dynamic module; in order to guarantee that\nthe Custom Elements extension methods are registered synchronously with this\npackage's import, we need perform said registration within this wrapper module.\nAs a result, the API methods of the Custom Elements are all ",(0,a.kt)("inlineCode",{parentName:"p"},"async")," (as they\nmust await the wasm module instance)."),(0,a.kt)("p",null,"The documentation in this module defines the instance structure of a\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," DOM object instantiated typically, through HTML or any\nrelevent DOM method e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},'document.createElement("perspective-viewer")')," or\n",(0,a.kt)("inlineCode",{parentName:"p"},'document.getElementsByTagName("perspective-viewer")'),"."),(0,a.kt)("h2",{id:"table-of-contents"},"Table of contents"),(0,a.kt)("h3",{id:"classes"},"Classes"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#HTMLPerspectiveViewerElement"},"HTMLPerspectiveViewerElement")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#HTMLPerspectiveViewerPluginElement"},"HTMLPerspectiveViewerPluginElement"))),(0,a.kt)("h3",{id:"interfaces"},"Interfaces"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#IPerspectiveViewerElement"},"IPerspectiveViewerElement")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#IPerspectiveViewerPlugin"},"IPerspectiveViewerPlugin"))),(0,a.kt)("h3",{id:"properties"},"Properties"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#default"},"default"))),(0,a.kt)("h3",{id:"functions"},"Functions"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#convert"},"convert"))),(0,a.kt)("h2",{id:"properties-1"},"Properties"),(0,a.kt)("h3",{id:"default"},"default"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"default"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"Object")),(0,a.kt)("h2",{id:"functions-1"},"Functions"),(0,a.kt)("h3",{id:"convert"},"convert"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"convert"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"old"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Record"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"unknown"),">"," ","|","\n",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"A migration utility for ",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer")," and\n",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-workspace")," persisted state objects. If you have an\napplication which persists tokens returned by the ",(0,a.kt)("inlineCode",{parentName:"p"},".save()")," method of a\nPerspective Custom Element, and you want to upgrade Perspective to the latest\nversion, this module is for you! You know who you are!"),(0,a.kt)("p",null,"Say you have a ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," Custom Element from\n",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer>=0.8.3"),", and have persisted an arbitrary persistence\ntoken object:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const old_elem = document.querySelector("perspective-viewer");\nconst old_token = await old_elem.save();\n')),(0,a.kt)("p",null,"To migrate this token to the version of ",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-migrate")," itself:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'import {convert} from "@finos/perspective-viewer`;\n\n// ...\n\nconst new_elem = document.querySelector("perspective-viewer");\nconst new_token = convert(old_token);\nawait new_elem.restore(new_token);\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"convert")," can also be imported in node for converting persisted tokens outside\nthe browser."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const { convert } = require("@finos/perspective-viewer/dist/cjs/migrate.js");\n')),(0,a.kt)("h4",{id:"parameters"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"old")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"ArrayBuffer")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"Record"),"<",(0,a.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"unknown"),">"),(0,a.kt)("td",{parentName:"tr",align:"left"},"the layout to convert, in ",(0,a.kt)("inlineCode",{parentName:"td"},"<perspective-viewer>")," or ",(0,a.kt)("inlineCode",{parentName:"td"},"<perspective-workspace>")," format.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"options")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"PerspectiveConvertOptions")),(0,a.kt)("td",{parentName:"tr",align:"left"},"a ",(0,a.kt)("inlineCode",{parentName:"td"},"PerspectiveConvertOptions")," object specifying the convert options for this call.")))),(0,a.kt)("h4",{id:"returns"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Record"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"unknown"),">"," ","|"," ",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"a layout for either ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-workspace>"),", updated\nto the perspective version of this script's package."),(0,a.kt)("h4",{id:"defined-in"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/migrate.ts#L52"},"rust/perspective-viewer/src/ts/migrate.ts:52")),(0,a.kt)("h1",{id:"interface-iperspectiveviewerelement"},"Interface: IPerspectiveViewerElement"),(0,a.kt)("p",null,"The Custom Elements implementation for ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),", as well at its\nAPI. ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerElement")," should not be constructed directly (like its\nparent class ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement"),"); instead, use ",(0,a.kt)("inlineCode",{parentName:"p"},"document.createElement()")," or declare\nyour ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," element in HTML. Once instantiated,\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," works just like a standard ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement"),", with a few\nextra perspective-specific methods."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.createElement("perspective-viewer");\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'document.body.innerHTML = `\n    <perspective-viewer id="viewer"></perspective-viewer>\n`;\nconst viewer = document.body.querySelector("#viewer");\n')),(0,a.kt)("h2",{id:"hierarchy"},"Hierarchy"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"IPerspectiveViewerElement"))),(0,a.kt)("p",{parentName:"li"},"\u21b3 ",(0,a.kt)("a",{parentName:"p",href:"#%60HTMLPerspectiveViewerElement%60"},(0,a.kt)("inlineCode",{parentName:"a"},"HTMLPerspectiveViewerElement"))))),(0,a.kt)("h2",{id:"implemented-by"},"Implemented by"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#%60HTMLPerspectiveViewerElement%60"},(0,a.kt)("inlineCode",{parentName:"a"},"HTMLPerspectiveViewerElement")))),(0,a.kt)("h2",{id:"table-of-contents-1"},"Table of contents"),(0,a.kt)("h3",{id:"data-methods"},"Data Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#gettable"},"getTable")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#getview"},"getView")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#load"},"load"))),(0,a.kt)("h3",{id:"internal-methods"},"Internal Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#unsafegetmodel"},"unsafeGetModel"))),(0,a.kt)("h3",{id:"persistence-methods"},"Persistence Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#reset"},"reset")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#restore"},"restore")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#save"},"save"))),(0,a.kt)("h3",{id:"plugin-methods"},"Plugin Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#getallplugins"},"getAllPlugins")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#getplugin"},"getPlugin"))),(0,a.kt)("h3",{id:"ui-action-methods"},"UI Action Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#copy"},"copy")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#download"},"download")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#toggleconfig"},"toggleConfig"))),(0,a.kt)("h3",{id:"util-methods"},"Util Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#delete"},"delete")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#flush"},"flush")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#geteditport"},"getEditPort")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#notifyresize"},"notifyResize")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#resetthemes"},"resetThemes")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#restyleelement"},"restyleElement")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#setautosize"},"setAutoSize")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#setthrottle"},"setThrottle"))),(0,a.kt)("h2",{id:"data-methods-1"},"Data Methods"),(0,a.kt)("h3",{id:"gettable"},"getTable"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getTable"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"wait_for_table?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"Table"),">"),(0,a.kt)("p",null,"Returns the ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.Table()")," which was supplied to ",(0,a.kt)("inlineCode",{parentName:"p"},"load()")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Share a ",(0,a.kt)("inlineCode",{parentName:"p"},"Table")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewers = document.querySelectorAll("perspective-viewer");\nconst [viewer1, viewer2] = Array.from(viewers);\nconst table = await viewer1.getTable();\nawait viewer2.load(table);\n')),(0,a.kt)("h4",{id:"parameters-1"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"wait_for_table?")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"boolean")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Whether to await ",(0,a.kt)("inlineCode",{parentName:"td"},"load()")," if it has not yet been invoked, or fail immediately.")))),(0,a.kt)("h4",{id:"returns-1"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"Table"),">"),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise")," which resolves to a ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.Table")),(0,a.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L121"},"rust/perspective-viewer/src/ts/viewer.ts:121")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"getview"},"getView"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getView"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"View"),">"),(0,a.kt)("p",null,"Returns the underlying ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.View")," currently configured for this\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),". Because ownership of the ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.View")," is\nmainainted by the ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," it was created by, this ",(0,a.kt)("inlineCode",{parentName:"p"},"View")," may\nbecome deleted (invalidated by calling ",(0,a.kt)("inlineCode",{parentName:"p"},"delete()"),") at any time - specifically,\nit will be deleted whenever the ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewConfig")," changes. Because of\nthis, when using this API, prefer calling ",(0,a.kt)("inlineCode",{parentName:"p"},"getView()")," repeatedly over caching\nthe returned ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.View"),", especially in ",(0,a.kt)("inlineCode",{parentName:"p"},"async")," contexts."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Collapse grid to root"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst view = await viewer.getView();\nawait view.set_depth(0);\n')),(0,a.kt)("h4",{id:"returns-2"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"View"),">"),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise")," which ressolves to a ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.View"),"."),(0,a.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L142"},"rust/perspective-viewer/src/ts/viewer.ts:142")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"load"},"load"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"load"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"table"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Load a ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.Table"),". If ",(0,a.kt)("inlineCode",{parentName:"p"},"load")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"update")," have already been called on\nthis element, its internal ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.Table")," will ",(0,a.kt)("em",{parentName:"p"},"not")," be deleted, but it\nwill bed de-referenced by this ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Load perspective.table"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const my_viewer = document.getElementById("#my_viewer");\nconst tbl = perspective.table("x,y\\n1,a\\n2,b");\nmy_viewer.load(tbl);\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Load Promise","<","perspective.table",">"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const my_viewer = document.getElementById("#my_viewer");\nconst tbl = perspective.table("x,y\\n1,a\\n2,b");\nmy_viewer.load(tbl);\n')),(0,a.kt)("h4",{id:"parameters-2"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"table")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"Table")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"td"},"Table"),">")))),(0,a.kt)("h4",{id:"returns-3"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"A promise which resolves once the data is loaded, a ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.View")," has been\ncreated, and the active plugin has rendered."),(0,a.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L63"},"rust/perspective-viewer/src/ts/viewer.ts:63")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"internal-methods-1"},"Internal Methods"),(0,a.kt)("h3",{id:"unsafegetmodel"},"unsafeGetModel"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"unsafeGetModel"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"Get the raw pointer to this ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," WASM model, such that it may\nbe passed back to WASM function calls that take a ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerElement")," as\nan argument."),(0,a.kt)("h4",{id:"returns-4"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"A pointer to this model"),(0,a.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L424"},"rust/perspective-viewer/src/ts/viewer.ts:424")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"persistence-methods-1"},"Persistence Methods"),(0,a.kt)("h3",{id:"reset"},"reset"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"reset"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"all"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Reset's this element's view state and attributes to default. Does not delete\nthis element's ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.table")," or otherwise modify the data state."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nawait viewer.reset();\n')),(0,a.kt)("h4",{id:"parameters-3"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"all")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"any")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Should ",(0,a.kt)("inlineCode",{parentName:"td"},"expressions")," param be reset as well, defaults to")))),(0,a.kt)("h4",{id:"returns-5"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L247"},"rust/perspective-viewer/src/ts/viewer.ts:247")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"restore"},"restore"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"restore"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"config"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Restore this element to a state as generated by a reciprocal call to ",(0,a.kt)("inlineCode",{parentName:"p"},"save"),". In\n",(0,a.kt)("inlineCode",{parentName:"p"},"json")," (default) format, ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig"),"'s fields have specific\nsemantics:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"When a key is missing, this field is ignored; ",(0,a.kt)("inlineCode",{parentName:"li"},"<perspective-viewer>")," will\nmaintain whatever settings for this field is currently applied."),(0,a.kt)("li",{parentName:"ul"},"When the key is supplied, but the value is ",(0,a.kt)("inlineCode",{parentName:"li"},"undefined"),", the field is reset\nto its default value for this current ",(0,a.kt)("inlineCode",{parentName:"li"},"View"),", i.e. the state it would be in\nafter ",(0,a.kt)("inlineCode",{parentName:"li"},"load()")," resolves."),(0,a.kt)("li",{parentName:"ul"},"When the key is defined to a value, the value is applied for this field.")),(0,a.kt)("p",null,"This behavior is convenient for explicitly controlling current vs desired UI\nstate in a single request, but it does make it a bit inconvenient to use\n",(0,a.kt)("inlineCode",{parentName:"p"},"restore()")," to reset a ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," to default as you must do so\nexplicitly for each key; for this case, use ",(0,a.kt)("inlineCode",{parentName:"p"},"reset()")," instead of restore."),(0,a.kt)("p",null,"As noted in ",(0,a.kt)("inlineCode",{parentName:"p"},"save()"),", this configuration state does not include the ",(0,a.kt)("inlineCode",{parentName:"p"},"Table")," or\nits ",(0,a.kt)("inlineCode",{parentName:"p"},"Schema"),". In order for ",(0,a.kt)("inlineCode",{parentName:"p"},"restore()")," to work correctly, it must be called on a\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," that has a\n",(0,a.kt)("inlineCode",{parentName:"p"},"Table already "),"load()",(0,a.kt)("inlineCode",{parentName:"p"},"-ed, with the same (or a type-compatible superset) "),"Schema`.\nIt does not need have the same rows, or even be populated."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Restore a viewer from ",(0,a.kt)("inlineCode",{parentName:"p"},"localStorage")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst token = localStorage.getItem("viewer_state");\nawait viewer.restore(token);\n')),(0,a.kt)("h4",{id:"parameters-4"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"config")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"PerspectiveViewerConfig")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"ArrayBuffer")),(0,a.kt)("td",{parentName:"tr",align:"left"},"returned by ",(0,a.kt)("inlineCode",{parentName:"td"},"save()"),". This can be any format returned by ",(0,a.kt)("inlineCode",{parentName:"td"},"save()"),"; the specific deserialization is chosen by ",(0,a.kt)("inlineCode",{parentName:"td"},"typeof config"),".")))),(0,a.kt)("h4",{id:"returns-6"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"A promise which resolves when the changes have been applied and rendered."),(0,a.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L181"},"rust/perspective-viewer/src/ts/viewer.ts:181")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"save"},"save"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"save"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig"),">"),(0,a.kt)("p",null,"Serialize this element's attribute/interaction state, but ",(0,a.kt)("em",{parentName:"p"},"not")," the\n",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.Table")," or its ",(0,a.kt)("inlineCode",{parentName:"p"},"Schema"),". ",(0,a.kt)("inlineCode",{parentName:"p"},"save()")," is designed to be used in\nconjunction with ",(0,a.kt)("inlineCode",{parentName:"p"},"restore()")," to persist user settings and bookmarks, but the\n",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig")," object returned in ",(0,a.kt)("inlineCode",{parentName:"p"},"json")," format can also be written\nby hand quite easily, which is useful for authoring pre-conceived configs."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Save a viewer to ",(0,a.kt)("inlineCode",{parentName:"p"},"localStorage")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst token = await viewer.save("string");\nlocalStorage.setItem("viewer_state", token);\n')),(0,a.kt)("h4",{id:"returns-7"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig"),">"),(0,a.kt)("p",null,"a serialized element in the chosen format."),(0,a.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L205"},"rust/perspective-viewer/src/ts/viewer.ts:205")),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"save"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"format"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig"),">"),(0,a.kt)("h4",{id:"parameters-5"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"format")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},'"json"'))))),(0,a.kt)("h4",{id:"returns-8"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig"),">"),(0,a.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L206"},"rust/perspective-viewer/src/ts/viewer.ts:206")),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"save"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"format"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),">"),(0,a.kt)("h4",{id:"parameters-6"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"format")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},'"arraybuffer"'))))),(0,a.kt)("h4",{id:"returns-9"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),">"),(0,a.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L207"},"rust/perspective-viewer/src/ts/viewer.ts:207")),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"save"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"format"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,a.kt)("h4",{id:"parameters-7"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"format")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},'"string"'))))),(0,a.kt)("h4",{id:"returns-10"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,a.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L208"},"rust/perspective-viewer/src/ts/viewer.ts:208")),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"save"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"format?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig")," ","|","\n",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),">"),(0,a.kt)("h4",{id:"parameters-8"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"format?")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},'"string"')," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},'"json"')," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},'"arraybuffer"'))))),(0,a.kt)("h4",{id:"returns-11"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"p"},"PerspectiveViewerConfig")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"p"},"ArrayBuffer"),">"),(0,a.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L209"},"rust/perspective-viewer/src/ts/viewer.ts:209")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"plugin-methods-1"},"Plugin Methods"),(0,a.kt)("h3",{id:"getallplugins"},"getAllPlugins"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getAllPlugins"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement"),"[]"),(0,a.kt)("p",null,"Get all plugin custom element instances, in order of registration."),(0,a.kt)("p",null,"If no plugins have been registered (via ",(0,a.kt)("inlineCode",{parentName:"p"},"registerPlugin()"),"), calling\n",(0,a.kt)("inlineCode",{parentName:"p"},"getAllPlugins()")," will cause ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective-viewer-plugin")," to be registered as a\nside effect."),(0,a.kt)("h4",{id:"returns-12"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement"),"[]"),(0,a.kt)("p",null,"An ",(0,a.kt)("inlineCode",{parentName:"p"},"Array")," of the plugin instances for this ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"."),(0,a.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L414"},"rust/perspective-viewer/src/ts/viewer.ts:414")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"getplugin"},"getPlugin"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getPlugin"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"name?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement"),">"),(0,a.kt)("p",null,"Get the currently active plugin custom element instance, or a specific named\ninstance if requested. ",(0,a.kt)("inlineCode",{parentName:"p"},"getPlugin(name)")," does not activate the plugin requested,\nso if this plugin is not active the returned ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement")," will not have a\n",(0,a.kt)("inlineCode",{parentName:"p"},"parentElement"),"."),(0,a.kt)("p",null,"If no plugins have been registered (via ",(0,a.kt)("inlineCode",{parentName:"p"},"registerPlugin()"),"), calling\n",(0,a.kt)("inlineCode",{parentName:"p"},"getPlugin()")," will cause ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective-viewer-plugin")," to be registered as a side\neffect."),(0,a.kt)("h4",{id:"parameters-9"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"name?")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"string")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Optionally a specific plugin name, defaulting to the current active plugin.")))),(0,a.kt)("h4",{id:"returns-13"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement"),">"),(0,a.kt)("p",null,"The active or requested plugin instance."),(0,a.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L401"},"rust/perspective-viewer/src/ts/viewer.ts:401")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"ui-action-methods-1"},"UI Action Methods"),(0,a.kt)("h3",{id:"copy"},"copy"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"copy"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"flat"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Copies this element's view data (as a CSV) to the clipboard. This method must be\ncalled from an event handler, subject to the browser's restrictions on clipboard\naccess. See\n",(0,a.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/clipboard-apis/#allow-read-clipboard"},"https://www.w3.org/TR/clipboard-apis/#allow-read-clipboard"),"."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst button = document.querySelector("button");\nbutton.addEventListener("click", async () => {\n    await viewer.copy();\n});\n')),(0,a.kt)("h4",{id:"parameters-10"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"flat")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"boolean")),(0,a.kt)("td",{parentName:"tr",align:"left"},'Whether to use the element\'s current view config, or to use a default "flat" view.')))),(0,a.kt)("h4",{id:"returns-14"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-14"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L287"},"rust/perspective-viewer/src/ts/viewer.ts:287")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"download"},"download"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"download"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"flat"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Download this element's data as a CSV file."),(0,a.kt)("h4",{id:"parameters-11"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"flat")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"boolean")),(0,a.kt)("td",{parentName:"tr",align:"left"},'Whether to use the element\'s current view config, or to use a default "flat" view.')))),(0,a.kt)("h4",{id:"returns-15"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-15"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L267"},"rust/perspective-viewer/src/ts/viewer.ts:267")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"toggleconfig"},"toggleConfig"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"toggleConfig"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"force?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Opens/closes the element's config menu, equivalent to clicking the settings\nbutton in the UI. This method is equivalent to\n",(0,a.kt)("inlineCode",{parentName:"p"},"viewer.restore({settings: force})")," when ",(0,a.kt)("inlineCode",{parentName:"p"},"force")," is present, but ",(0,a.kt)("inlineCode",{parentName:"p"},"restore()"),"\ncannot toggle as ",(0,a.kt)("inlineCode",{parentName:"p"},"toggleConfig()")," can, you would need to first read the settings\nstate from ",(0,a.kt)("inlineCode",{parentName:"p"},"save()")," otherwise."),(0,a.kt)("p",null,"Calling ",(0,a.kt)("inlineCode",{parentName:"p"},"toggleConfig()")," may be delayed if an async render is currently in\nprocess, and it may only partially render the UI if ",(0,a.kt)("inlineCode",{parentName:"p"},"load()")," has not yet\nresolved."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"await viewer.toggleConfig();\n")),(0,a.kt)("h4",{id:"parameters-12"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"force?")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"boolean")),(0,a.kt)("td",{parentName:"tr",align:"left"},'If supplied, explicitly set the config state to "open" (',(0,a.kt)("inlineCode",{parentName:"td"},"true"),') or "closed" (',(0,a.kt)("inlineCode",{parentName:"td"},"false"),").")))),(0,a.kt)("h4",{id:"returns-16"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-16"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L384"},"rust/perspective-viewer/src/ts/viewer.ts:384")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"util-methods-1"},"Util Methods"),(0,a.kt)("h3",{id:"delete"},"delete"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"delete"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Deletes this element and clears it's internal state (but not its user state).\nThis (or the underlying ",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.view"),"'s equivalent method) must be called\nin order for its memory to be reclaimed, as well as the reciprocal method on the\n",(0,a.kt)("inlineCode",{parentName:"p"},"perspective.table")," which this viewer is bound to."),(0,a.kt)("h4",{id:"returns-17"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-17"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L258"},"rust/perspective-viewer/src/ts/viewer.ts:258")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"flush"},"flush"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"flush"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Flush any pending modifications to this ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),". Since\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"'s API is almost entirely ",(0,a.kt)("inlineCode",{parentName:"p"},"async"),", it may take some\nmilliseconds before any method call such as ",(0,a.kt)("inlineCode",{parentName:"p"},"restore()")," affects the rendered\nelement. If you want to make sure any invoked method which affects the rendered\nhas had its results rendered, call and await ",(0,a.kt)("inlineCode",{parentName:"p"},"flush()")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Flush an unawaited ",(0,a.kt)("inlineCode",{parentName:"p"},"restore()")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nviewer.restore({ group_by: ["State"] });\nawait viewer.flush();\nconsole.log("Viewer has been rendered with a pivot!");\n')),(0,a.kt)("h4",{id:"returns-18"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"A promise which resolves when the current pending state changes have been\napplied and rendered."),(0,a.kt)("h4",{id:"defined-in-18"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L232"},"rust/perspective-viewer/src/ts/viewer.ts:232")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"geteditport"},"getEditPort"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getEditPort"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"Gets the edit port, the port number for which ",(0,a.kt)("inlineCode",{parentName:"p"},"Table")," updates from this\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," are generated. This port number will be present in the\noptions object for a ",(0,a.kt)("inlineCode",{parentName:"p"},"View.on_update()")," callback for any update which was\noriginated by the ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>"),"/user, which can be used to distinguish\nserver-originated updates from user edits."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nconst editport = await viewer.getEditPort();\nconst table = await viewer.getTable();\nconst view = await table.view();\nview.on_update((obj) => {\n    if ((obj.port_id = editport)) {\n        console.log("User edit detected");\n    }\n});\n')),(0,a.kt)("h4",{id:"returns-19"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"A promise which resolves to the current edit port."),(0,a.kt)("h4",{id:"defined-in-19"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L346"},"rust/perspective-viewer/src/ts/viewer.ts:346")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"notifyresize"},"notifyResize"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"notifyResize"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"force"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Redraw this ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," and plugin when its dimensions or visibility\nhas been updated. By default, ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," will auto-size when its own\ndimensions change, so this method need not be called; when disabled via\n",(0,a.kt)("inlineCode",{parentName:"p"},"setAutoSize(false)")," however, this method ",(0,a.kt)("em",{parentName:"p"},"must")," be called, and will not respond\nto dimension or style changes to its parent container otherwise.\n",(0,a.kt)("inlineCode",{parentName:"p"},"notifyResize()")," does not recalculate the current ",(0,a.kt)("inlineCode",{parentName:"p"},"View"),", but all plugins will\nre-request the data window (which itself may be smaller or larger due to\nresize)."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Bind ",(0,a.kt)("inlineCode",{parentName:"p"},"notfyResize()")," to browser dimensions"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nviewer.setAutoSize(false);\nwindow.addEventListener("resize", () => viewer.notifyResize());\n')),(0,a.kt)("h4",{id:"parameters-13"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"force")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"any")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Whether to re-render, even if the dimenions have not changed. When set to ",(0,a.kt)("inlineCode",{parentName:"td"},"false")," and auto-size is enabled (the defaults), calling this method will automatically disable auto-size.")))),(0,a.kt)("h4",{id:"returns-20"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise<void>")," which resolves when this resize event has finished rendering."),(0,a.kt)("h4",{id:"defined-in-20"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L88"},"rust/perspective-viewer/src/ts/viewer.ts:88")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"resetthemes"},"resetThemes"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"resetThemes"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"themes?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Sets the theme names available via the ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," status bar UI.\nTypically these will be auto-detected simply by including the theme ",(0,a.kt)("inlineCode",{parentName:"p"},".css")," in a\n",(0,a.kt)("inlineCode",{parentName:"p"},"<link>")," tag; however, auto-detection can fail if the ",(0,a.kt)("inlineCode",{parentName:"p"},"<link>")," tag is not a\nsame-origin request due to CORS. For servers configured to allow cross-origin\nrequests, you can use the\n",(0,a.kt)("a",{parentName:"p",href:"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-crossorigin"},(0,a.kt)("inlineCode",{parentName:"a"},"crossorigin")," attribute"),"\nto enable detection, e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},'<link crossorigin="anonymous" .. >'),". If for whatever\nreason auto-detection still fails, you may set the themes via this method. Note\nthe theme ",(0,a.kt)("inlineCode",{parentName:"p"},".css")," must still be loaded in this case - the ",(0,a.kt)("inlineCode",{parentName:"p"},"resetThemes()")," method\nonly lets the ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," know what theme names are available."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const viewer = document.querySelector("perspective-viewer");\nawait viewer.resetThemes(["Material Light", "Material Dark"]);\n')),(0,a.kt)("h4",{id:"parameters-14"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"themes?")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"string"),"[]"),(0,a.kt)("td",{parentName:"tr",align:"left"},"A list of theme names to use, or auto-detect from document's stylesheets if ",(0,a.kt)("inlineCode",{parentName:"td"},"undefined"),".")))),(0,a.kt)("h4",{id:"returns-21"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-21"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L322"},"rust/perspective-viewer/src/ts/viewer.ts:322")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"restyleelement"},"restyleElement"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"restyleElement"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Restyles the elements and to pick up any style changes. While most of\nperspective styling is plain CSS and can be updated at any time, some CSS rules\nare read and cached, e.g. the series colors for ",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer-d3fc"),"\nwhich are read from CSS then reapplied as SVG and Canvas attributes."),(0,a.kt)("h4",{id:"returns-22"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-22"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L298"},"rust/perspective-viewer/src/ts/viewer.ts:298")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"setautosize"},"setAutoSize"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"setAutoSize"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"autosize"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"void")),(0,a.kt)("p",null,"Determines the auto-size behavior. When ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," (the default), this element will\nre-render itself whenever its own dimensions change, utilizing a\n",(0,a.kt)("inlineCode",{parentName:"p"},"ResizeObserver"),"; when ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),", you must explicitly call ",(0,a.kt)("inlineCode",{parentName:"p"},"notifyResize()")," when\nthe element's dimensions have changed."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Disable auto-size"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"await viewer.setAutoSize(false);\n")),(0,a.kt)("h4",{id:"parameters-15"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"autosize")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"any")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Whether to re-render when this element's dimensions change.")))),(0,a.kt)("h4",{id:"returns-23"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"void")),(0,a.kt)("h4",{id:"defined-in-23"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L104"},"rust/perspective-viewer/src/ts/viewer.ts:104")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"setthrottle"},"setThrottle"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"setThrottle"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"value?"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"void")),(0,a.kt)("p",null,"Determines the render throttling behavior. Can be an integer, for millisecond\nwindow to throttle render event; or, if ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined"),", will try to determine the\noptimal throttle time from this component's render framerate."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))," Limit FPS to 1 frame per second"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"await viewer.setThrottle(1000);\n")),(0,a.kt)("h4",{id:"parameters-16"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"value?")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"number")),(0,a.kt)("td",{parentName:"tr",align:"left"},"an optional throttle rate in milliseconds (integer). If not supplied, adaptive throttling is calculated from the average plugin render time.")))),(0,a.kt)("h4",{id:"returns-24"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"void")),(0,a.kt)("h4",{id:"defined-in-24"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/viewer.ts#L363"},"rust/perspective-viewer/src/ts/viewer.ts:363")),(0,a.kt)("h1",{id:"interface-iperspectiveviewerplugin"},"Interface: IPerspectiveViewerPlugin"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"IPerspectiveViewerPlugin")," interface defines the necessary API for a\n",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," plugin, which also must be an ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLElement")," via the\nCustom Elements API or otherwise. Rather than implement this API from scratch\nhowever, the simplest way is to inherit from ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer-plugin>"),",\nwhich implements ",(0,a.kt)("inlineCode",{parentName:"p"},"IPerspectiveViewerPlugin")," with non-offensive default\nimplementations, where only the ",(0,a.kt)("inlineCode",{parentName:"p"},"draw()")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"name()")," methods need be overridden\nto get started with a simple plugin."),(0,a.kt)("p",null,"Note that plugins are frozen once a ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," has been\ninstantiated, so generally new plugin code must be executed at the module level\n(if packaged as a library), or during application init to ensure global\navailability of a plugin."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'const BasePlugin = customElements.get("perspective-viewer-plugin");\nclass MyPlugin extends BasePlugin {\n    get name() {\n        return "My Plugin";\n    }\n    async draw(view) {\n        const count = await view.num_rows();\n        this.innerHTML = `View has ${count} rows`;\n    }\n}\n\ncustomElements.define("my-plugin", MyPlugin);\nconst Viewer = customElements.get("perspective-viewer");\nViewer.registerPlugin("my-plugin");\n')),(0,a.kt)("h2",{id:"implemented-by-1"},"Implemented by"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#%60HTMLPerspectiveViewerPluginElement%60"},(0,a.kt)("inlineCode",{parentName:"a"},"HTMLPerspectiveViewerPluginElement")))),(0,a.kt)("h2",{id:"table-of-contents-2"},"Table of contents"),(0,a.kt)("h3",{id:"accessors"},"Accessors"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#config_column_names"},"config_column_names")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#min_config_columns"},"min_config_columns")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#name"},"name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#priority"},"priority")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#select_mode"},"select_mode"))),(0,a.kt)("h3",{id:"methods"},"Methods"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#clear"},"clear")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#delete"},"delete")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#draw"},"draw")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#resize"},"resize")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#restore"},"restore")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#restyle"},"restyle")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#save"},"save")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#update"},"update"))),(0,a.kt)("h2",{id:"accessors-1"},"Accessors"),(0,a.kt)("h3",{id:"config_column_names"},"config_column_names"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"get")," ",(0,a.kt)("strong",{parentName:"p"},"config_column_names"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"string"),"[]"),(0,a.kt)("p",null,"The named column labels, if desired. Named columns behave differently in\ndrag/drop mode than unnamed columns, having replace/swap behavior rather than\ninsert. If provided, the length of ",(0,a.kt)("inlineCode",{parentName:"p"},"config_column_names")," ",(0,a.kt)("em",{parentName:"p"},"must")," be\n",(0,a.kt)("inlineCode",{parentName:"p"},">= min_config_columns"),", as this is assumed by the drag/drop logic."),(0,a.kt)("h4",{id:"returns-25"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"string"),"[]"),(0,a.kt)("h4",{id:"defined-in-25"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L80"},"rust/perspective-viewer/src/ts/plugin.ts:80")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"min_config_columns"},"min_config_columns"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"get")," ",(0,a.kt)("strong",{parentName:"p"},"min_config_columns"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"The minimum number of columns required for this plugin to operate. This mostly\naffects drag/drop and column remove button behavior, preventing the use from\napplying configs which violate this min."),(0,a.kt)("p",null,"While this option can technically be ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," (as in the case of\n",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer-datagrid"),"), doing so currently has nearly identical\nbehavior to 1."),(0,a.kt)("h4",{id:"returns-26"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("h4",{id:"defined-in-26"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L71"},"rust/perspective-viewer/src/ts/plugin.ts:71")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"name"},"name"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"get")," ",(0,a.kt)("strong",{parentName:"p"},"name"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"The name for this plugin, which is used as both it's unique key for use as a\nparameter for the ",(0,a.kt)("inlineCode",{parentName:"p"},"plugin")," field of a ",(0,a.kt)("inlineCode",{parentName:"p"},"ViewerConfig"),", and as the display name\nfor this plugin in the ",(0,a.kt)("inlineCode",{parentName:"p"},"<perspective-viewer>")," UI."),(0,a.kt)("h4",{id:"returns-27"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("h4",{id:"defined-in-27"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L52"},"rust/perspective-viewer/src/ts/plugin.ts:52")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"priority"},"priority"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"get")," ",(0,a.kt)("strong",{parentName:"p"},"priority"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"The load priority of the plugin. If the plugin shares priority with another, the\nfirst to load has a higher priority."),(0,a.kt)("p",null,"A larger number has a higher priority."),(0,a.kt)("p",null,"The plugin with the highest priority will be loaded by default by the\nPerspective viewer. If you would like to instead begin with a lower priority\nplugin, choose it explicitly with a ",(0,a.kt)("inlineCode",{parentName:"p"},"HTMLPerspectiveViewerPluginElement.restore"),"\ncall."),(0,a.kt)("h4",{id:"returns-28"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("h4",{id:"defined-in-28"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L92"},"rust/perspective-viewer/src/ts/plugin.ts:92")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"select_mode"},"select_mode"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"get")," ",(0,a.kt)("strong",{parentName:"p"},"select_mode"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"Select mode determines how column add/remove buttons behave for this plugin.\n",(0,a.kt)("inlineCode",{parentName:"p"},'"select"')," mode exclusively selects the added column, removing other columns.\n",(0,a.kt)("inlineCode",{parentName:"p"},'"toggle"')," mode toggles the column on or off (dependent on column state),\nleaving existing columns alone."),(0,a.kt)("h4",{id:"returns-29"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("h4",{id:"defined-in-29"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L60"},"rust/perspective-viewer/src/ts/plugin.ts:60")),(0,a.kt)("h2",{id:"methods-1"},"Methods"),(0,a.kt)("h3",{id:"clear"},"clear"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"clear"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Clear this plugin, though it is up to the discretion of the plugin author to\ndetermine what this means. Defaults to resetting this element's ",(0,a.kt)("inlineCode",{parentName:"p"},"innerHTML"),", so\nbe sure to override if you want custom behavior."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'async clear(): Promise<void> {\n    this.innerHTML = "";\n}\n')),(0,a.kt)("h4",{id:"returns-30"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-30"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L136"},"rust/perspective-viewer/src/ts/plugin.ts:136")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"delete-1"},"delete"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"delete"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Free any resources acquired by this plugin and prepare to be deleted."),(0,a.kt)("h4",{id:"returns-31"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-31"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L171"},"rust/perspective-viewer/src/ts/plugin.ts:171")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"draw"},"draw"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"draw"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"view"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Render this plugin using the provided ",(0,a.kt)("inlineCode",{parentName:"p"},"View"),". While there is no provision to\ncancel a render in progress per se, calling a method on a ",(0,a.kt)("inlineCode",{parentName:"p"},"View")," which has been\ndeleted will throw an exception."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"async draw(view: perspective.View): Promise<void> {\n    const csv = await view.to_csv();\n    this.innerHTML = `<pre>${csv}</pre>`;\n}\n")),(0,a.kt)("h4",{id:"parameters-17"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"view")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"View"))))),(0,a.kt)("h4",{id:"returns-32"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-32"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L107"},"rust/perspective-viewer/src/ts/plugin.ts:107")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"resize"},"resize"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"resize"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Like ",(0,a.kt)("inlineCode",{parentName:"p"},"update()"),", but for when the dimensions of the plugin have changed and the\nunderlying data has not."),(0,a.kt)("h4",{id:"returns-33"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-33"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L142"},"rust/perspective-viewer/src/ts/plugin.ts:142")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"restore-1"},"restore"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"restore"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"config"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Restore this plugin to a state previously returned by ",(0,a.kt)("inlineCode",{parentName:"p"},"save()"),"."),(0,a.kt)("h4",{id:"parameters-18"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"config")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"any"))))),(0,a.kt)("h4",{id:"returns-34"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-34"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L166"},"rust/perspective-viewer/src/ts/plugin.ts:166")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"restyle"},"restyle"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"restyle"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Notify the plugin that the style environment has changed. Useful for plugins\nwhich read CSS styles via ",(0,a.kt)("inlineCode",{parentName:"p"},"window.getComputedStyle()"),"."),(0,a.kt)("h4",{id:"returns-35"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-35"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L148"},"rust/perspective-viewer/src/ts/plugin.ts:148")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"save-1"},"save"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"save"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,a.kt)("p",null,"Save this plugin's state to a JSON-serializable value. While this value can be\nanything, it should work reciprocally with ",(0,a.kt)("inlineCode",{parentName:"p"},"restore()")," to return this plugin's\nrenderer to the same state, though potentially with a different ",(0,a.kt)("inlineCode",{parentName:"p"},"View"),"."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"save()")," should be used for user-persistent settings that are data-agnostic, so\nthe user can have persistent view during refresh or reload. For example,\n",(0,a.kt)("inlineCode",{parentName:"p"},"@finos/perspective-viewer-d3fc")," uses ",(0,a.kt)("inlineCode",{parentName:"p"},"plugin_config")," to remember the\nuser-repositionable legend coordinates."),(0,a.kt)("h4",{id:"returns-36"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"any"),">"),(0,a.kt)("h4",{id:"defined-in-36"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L161"},"rust/perspective-viewer/src/ts/plugin.ts:161")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"update"},"update"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"update"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"view"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("p",null,"Draw under the assumption that the ",(0,a.kt)("inlineCode",{parentName:"p"},"ViewConfig")," has not changed since the\nprevious call to ",(0,a.kt)("inlineCode",{parentName:"p"},"draw()"),", but the underlying data has. Defaults to dispatch to\n",(0,a.kt)("inlineCode",{parentName:"p"},"draw()"),"."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"async update(view: perspective.View): Promise<void> {\n    return this.draw(view);\n}\n")),(0,a.kt)("h4",{id:"parameters-19"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"view")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"View"))))),(0,a.kt)("h4",{id:"returns-37"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-37"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/finos/perspective/blob/ab77f0a68/rust/perspective-viewer/src/ts/plugin.ts#L121"},"rust/perspective-viewer/src/ts/plugin.ts:121")))}m.isMDXComponent=!0}}]);